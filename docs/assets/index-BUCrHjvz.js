var Gi=Object.defineProperty;var zn=r=>{throw TypeError(r)};var Xi=(r,e,t)=>e in r?Gi(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var De=(r,e,t)=>Xi(r,typeof e!="symbol"?e+"":e,t),bo=(r,e,t)=>e.has(r)||zn("Cannot "+t);var b=(r,e,t)=>(bo(r,e,"read from private field"),t?t.call(r):e.get(r)),$=(r,e,t)=>e.has(r)?zn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),T=(r,e,t,o)=>(bo(r,e,"write to private field"),o?o.call(r,t):e.set(r,t),t),qr=(r,e,t)=>(bo(r,e,"access private method"),t);import{L as on,b as ye,C as Xe,M as Z,N as Zi,O as E,R as Mu,P as Ou,Q as Ki,S as Nu,w as Uu,U as Qi,l as rt,i as nn,G as es,e as Vt,V as rs,D as un,W as ts,f as V,h as z,s as oe,X as L,o as N,z as xe,F as Ze,x as Ke,c as Je,t as ae,a as Tt,q as Ot,y as Nt,Y as os,Z as ns,_ as us,$ as as,a0 as is}from"./vue-Cyx6SIIy.js";import{l as zu,D as an,a as Yu}from"./tools2-lgeZpPOr.js";import{l as Qe,z as Hu,Y as ju,F as qu,p as Wu,n as Vu,m as Ju,a as Jt,c as Gu}from"./tools1-DFG1XKPM.js";import{j as Xu}from"./jschardet-B-gmbDrM.js";import{a as A,l as Oe}from"./lodash-DR2CJvQY.js";import{s as ss,a as cs,b as ls,d as ds,c as fr,e as Ee,f as fs,g as hs,h as ps,i as gs,u as Ur,j as ms,k as _o,l as bs,m as _s,n as Zu,o as xs,p as ys,q as Yn,P as ks,T as vs,D as Cs,C as ws,r as Es}from"./primevue-3gQB9rZm.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const u of n)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const u={};return n.integrity&&(u.integrity=n.integrity),n.referrerPolicy&&(u.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?u.credentials="include":n.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(n){if(n.ep)return;n.ep=!0;const u=t(n);fetch(n.href,u)}})();const Mo="my-app-dark",Ku=on("darkMode",()=>{const r=ye(Mo),e=ye(!1),t=Xe(()=>`.${r.value}`),o=Xe(()=>document.documentElement.classList.contains(Mo)),n=()=>{document.documentElement.classList.add(r.value),e.value=!0},u=()=>{document.documentElement.classList.remove(r.value),e.value=!1};return{className:r,isOn:e,darkModeClass:t,isDarkMode:o,turnOn:n,turnOff:u,toggle:()=>{document.documentElement.classList.toggle(r.value),e.value=!e.value},turn:()=>{e.value?n():u()}}},{persist:{serializer:{deserialize:Qe.parse,serialize:Qe.stringify},pick:["isOn"]}}),Ss={locale:"en",fallbackLocale:"en",availableLocales:["en","zh"]},As={state:()=>A.cloneDeep(Ss),getters:{},actions:{setLocale(r,e){var t;r=(r??"").toLowerCase(),(t=this.availableLocales)!=null&&t.includes(r)||(r=this.locale),e!=null&&(e.value=r),this.locale=r}},persist:{serializer:{deserialize:Qe.parse,serialize:Qe.stringify}}},Ts=on("systemSettingsStore",As),Ds=Z({setup(){const r=Ku(),{turn:e}=r,t=Ts(),{setLocale:o}=t;return Zi(()=>{e(),o()}),()=>[E(Mu),E(ss),E(cs),E(ls)]}});window.toolPack={_:A,axios:Yu,clipboard:Gu,Dexie:an,jschardet:Xu,json5:Jt,JSON5:Jt,localforage:zu,lodash:A,Lodash:A,md5:Ju,nanoid:Vu,pako:Wu,saveAs:qu.saveAs,yaml:ju,zipson:Hu};window._=A;window.axios=Yu;window.clipboard=Gu;window.Dexie=an;window.jschardet=Xu;window.json5=Jt;window.JSON5=Jt;window.localforage=zu;window.lodash=A;window.Lodash=A;window.md5=Ju;window.nanoid=Vu;window.pako=Wu;window.saveAs=qu.saveAs;window.yaml=ju;window.zipson=Hu;const Rs=Z({setup(){return()=>E(Ds)}});var $s=(...r)=>ds(...r),Ps={transitionDuration:"{transition.duration}"},Bs={borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},Is={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},Fs={borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"},Ls={root:Ps,panel:Bs,header:Is,content:Fs},Ms={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},Os={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},Ns={padding:"{list.padding}",gap:"{list.gap}"},Us={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},zs={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},Ys={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Hs={borderRadius:"{border.radius.sm}"},js={padding:"{list.option.padding}"},qs={light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}},Ws={root:Ms,overlay:Os,list:Ns,option:Us,optionGroup:zs,dropdown:Ys,chip:Hs,emptyMessage:js,colorScheme:qs},Vs={width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},Js={size:"1rem"},Gs={borderColor:"{content.background}",offset:"-0.75rem"},Xs={width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},Zs={width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}},Ks={root:Vs,icon:Js,group:Gs,lg:Xs,xl:Zs},Qs={borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},ec={size:"0.5rem"},rc={fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},tc={fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},oc={fontSize:"1rem",minWidth:"2rem",height:"2rem"},nc={light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},uc={root:Qs,dot:ec,sm:rc,lg:tc,xl:oc,colorScheme:nc},ac={borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},ic={transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}},sc={primitive:ac,semantic:ic},cc={borderRadius:"{content.border.radius}"},lc={root:cc},dc={padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},fc={color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},hc={color:"{navigation.item.icon.color}"},pc={root:dc,item:fc,separator:hc},gc={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}",iconOnlyWidth:"2rem"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}",iconOnlyWidth:"3rem"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},mc={light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}},bc={root:gc,colorScheme:mc},_c={background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},xc={padding:"1.25rem",gap:"0.5rem"},yc={gap:"0.5rem"},kc={fontSize:"1.25rem",fontWeight:"500"},vc={color:"{text.muted.color}"},Cc={root:_c,body:xc,caption:yc,title:kc,subtitle:vc},wc={transitionDuration:"{transition.duration}"},Ec={gap:"0.25rem"},Sc={padding:"1rem",gap:"0.5rem"},Ac={width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Tc={light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}},Dc={root:wc,content:Ec,indicatorList:Sc,indicator:Ac,colorScheme:Tc},Rc={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},$c={width:"2.5rem",color:"{form.field.icon.color}"},Pc={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},Bc={padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},Ic={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},Fc={color:"{form.field.icon.color}"},Lc={root:Rc,dropdown:$c,overlay:Pc,list:Bc,option:Ic,clearIcon:Fc},Mc={borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},Oc={size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}},Nc={root:Mc,icon:Oc},Uc={borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},zc={width:"2rem",height:"2rem"},Yc={size:"1rem"},Hc={size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},jc={light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}},qc={root:Uc,image:zc,icon:Yc,removeIcon:Hc,colorScheme:jc},Wc={transitionDuration:"{transition.duration}"},Vc={width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Jc={shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},Gc={light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}},Xc={root:Wc,preview:Vc,panel:Jc,colorScheme:Gc},Zc={size:"2rem",color:"{overlay.modal.color}"},Kc={gap:"1rem"},Qc={icon:Zc,content:Kc},el={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},rl={padding:"{overlay.popover.padding}",gap:"1rem"},tl={size:"1.5rem",color:"{overlay.popover.color}"},ol={gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"},nl={root:el,content:rl,icon:tl,footer:ol},ul={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},al={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},il={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},sl={mobileIndent:"1rem"},cl={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},ll={borderColor:"{content.border.color}"},dl={root:ul,list:al,item:il,submenu:sl,submenuIcon:cl,separator:ll},fl={transitionDuration:"{transition.duration}"},hl={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},pl={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},gl={fontWeight:"600"},ml={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bl={borderColor:"{datatable.border.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},_l={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},xl={fontWeight:"600"},yl={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},kl={color:"{primary.color}"},vl={width:"0.5rem"},Cl={width:"1px",color:"{primary.color}"},wl={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},El={size:"2rem"},Sl={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Al={inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},Tl={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},Dl={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},Rl={light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},$l={root:fl,header:hl,headerCell:pl,columnTitle:gl,row:ml,bodyCell:bl,footerCell:_l,columnFooter:xl,footer:yl,dropPoint:kl,columnResizer:vl,resizeIndicator:Cl,sortIcon:wl,loadingIcon:El,rowToggleButton:Sl,filter:Al,paginatorTop:Tl,paginatorBottom:Dl,colorScheme:Rl},Pl={borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},Bl={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},Il={background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},Fl={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},Ll={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},Ml={borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"},Ol={root:Pl,header:Bl,content:Il,footer:Fl,paginatorTop:Ll,paginatorBottom:Ml},Nl={transitionDuration:"{transition.duration}"},Ul={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},zl={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},Yl={gap:"0.5rem",fontWeight:"500"},Hl={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},jl={color:"{form.field.icon.color}"},ql={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},Wl={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},Vl={borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},Jl={margin:"0.5rem 0 0 0"},Gl={padding:"0.25rem",fontWeight:"500",color:"{content.color}"},Xl={hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Zl={margin:"0.5rem 0 0 0"},Kl={padding:"0.375rem",borderRadius:"{content.border.radius}"},Ql={margin:"0.5rem 0 0 0"},e0={padding:"0.375rem",borderRadius:"{content.border.radius}"},r0={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},t0={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},o0={light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}},n0={root:Nl,panel:Ul,header:zl,title:Yl,dropdown:Hl,inputIcon:jl,selectMonth:ql,selectYear:Wl,group:Vl,dayView:Jl,weekDay:Gl,date:Xl,monthView:Zl,month:Kl,yearView:Ql,year:e0,buttonbar:r0,timePicker:t0,colorScheme:o0},u0={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},a0={padding:"{overlay.modal.padding}",gap:"0.5rem"},i0={fontSize:"1.25rem",fontWeight:"600"},s0={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},c0={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"},l0={root:u0,header:a0,title:i0,content:s0,footer:c0},d0={borderColor:"{content.border.color}"},f0={background:"{content.background}",color:"{text.color}"},h0={margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},p0={margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}},g0={root:d0,content:f0,horizontal:h0,vertical:p0},m0={background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},b0={borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},_0={root:m0,item:b0},x0={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},y0={padding:"{overlay.modal.padding}"},k0={fontSize:"1.5rem",fontWeight:"600"},v0={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},C0={padding:"{overlay.modal.padding}"},w0={root:x0,header:y0,title:k0,content:v0,footer:C0},E0={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},S0={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},A0={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},T0={focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},D0={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},R0={toolbar:E0,toolbarItem:S0,overlay:A0,overlayOption:T0,content:D0},$0={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},P0={background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},B0={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},I0={padding:"0"},F0={root:$0,legend:P0,toggleIcon:B0,content:I0},L0={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},M0={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},O0={highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},N0={padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},U0={gap:"0.5rem"},z0={height:"0.25rem"},Y0={gap:"0.5rem"},H0={root:L0,header:M0,content:O0,file:N0,fileList:U0,progressbar:z0,basic:Y0},j0={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},q0={active:{top:"-1.25rem"}},W0={input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},V0={borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}},J0={root:j0,over:q0,in:W0,on:V0},G0={borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},X0={background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Z0={size:"1.5rem"},K0={background:"{content.background}",padding:"1rem 0.25rem"},Q0={size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ed={size:"1rem"},rd={background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},td={gap:"0.5rem",padding:"1rem"},od={width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},nd={background:"rgba(0, 0, 0, 0.5)"},ud={background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},ad={size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},id={size:"1.5rem"},sd={light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}},cd={root:G0,navButton:X0,navIcon:Z0,thumbnailsContent:K0,thumbnailNavButton:Q0,thumbnailNavButtonIcon:ed,caption:rd,indicatorList:td,indicatorButton:od,insetIndicatorList:nd,insetIndicatorButton:ud,closeButton:ad,closeButtonIcon:id,colorScheme:sd},ld={color:"{form.field.icon.color}"},dd={icon:ld},fd={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},hd={paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},pd={root:fd,input:hd},gd={transitionDuration:"{transition.duration}"},md={icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},bd={position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},_d={hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},xd={root:gd,preview:md,toolbar:bd,action:_d},yd={size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},kd={handle:yd},vd={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},Cd={fontWeight:"500"},wd={size:"1rem"},Ed={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}},Sd={root:vd,text:Cd,icon:wd,colorScheme:Ed},Ad={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},Td={hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"},Dd={root:Ad,display:Td},Rd={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},$d={borderRadius:"{border.radius.sm}"},Pd={light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}},Bd={root:Rd,chip:$d,colorScheme:Pd},Id={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"},Fd={addon:Id},Ld={transitionDuration:"{transition.duration}"},Md={width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},Od={light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}},Nd={root:Ld,button:Md,colorScheme:Od},Ud={gap:"0.5rem"},zd={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}},Yd={root:Ud,input:zd},Hd={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},jd={root:Hd},qd={transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Wd={background:"{primary.color}"},Vd={background:"{content.border.color}"},Jd={color:"{text.muted.color}"},Gd={root:qd,value:Wd,range:Vd,text:Jd},Xd={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},Zd={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},Kd={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},Qd={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},ef={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},rf={padding:"{list.option.padding}"},tf={light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}},of={root:Xd,list:Zd,option:Kd,optionGroup:Qd,checkmark:ef,emptyMessage:rf,colorScheme:tf},nf={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},uf={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},af={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},sf={padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},cf={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},lf={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},df={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},ff={borderColor:"{content.border.color}"},hf={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},pf={root:nf,baseItem:uf,item:af,overlay:sf,submenu:cf,submenuLabel:lf,submenuIcon:df,separator:ff,mobileButton:hf},gf={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},mf={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},bf={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},_f={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},xf={borderColor:"{content.border.color}"},yf={root:gf,list:mf,item:bf,submenuLabel:_f,separator:xf},kf={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},vf={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},Cf={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},wf={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},Ef={borderColor:"{content.border.color}"},Sf={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Af={root:kf,baseItem:vf,item:Cf,submenu:wf,separator:Ef,mobileButton:Sf},Tf={borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},Df={padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},Rf={fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},$f={size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},Pf={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},Bf={size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},If={root:{borderWidth:"1px"}},Ff={content:{padding:"0"}},Lf={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}},Mf={root:Tf,content:Df,text:Rf,icon:$f,closeButton:Pf,closeIcon:Bf,outlined:If,simple:Ff,colorScheme:Lf},Of={borderRadius:"{content.border.radius}",gap:"1rem"},Nf={background:"{content.border.color}",size:"0.5rem"},Uf={gap:"0.5rem"},zf={size:"0.5rem"},Yf={size:"1rem"},Hf={verticalGap:"0.5rem",horizontalGap:"1rem"},jf={root:Of,meters:Nf,label:Uf,labelMarker:zf,labelIcon:Yf,labelList:Hf},qf={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},Wf={width:"2.5rem",color:"{form.field.icon.color}"},Vf={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},Jf={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},Gf={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},Xf={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},Zf={color:"{form.field.icon.color}"},Kf={borderRadius:"{border.radius.sm}"},Qf={padding:"{list.option.padding}"},eh={root:qf,dropdown:Wf,overlay:Vf,list:Jf,option:Gf,optionGroup:Xf,chip:Kf,clearIcon:Zf,emptyMessage:Qf},rh={gap:"1.125rem"},th={gap:"0.5rem"},oh={root:rh,controls:th},nh={gutter:"0.75rem",transitionDuration:"{transition.duration}"},uh={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},ah={background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ih={color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"},sh={root:nh,node:uh,nodeToggleButton:ah,connector:ih},ch={outline:{width:"2px",color:"{content.background}"}},lh={root:ch},dh={padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},fh={background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},hh={color:"{text.muted.color}"},ph={maxWidth:"2.5rem"},gh={root:dh,navButton:fh,currentPageReport:hh,jumpToPageInput:ph},mh={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},bh={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},_h={padding:"0.375rem 1.125rem"},xh={fontWeight:"600"},yh={padding:"0 1.125rem 1.125rem 1.125rem"},kh={padding:"0 1.125rem 1.125rem 1.125rem"},vh={root:mh,header:bh,toggleableHeader:_h,title:xh,content:yh,footer:kh},Ch={gap:"0.5rem",transitionDuration:"{transition.duration}"},wh={background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},Eh={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},Sh={indent:"1rem"},Ah={color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"},Th={root:Ch,panel:wh,item:Eh,submenu:Sh,submenuIcon:Ah},Dh={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},Rh={color:"{form.field.icon.color}"},$h={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},Ph={gap:"0.5rem"},Bh={light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}},Ih={meter:Dh,icon:Rh,overlay:$h,content:Ph,colorScheme:Bh},Fh={gap:"1.125rem"},Lh={gap:"0.5rem"},Mh={root:Fh,controls:Lh},Oh={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},Nh={padding:"{overlay.popover.padding}"},Uh={root:Oh,content:Nh},zh={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},Yh={background:"{primary.color}"},Hh={color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"},jh={root:zh,value:Yh,label:Hh},qh={light:{root:{colorOne:"{red.500}",colorTwo:"{blue.500}",colorThree:"{green.500}",colorFour:"{yellow.500}"}},dark:{root:{colorOne:"{red.400}",colorTwo:"{blue.400}",colorThree:"{green.400}",colorFour:"{yellow.400}"}}},Wh={colorScheme:qh},Vh={width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},Jh={size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}},Gh={root:Vh,icon:Jh},Xh={gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Zh={size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"},Kh={root:Xh,icon:Zh},Qh={light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}},ep={colorScheme:Qh},rp={transitionDuration:"{transition.duration}"},tp={size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},op={light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}},np={root:rp,bar:tp,colorScheme:op},up={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},ap={width:"2.5rem",color:"{form.field.icon.color}"},ip={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},sp={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},cp={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},lp={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dp={color:"{form.field.icon.color}"},fp={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},hp={padding:"{list.option.padding}"},pp={root:up,dropdown:ap,overlay:ip,list:sp,option:cp,optionGroup:lp,clearIcon:dp,checkmark:fp,emptyMessage:hp},gp={borderRadius:"{form.field.border.radius}"},mp={light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}},bp={root:gp,colorScheme:mp},_p={borderRadius:"{content.border.radius}"},xp={light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}},yp={root:_p,colorScheme:xp},kp={transitionDuration:"{transition.duration}"},vp={background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},Cp={background:"{primary.color}"},wp={width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Ep={light:{handle:{content:{background:"{surface.0}"}}},dark:{handle:{content:{background:"{surface.950}"}}}},Sp={root:kp,track:vp,range:Cp,handle:wp,colorScheme:Ep},Ap={gap:"0.5rem",transitionDuration:"{transition.duration}"},Tp={root:Ap},Dp={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"},Rp={root:Dp},$p={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},Pp={background:"{content.border.color}"},Bp={size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Ip={root:$p,gutter:Pp,handle:Bp},Fp={transitionDuration:"{transition.duration}"},Lp={background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},Mp={padding:"0.5rem",gap:"1rem"},Op={padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},Np={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},Up={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},zp={padding:"0.875rem 0.5rem 1.125rem 0.5rem"},Yp={background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"},Hp={root:Fp,separator:Lp,step:Mp,stepHeader:Op,stepTitle:Np,stepNumber:Up,steppanels:zp,steppanel:Yp},jp={transitionDuration:"{transition.duration}"},qp={background:"{content.border.color}"},Wp={borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},Vp={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},Jp={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},Gp={root:jp,separator:qp,itemLink:Wp,itemLabel:Vp,itemNumber:Jp},Xp={transitionDuration:"{transition.duration}"},Zp={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},Kp={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Qp={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},eg={height:"1px",bottom:"-1px",background:"{primary.color}"},rg={root:Xp,tablist:Zp,item:Kp,itemIcon:Qp,activeBar:eg},tg={transitionDuration:"{transition.duration}"},og={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},ng={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},ug={background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},ag={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},ig={height:"1px",bottom:"-1px",background:"{primary.color}"},sg={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},cg={root:tg,tablist:og,tab:ng,tabpanel:ug,navButton:ag,activeBar:ig,colorScheme:sg},lg={transitionDuration:"{transition.duration}"},dg={background:"{content.background}",borderColor:"{content.border.color}"},fg={borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},hg={background:"{content.background}",color:"{content.color}"},pg={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},gg={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},mg={root:lg,tabList:dg,tab:fg,tabPanel:hg,navButton:pg,colorScheme:gg},bg={fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},_g={size:"0.75rem"},xg={light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},yg={root:bg,icon:_g,colorScheme:xg},kg={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},vg={gap:"0.25rem"},Cg={margin:"2px 0"},wg={root:kg,prompt:vg,commandResponse:Cg},Eg={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},Sg={root:Eg},Ag={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},Tg={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},Dg={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},Rg={mobileIndent:"1rem"},$g={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},Pg={borderColor:"{content.border.color}"},Bg={root:Ag,list:Tg,item:Dg,submenu:Rg,submenuIcon:$g,separator:Pg},Ig={minHeight:"5rem"},Fg={eventContent:{padding:"1rem 0"}},Lg={eventContent:{padding:"0 1rem"}},Mg={size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},Og={color:"{content.border.color}",size:"2px"},Ng={event:Ig,horizontal:Fg,vertical:Lg,eventMarker:Mg,eventConnector:Og},Ug={width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},zg={size:"1.125rem"},Yg={padding:"{overlay.popover.padding}",gap:"0.5rem"},Hg={gap:"0.5rem"},jg={fontWeight:"500",fontSize:"1rem"},qg={fontWeight:"500",fontSize:"0.875rem"},Wg={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},Vg={size:"1rem"},Jg={light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}},Gg={root:Ug,icon:zg,content:Yg,text:Hg,summary:jg,detail:qg,closeButton:Wg,closeIcon:Vg,colorScheme:Jg},Xg={padding:"0.25rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.25rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.25rem"}},Zg={disabledColor:"{form.field.disabled.color}"},Kg={padding:"0.25rem 0.75rem",borderRadius:"{content.border.radius}",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)",sm:{padding:"0.25rem 0.75rem"},lg:{padding:"0.25rem 0.75rem"}},Qg={light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}},e1={root:Xg,icon:Zg,content:Kg,colorScheme:Qg},r1={width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},t1={borderRadius:"50%",size:"1rem"},o1={light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}},n1={root:r1,handle:t1,colorScheme:o1},u1={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"},a1={root:u1},i1={maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},s1={light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}},c1={root:i1,colorScheme:s1},l1={background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},d1={padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},f1={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},h1={borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},p1={size:"2rem"},g1={margin:"0 0 0.5rem 0"},m1={root:l1,node:d1,nodeIcon:f1,nodeToggleButton:h1,loadingIcon:p1,filter:g1},b1={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},_1={width:"2.5rem",color:"{form.field.icon.color}"},x1={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},y1={padding:"{list.padding}"},k1={padding:"{list.option.padding}"},v1={borderRadius:"{border.radius.sm}"},C1={color:"{form.field.icon.color}"},w1={root:b1,dropdown:_1,overlay:x1,tree:y1,emptyMessage:k1,chip:v1,clearIcon:C1},E1={transitionDuration:"{transition.duration}"},S1={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},A1={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},T1={fontWeight:"600"},D1={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},R1={borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},$1={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},P1={fontWeight:"600"},B1={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},I1={width:"0.5rem"},F1={width:"1px",color:"{primary.color}"},L1={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},M1={size:"2rem"},O1={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},N1={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},U1={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},z1={light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},Y1={root:E1,header:S1,headerCell:A1,columnTitle:T1,row:D1,bodyCell:R1,footerCell:$1,columnFooter:P1,footer:B1,columnResizer:I1,resizeIndicator:F1,sortIcon:L1,loadingIcon:M1,nodeToggleButton:O1,paginatorTop:N1,paginatorBottom:U1,colorScheme:z1},H1={mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}},j1={loader:H1},q1=Object.defineProperty,W1=Object.defineProperties,V1=Object.getOwnPropertyDescriptors,Hn=Object.getOwnPropertySymbols,J1=Object.prototype.hasOwnProperty,G1=Object.prototype.propertyIsEnumerable,jn=(r,e,t)=>e in r?q1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,qn,X1=(qn=((r,e)=>{for(var t in e||(e={}))J1.call(e,t)&&jn(r,t,e[t]);if(Hn)for(var t of Hn(e))G1.call(e,t)&&jn(r,t,e[t]);return r})({},sc),W1(qn,V1({components:{accordion:Ls,autocomplete:Ws,avatar:Ks,badge:uc,blockui:lc,breadcrumb:pc,button:bc,card:Cc,carousel:Dc,cascadeselect:Lc,checkbox:Nc,chip:qc,colorpicker:Xc,confirmdialog:Qc,confirmpopup:nl,contextmenu:dl,datatable:$l,dataview:Ol,datepicker:n0,dialog:l0,divider:g0,dock:_0,drawer:w0,editor:R0,fieldset:F0,fileupload:H0,floatlabel:J0,galleria:cd,iconfield:dd,iftalabel:pd,image:xd,imagecompare:kd,inlinemessage:Sd,inplace:Dd,inputchips:Bd,inputgroup:Fd,inputnumber:Nd,inputotp:Yd,inputtext:jd,knob:Gd,listbox:of,megamenu:pf,menu:yf,menubar:Af,message:Mf,metergroup:jf,multiselect:eh,orderlist:oh,organizationchart:sh,overlaybadge:lh,paginator:gh,panel:vh,panelmenu:Th,password:Ih,picklist:Mh,popover:Uh,progressbar:jh,progressspinner:Wh,radiobutton:Gh,rating:Kh,ripple:ep,scrollpanel:np,select:pp,selectbutton:bp,skeleton:yp,slider:Sp,speeddial:Tp,splitbutton:Rp,splitter:Ip,stepper:Hp,steps:Gp,tabmenu:rg,tabs:cg,tabview:mg,tag:yg,terminal:wg,textarea:Sg,tieredmenu:Bg,timeline:Ng,toast:Gg,togglebutton:e1,toggleswitch:n1,toolbar:a1,tooltip:c1,tree:m1,treeselect:w1,treetable:Y1,virtualscroller:j1}})));const Z1=$s(X1,{semantic:{primary:{50:"{indigo.50}",100:"{indigo.100}",200:"{indigo.200}",300:"{indigo.300}",400:"{indigo.400}",500:"{indigo.500}",600:"{indigo.600}",700:"{indigo.700}",800:"{indigo.800}",900:"{indigo.900}",950:"{indigo.950}"}}}),K1=Z({name:"NotFoundView",setup(){const r=Ou();return()=>E("div",{class:"container"},[E("div",{class:["my-4rem"]}),E(fr,{header:"404",toggleable:!0,class:"my-3"},{default:()=>[E("div",{class:["flex flex-row flex-items-center flex-wrap gap-2 flex-content-around flex-justify-around"]},[E(Ee,{label:"go app",onClick:()=>{r.push({name:"app"})}}),E(Ee,{label:"go home",onClick:()=>{r.push({name:"home"})}}),E(Ee,{label:"go root",onClick:()=>{r.push({name:"root"})}})])]})])}}),Q1="AI",em=Z({name:"AppView",setup(){const{locale:r}=Ki({useScope:"global"});console.log({i18nLocale:r.value});const e=Ku(),{toggle:t}=e,{isOn:o}=Nu(e),n=ye([{label:"",name:"app-config",icon:"pi pi-cog"},{label:"",name:"app-game",icon:"pi pi-play-circle"},{label:"",name:"app-tavern",icon:"pi pi-star"},{label:"",name:"app-about",icon:"pi pi-book"}]),u=ye(n.value[0].label),a=Ou(),i=Qi();return Uu(()=>i.name,()=>{u.value=`${String(i.name??"")}`},{immediate:!0}),()=>{var s;return E("div",{class:["--bg-var-p-zinc-800 overflow-auto","md:px-0.5rem md:py-0.75rem h-100dvh w-100dvw","stack-v"]},[E(fs,{class:["md:max-w-768px md:mx-auto w-100%","border-none! bg-transparent!"],breakpoint:"0px",model:[((s=window==null?void 0:window.location)==null?void 0:s.hostname)!="localhost"?null:{label:"Dev Ref",icon:"pi pi-external-link",items:[{label:"Dexie",items:[{label:"Dexie",url:"https://dexie.org",target:"_blank"},{label:"Design",url:"https://dexie.org/docs/Tutorial/Design",target:"_blank"},{label:"Version.stores()",url:"https://dexie.org/docs/Version/Version.stores()",target:"_blank"},{label:"IDB",url:"https://juejin.cn/post/7025592963002531871",target:"_blank"},{label:"supported-operations",url:"https://github.com/dexie/Dexie.js#supported-operations",target:"_blank"},{label:"Tutorial/Vue",url:"https://dexie.org/docs/Tutorial/Vue",target:"_blank"},{label:"liveQuery()",url:"https://dexie.org/docs/liveQuery()",target:"_blank"},{label:"version()",url:"https://dexie.org/docs/Dexie/Dexie.version()",target:"_blank"}]},{label:"D3",items:[{label:"d3-dispatch",url:"https://d3js.org/d3-dispatch",target:"_blank"}]},{label:"vue-icons",url:"https://vue-icons.kalimah-apps.com/getting-started.html",target:"_blank"},{label:"Prime Icons",url:"https://primevue.org/icons/",target:"_blank"},{label:"UnoCSS",url:"https://unocss.dev/interactive/",target:"_blank"},{label:"Vue I18n",url:"https://vue-i18n.intlify.dev/guide/advanced/composition.html",target:"_blank"},{label:"VueUse",url:"https://vueuse.org/",target:"_blank"},{label:"Vue Router",url:"https://router.vuejs.org/zh/guide/",target:"_blank"},{label:"Pinia",url:"https://pinia.vuejs.org/zh/core-concepts/",target:"_blank"},{label:"Pinia Persisted",url:"https://prazdevs.github.io/pinia-plugin-persistedstate/guide/config.html",target:"_blank"},{label:"zipson",url:"https://jgranstrom.github.io/zipson/",target:"_blank"},{label:"vue render func",url:"https://cn.vuejs.org/guide/extras/render-function.html",target:"_blank"},{label:"vuejs.org",url:"https://vuejs.org/",target:"_blank"},{label:"vuejs.dev",url:"https://vuejs.dev/",target:"_blank"},{label:"Dexie.js",url:"https://dexie.org/docs/Tutorial/Vue",target:"_blank"},{label:"test",url:"#daf/ewf/2efw3?asd:df=w23?df"}]},{label:"",icon:"pi pi-globe",url:"https://liferestart.syaro.io/public/index.html",target:"_blank"},{label:"",icon:"pi pi-star",url:"https://nexworld.wiki",target:"_blank"},{label:"GitHub",icon:"pi pi-github",url:"https://github.com/nex-world/lifeRestart-AI",target:"_blank"},{label:"theme",icon:`pi pi-${o.value?"moon":"sun"}`,command:()=>{t()}}].filter(c=>c!=null),pt:{rootList:{class:"ml-auto!"}}},{start:()=>E("span",{class:"font-bold mx-0.5rem"},Q1)}),E("div",{class:["--md:rounded-0.5rem --md:border-2 md:max-w-768px md:mx-auto","w-100% --p-0.75rem bg-var-p-panel-background border-var-p-panel-border-color","bg-transparent! [background:transparent]!"],style:{"--p-panel-background":"transparent","--p-tabs-tablist-background":"transparent"}},[E(hs,{class:"bg-transparent!",value:u.value,scrollable:!0},{default:()=>E(ps,{class:"bg-transparent!",pt:{tabList:{class:"bg-transparent! [background:transparent]!"}}},{default:()=>n.value.map(c=>E(gs,{class:"bg-transparent!",key:c.label,value:c.name,onClick:()=>{a.hasRoute(c==null?void 0:c.name)&&a.push({name:c.name})}},{default:()=>E("span",{class:"inline-flex flex-row flex-items-center gap-2"},[E("i",{class:c.icon}),E("span",{},c.label)])}))})})]),E("div",{class:["md:rounded-0.5rem md:border-3 md:max-w-768px md:mx-auto","w-100% p-0.75rem bg-var-p-panel-background border-var-p-panel-border-color overflow-auto","grow-1"]},[E(Mu)])])}}}),j=Z({name:"ToolButton",props:["label","tip","command","class","tooltipProps","direction","focus"],setup(r){const e=nn("tooltip");return()=>{const{label:t,tip:o,command:n,class:u,tooltipProps:a,direction:i,focus:s,...c}=r;return o!=null&&o.length?rt(E(Ee,{label:t,severity:"secondary",onClick:n,outlined:!0,...c,class:["p-var-p-button-padding-y!",u]}),[[e,{value:o??t,showDelay:300,hideDelay:300,...a},i??"bottom",{[i??"bottom"]:!0,focus:s}]]):E(Ee,{label:t,severity:"secondary",onClick:n,outlined:!0,...c,class:["p-var-p-button-padding-y!",u]})}}});function Qu(r){return A.cloneDeep(r)}function rm(...r){return Math.max(...A.flatten(r))}function tm(...r){return Math.min(...A.flatten(r))}function om(...r){return A.sum(A.flatten(r))}function nm(...r){const e=A.flatten(r);return A.sum(e)/e.length}function ea(r){const e=A.sumBy(r,([,o])=>o);let t=Math.random()*e;for(const[o,n]of r)if(t-=n,t<0)return o;return r[r.length-1][0]}function um(r){return A.sample(r)}function Oo(r,e){const t={};return r.forEach((o,n)=>{t[n.toString()]=e(o)}),t}function am(r,e){A.forEach(r,(t,o)=>{r[o]=e(o,t)})}function im(r,e){return A.mapValues(r,(t,o)=>e(o,t))}function sm(r,e){A.assign(r,e)}function ra(r,e){return A.forEach(e,(t,o)=>{A.isFunction(t)?r[o]=t():A.isObject(t)&&!A.isArray(t)?(r[o]=r[o]||{},ra(r[o],t)):r[o]=t}),r}function cm(r,e){return A.get(r,e)}function lm(r,...e){const t=o=>(n,u)=>{var i;const a=A.get(o,u);return A.isObject(a)?JSON.stringify(a):A.isString(a)||A.isNumber(a)||A.isBoolean(a)?a:((i=a==null?void 0:a.toString)==null?void 0:i.call(a))||n};return e.length===0?r:e.length===1&&A.isObject(e[0])&&!A.isArray(e[0])?r.replace(/{(.+?)}/g,t(e[0])):r.replace(/{(\d+)}/g,t(e))}const dm=Object.freeze(Object.defineProperty({__proto__:null,average:nm,clone:Qu,deepGet:cm,deepMapSet:ra,format:lm,getConvertedMap:im,getListValuesMap:Oo,listRandom:um,mapConvert:am,mapSet:sm,max:rm,min:tm,sum:om,weightRandom:ea},Symbol.toStringTag,{value:"Module"}));function fm(r){const e=[],t=r.length,o=[];o.unshift(e);let n=0;const u=a=>{const i=r.substring(n,a).trim();n=a,i&&o[0].push(i)};for(let a=0;a<t;a++)switch(r[a]){case" ":continue;case"(":{u(a),n++;const i=[];o[0].push(i),o.unshift(i);break}case")":u(a),n++,o.shift();break;case"|":case"&":u(a),u(a+1);break;default:continue}return u(t),e}function ta(r,e){const t=fm(e);return Vr(r,t)}function Vr(r,e){if(!Array.isArray(e))return hm(r,e);if(e.length===0)return!0;if(e.length===1)return Vr(r,e[0]);let t=Vr(r,e[0]);for(let o=1;o<e.length;o+=2)switch(e[o]){case"&":t&&(t=Vr(r,e[o+1]));break;case"|":if(t)return!0;t=Vr(r,e[o+1]);break;default:return!1}return t}function hm(r,e){const t=e.length;let o=e.search(/[><!?=]/);const n=e.substring(0,o),u=e.substring(o,o+=e[o+1]==="="?2:1),a=e.substring(o,t),i=r.get(n),s=a[0]==="["?JSON.parse(a):Number(a);switch(u){case">":return i>s;case"<":return i<s;case">=":return i>=s;case"<=":return i<=s;case"=":return Array.isArray(i)?i.includes(s):i==s;case"!=":return Array.isArray(i)?!i.includes(s):i!=s;case"?":if(Array.isArray(i)){for(const c of i)if(s.includes(c))return!0;return!1}return s.includes(i);case"!":if(Array.isArray(i)){for(const c of i)if(s.includes(c))return!1;return!0}return!s.includes(i);default:return!1}}function pm(r){const t=/AGE\?\[([0-9,]+)\]/.exec(r);return t==null?1:t[1].split(",").length}const gm=Object.freeze(Object.defineProperty({__proto__:null,checkCondition:ta,extractMaxTriggers:pm},Symbol.toStringTag,{value:"Module"}));var wr,Er,U,lt,dt;class mm{constructor(e){$(this,wr);$(this,Er,{});$(this,U,{});$(this,lt,{});$(this,dt,{});De(this,"TYPES",{AGE:"AGE",CHR:"CHR",INT:"INT",STR:"STR",MNY:"MNY",SPR:"SPR",LIF:"LIF",TLT:"TLT",EVT:"EVT",TMS:"TMS",LAGE:"LAGE",HAGE:"HAGE",LCHR:"LCHR",HCHR:"HCHR",LINT:"LINT",HINT:"HINT",LSTR:"LSTR",HSTR:"HSTR",LMNY:"LMNY",HMNY:"HMNY",LSPR:"LSPR",HSPR:"HSPR",SUM:"SUM",EXT:"EXT",ATLT:"ATLT",AEVT:"AEVT",ACHV:"ACHV",CTLT:"CTLT",CEVT:"CEVT",CACHV:"CACHV",TTLT:"TTLT",TEVT:"TEVT",TACHV:"TACHV",REVT:"REVT",RTLT:"RTLT",RACHV:"RACHV",RDM:"RDM"});De(this,"SPECIAL",{RDM:[]});T(this,wr,e),this.SPECIAL.RDM=[this.TYPES.CHR,this.TYPES.INT,this.TYPES.STR,this.TYPES.MNY,this.TYPES.SPR]}get util(){return b(this,wr).function(b(this,wr).Function.UTIL)}initial({age:e,total:t}){T(this,Er,{});for(const o in e){const{event:n,talent:u}=e[o];let a=[];Array.isArray(n)?a=n.map(s=>{if(Array.isArray(s))return s;const c=`${s}`.split("*").map(l=>Number(l));return c.length===1&&c.push(1),c}):a=(n||"").split(",").filter(Boolean).map(c=>{const l=`${c}`.split("*").map(d=>Number(d));return l.length===1&&l.push(1),l});let i=[];Array.isArray(u)?i=u.map(s=>Number(s)):i=(u||"").split(",").filter(Boolean).map(c=>Number(c)),b(this,Er)[o]={event:a,talent:i}}T(this,lt,t)}config({judge:e={}}){T(this,dt,e)}restart(e){T(this,U,{[this.TYPES.AGE]:-1,[this.TYPES.CHR]:0,[this.TYPES.INT]:0,[this.TYPES.STR]:0,[this.TYPES.MNY]:0,[this.TYPES.SPR]:0,[this.TYPES.LIF]:1,[this.TYPES.TLT]:[],[this.TYPES.EVT]:[],[this.TYPES.LAGE]:1/0,[this.TYPES.LCHR]:1/0,[this.TYPES.LINT]:1/0,[this.TYPES.LSTR]:1/0,[this.TYPES.LSPR]:1/0,[this.TYPES.LMNY]:1/0,[this.TYPES.HAGE]:-1/0,[this.TYPES.HCHR]:-1/0,[this.TYPES.HINT]:-1/0,[this.TYPES.HSTR]:-1/0,[this.TYPES.HMNY]:-1/0,[this.TYPES.HSPR]:-1/0});for(const t in e)this.change(t,e[t])}restartLastStep(){b(this,U)[this.TYPES.LAGE]=this.get(this.TYPES.AGE),b(this,U)[this.TYPES.LCHR]=this.get(this.TYPES.CHR),b(this,U)[this.TYPES.LINT]=this.get(this.TYPES.INT),b(this,U)[this.TYPES.LSTR]=this.get(this.TYPES.STR),b(this,U)[this.TYPES.LSPR]=this.get(this.TYPES.SPR),b(this,U)[this.TYPES.LMNY]=this.get(this.TYPES.MNY),b(this,U)[this.TYPES.HAGE]=this.get(this.TYPES.AGE),b(this,U)[this.TYPES.HCHR]=this.get(this.TYPES.CHR),b(this,U)[this.TYPES.HINT]=this.get(this.TYPES.INT),b(this,U)[this.TYPES.HSTR]=this.get(this.TYPES.STR),b(this,U)[this.TYPES.HMNY]=this.get(this.TYPES.MNY),b(this,U)[this.TYPES.HSPR]=this.get(this.TYPES.SPR)}get(e){switch(e){case this.TYPES.AGE:case this.TYPES.CHR:case this.TYPES.INT:case this.TYPES.STR:case this.TYPES.MNY:case this.TYPES.SPR:case this.TYPES.LIF:case this.TYPES.TLT:case this.TYPES.EVT:return Oe.cloneDeep(b(this,U)[e]);case this.TYPES.LAGE:case this.TYPES.LCHR:case this.TYPES.LINT:case this.TYPES.LSTR:case this.TYPES.LMNY:case this.TYPES.LSPR:return Oe.min([b(this,U)[e],this.get(this.fallback(e))]);case this.TYPES.HAGE:case this.TYPES.HCHR:case this.TYPES.HINT:case this.TYPES.HSTR:case this.TYPES.HMNY:case this.TYPES.HSPR:return Oe.max([b(this,U)[e],this.get(this.fallback(e))]);case this.TYPES.SUM:{const t=this.get(this.TYPES.HAGE),o=this.get(this.TYPES.HCHR),n=this.get(this.TYPES.HINT),u=this.get(this.TYPES.HSTR),a=this.get(this.TYPES.HMNY),i=this.get(this.TYPES.HSPR);return Math.floor(Oe.sum([o,n,u,a,i])*2+t/2)}case this.TYPES.TMS:return this.lsGet("times")||0;case this.TYPES.EXT:return this.lsGet("extendTalent")||null;case this.TYPES.ATLT:case this.TYPES.AEVT:case this.TYPES.ACHV:return this.lsGet(e)||[];case this.TYPES.CTLT:case this.TYPES.CEVT:case this.TYPES.CACHV:return this.get(this.fallback(e)).length;case this.TYPES.TTLT:case this.TYPES.TEVT:case this.TYPES.TACHV:return b(this,lt)[e];case this.TYPES.RTLT:case this.TYPES.REVT:case this.TYPES.RACHV:{const t=this.fallback(e);return this.get(t[0])/this.get(t[1])}default:return 0}}fallback(e){switch(e){case this.TYPES.LAGE:case this.TYPES.HAGE:return this.TYPES.AGE;case this.TYPES.LCHR:case this.TYPES.HCHR:return this.TYPES.CHR;case this.TYPES.LINT:case this.TYPES.HINT:return this.TYPES.INT;case this.TYPES.LSTR:case this.TYPES.HSTR:return this.TYPES.STR;case this.TYPES.LMNY:case this.TYPES.HMNY:return this.TYPES.MNY;case this.TYPES.LSPR:case this.TYPES.HSPR:return this.TYPES.SPR;case this.TYPES.CTLT:return this.TYPES.ATLT;case this.TYPES.CEVT:return this.TYPES.AEVT;case this.TYPES.CACHV:return this.TYPES.ACHV;case this.TYPES.LIF:return this.TYPES.LIF;case this.TYPES.RTLT:return[this.TYPES.CTLT,this.TYPES.TTLT];case this.TYPES.REVT:return[this.TYPES.CEVT,this.TYPES.TEVT];case this.TYPES.RACHV:return[this.TYPES.CACHV,this.TYPES.TACHV];default:return}}set(e,t){switch(e){case this.TYPES.AGE:case this.TYPES.CHR:case this.TYPES.INT:case this.TYPES.STR:case this.TYPES.MNY:case this.TYPES.SPR:case this.TYPES.LIF:case this.TYPES.TLT:case this.TYPES.EVT:this.hl(e,b(this,U)[e]=Oe.cloneDeep(t)),this.achieve(e,t);return;case this.TYPES.TMS:this.lsSet("times",parseInt(t)||0);return;case this.TYPES.EXT:this.lsSet("extendTalent",t);return;default:return}}getProperties(){return Oe.cloneDeep({[this.TYPES.AGE]:this.get(this.TYPES.AGE),[this.TYPES.CHR]:this.get(this.TYPES.CHR),[this.TYPES.INT]:this.get(this.TYPES.INT),[this.TYPES.STR]:this.get(this.TYPES.STR),[this.TYPES.MNY]:this.get(this.TYPES.MNY),[this.TYPES.SPR]:this.get(this.TYPES.SPR)})}change(e,t){if(console.log("change",e,t),Array.isArray(t)){for(const o of t)this.change(e,Number(o));return}switch(e){case this.TYPES.AGE:case this.TYPES.CHR:case this.TYPES.INT:case this.TYPES.STR:case this.TYPES.MNY:case this.TYPES.SPR:case this.TYPES.LIF:{this.hl(e,b(this,U)[e]+=Number(t));return}case this.TYPES.TLT:case this.TYPES.EVT:{const o=b(this,U)[e];if(Number(t)<0){const n=o.indexOf(t);n!==-1&&o.splice(n,1)}o.includes(t)||o.push(t),this.achieve(e,t);return}case this.TYPES.TMS:{this.set(e,this.get(e)+parseInt(String(t)));return}default:return}}hookSpecial(e){switch(e){case this.TYPES.RDM:return this.util.listRandom(this.SPECIAL.RDM);default:return e}}effect(e){for(const t in e)this.change(this.hookSpecial(t),Number(e[t]))}judge(e){const t=this.get(e),o=b(this,dt)[e];if(!o)return;let n=o.length;const u=()=>Math.max(Math.min(t,10),0)/10;for(;n--;){const[a,i,s]=o[n];if(!n||a===void 0||t>=a)return{prop:e,value:t,judge:s,grade:i,progress:u()}}}isEnd(){return this.get(this.TYPES.LIF)<1}ageNext(){this.change(this.TYPES.AGE,1);const e=this.get(this.TYPES.AGE),{event:t,talent:o}=this.getAgeData(e);return{age:e,event:t,talent:o}}getAgeData(e){return Oe.cloneDeep(b(this,Er)[e]||{event:[],talent:[]})}hl(e,t){let o;switch(e){case this.TYPES.AGE:o=[this.TYPES.LAGE,this.TYPES.HAGE];break;case this.TYPES.CHR:o=[this.TYPES.LCHR,this.TYPES.HCHR];break;case this.TYPES.INT:o=[this.TYPES.LINT,this.TYPES.HINT];break;case this.TYPES.STR:o=[this.TYPES.LSTR,this.TYPES.HSTR];break;case this.TYPES.MNY:o=[this.TYPES.LMNY,this.TYPES.HMNY];break;case this.TYPES.SPR:o=[this.TYPES.LSPR,this.TYPES.HSPR];break;default:return}const[n,u]=o;b(this,U)[n]=Oe.min([b(this,U)[n],t]),b(this,U)[u]=Oe.max([b(this,U)[u],t])}achieve(e,t){let o;switch(e){case this.TYPES.ACHV:{const u=this.lsGet(e);this.lsSet(e,(u||[]).concat([[t,Date.now()]]));return}case this.TYPES.TLT:o=this.TYPES.ATLT;break;case this.TYPES.EVT:o=this.TYPES.AEVT;break;default:return}const n=this.lsGet(o)||[];this.lsSet(o,Array.from(new Set(n.concat(t||[]).flat())))}lsGet(e){const t=localStorage.getItem(e);if(!(t===null||t==="undefined"))return JSON.parse(t)}lsSet(e,t){localStorage.setItem(e,JSON.stringify(t))}}wr=new WeakMap,Er=new WeakMap,U=new WeakMap,lt=new WeakMap,dt=new WeakMap;var We,ar,Lu;let bm=(Lu=class{constructor(e){$(this,We);$(this,ar);T(this,We,e),T(this,ar,{})}initial({events:e}){T(this,ar,e);for(const t in e){const o=e[t];o.branch&&(o.branch=o.branch.map(n=>(n=n.split(":"),n[1]=Number(n[1]),n)))}return this.count}get count(){return Object.keys(b(this,ar)).length}check(e){const{include:t,exclude:o,NoRandom:n}=this.get(e);return n||o&&b(this,We).check(o)?!1:t?b(this,We).check(t):!0}get(e){const t=b(this,ar)[e];if(!t)throw new Error(`[ERROR] No Event[${e}]`);return b(this,We).clone(t)}information(e){const{event:t}=this.get(e);return{description:t}}do(e){const{effect:t,branch:o,event:n,postEvent:u,grade:a}=this.get(e);if(o){for(const[i,s]of o)if(b(this,We).check(i))return{effect:t,next:s,description:n,grade:a}}return{effect:t,postEvent:u,description:n,grade:a}}},We=new WeakMap,ar=new WeakMap,Lu);const _m=r=>{let e=Math.floor(Math.random()*r.total);return(e-=r[3])<0?3:(e-=r[2])<0?2:e-r[1]<0?1:0};var te,be,Sr,Ar,ir,oo,oa;class xm{constructor(e,{talentPullCount:t=10,talentRate:o={1:100,2:10,3:1,total:1e3},additions:n={}}={}){$(this,oo);$(this,te);$(this,be,{});$(this,Sr);$(this,Ar);$(this,ir);T(this,te,e),T(this,Sr,t),T(this,Ar,o),T(this,ir,n)}initial({talents:e}){T(this,be,e);const t=b(this,te).function(b(this,te).Function.CONDITION).extractMaxTriggers;for(const o in e){const n=e[o];if(n.id=Number(o),n.grade=Number(n.grade),n.max_triggers=t(n.condition),n.replacement)for(const u in n.replacement){const a={};for(let i of n.replacement[u])i=`${i}`.split("*"),a[i[0]||0]=Number(i[1])||1;n.replacement[u]=a}}return this.count}config({talentPullCount:e=10,talentRate:t={1:100,2:10,3:1,total:1e3},additions:o={}}={}){T(this,Sr,e),T(this,Ar,t),T(this,ir,o)}get count(){return Object.keys(b(this,be)).length}check(e){const{condition:t}=this.get(e);return b(this,te).check(b(this,oo,oa),t)}get(e){const t=b(this,be)[e];if(!t)throw new Error(`[ERROR] No Talent[${e}]`);return b(this,te).clone(t)}information(e){const{grade:t,name:o,description:n}=this.get(e);return{grade:t,name:o,description:n}}exclude(e,t){const{exclude:o}=this.get(t);if(!o)return null;for(const n of e)for(const u of o)if(n==u)return n;return null}getAddition(e,t){if(!b(this,ir)[e])return{};for(const[o,n]of b(this,ir)[e])if(t>=o)return n;return{}}getRate(e={}){const t=b(this,te).clone(b(this,Ar)),o={1:1,2:1,3:1};Object.keys(e).forEach(n=>{const u=this.getAddition(n,e[n]);for(const a in u)o[a]+=u[a]});for(const n in o)t[n]*=o[n];return t}talentRandom(e,t){const o=this.getRate(t),n={};for(const u in b(this,be)){const{id:a,grade:i,name:s,description:c,exclusive:l}=b(this,be)[u];if(!l){if(a==e){e={grade:i,name:s,description:c,id:a};continue}n[i]?n[i].push({grade:i,name:s,description:c,id:a}):n[i]=[{grade:i,name:s,description:c,id:a}]}}return new Array(b(this,Sr)).fill(1).map((u,a)=>{if(!a&&e)return e;let i=_m(o);for(;n[i].length==0;)i--;const s=n[i].length,c=Math.floor(Math.random()*s)%s;return n[i].splice(c,1)[0]})}random(e){const t=Object.keys(b(this,be)).filter(o=>!b(this,be)[o].exclusive);return new Array(e).fill(1).map(()=>t.splice(Math.floor(Math.random()*t.length)%t.length,1)[0])}allocationAddition(e){if(Array.isArray(e)){let t=0;for(const o of e)t+=this.allocationAddition(o);return t}return Number(this.get(e).status)||0}do(e){const{effect:t,condition:o,grade:n,name:u,description:a}=this.get(e);return o&&!b(this,te).check(o)?null:{effect:t,grade:n,name:u,description:a}}replace(e){const t=(i,s)=>{const{replacement:c}=this.get(i);if(!c)return null;const l=[];if(c.grade&&this.forEach(({id:d,grade:p,exclusive:h})=>{h||c.grade[p]&&(this.exclude(s,d)||l.push([d,c.grade[p]]))}),c.talent)for(const d in c.talent){const p=Number(d);this.exclude(s,p)||l.push([d,c.talent[d]])}return l},o=b(this,te).function(b(this,te).Function.UTIL).weightRandom,n=(i,s)=>{const c=t(i,s);if(!c)return i;const l=o(c);return n(l,s.concat(l))},u=b(this,te).clone(e),a={};for(const i of e){const s=n(i,u);s!=i&&(a[i]=s,u.push(s))}return a}forEach(e){if(typeof e=="function")for(const t in b(this,be))e(b(this,te).clone(b(this,be)[t]),t)}}te=new WeakMap,be=new WeakMap,Sr=new WeakMap,Ar=new WeakMap,ir=new WeakMap,oo=new WeakSet,oa=function(){return b(this,te).request(b(this,te).Module.PROPERTY)};var ze,sr,cr,Jr;class ym{constructor(e){$(this,cr);De(this,"Opportunity",{START:"START",TRAJECTORY:"TRAJECTORY",SUMMARY:"SUMMARY",END:"END"});$(this,ze);$(this,sr,{});T(this,ze,e)}initial(e){return T(this,sr,e.achievements),this.count}get count(){return Object.keys(b(this,sr)).length}list(){return Object.values(b(this,sr)).map(({id:e,name:t,opportunity:o,description:n,hide:u,grade:a})=>({id:e,name:t,opportunity:o,description:n,hide:u,grade:a,isAchieved:this.isAchieved(e)}))}get(e){const t=b(this,sr)[e];if(!t)throw new Error(`[ERROR] No Achievement[${e}]`);return b(this,ze).clone(t)}check(e){const{condition:t}=this.get(e);return b(this,ze).check(t)}isAchieved(e){for(const[t]of b(this,cr,Jr).get(b(this,cr,Jr).TYPES.ACHV)||[])if(t==e)return!0;return!1}achieve(e){this.list().filter(({isAchieved:t})=>!t).filter(({opportunity:t})=>t==e).filter(({id:t})=>this.check(t)).forEach(({id:t})=>{b(this,cr,Jr).achieve(b(this,cr,Jr).TYPES.ACHV,t),b(this,ze).$$event("achievement",this.get(t))})}}ze=new WeakMap,sr=new WeakMap,cr=new WeakSet,Jr=function(){return b(this,ze).request(b(this,ze).Module.PROPERTY)};var _e,lr,ft,Tr,de,Dr,we,Ve,ht,fe,Ut,na,No,ua;class km{constructor(e){$(this,fe);$(this,_e);$(this,lr,{});$(this,ft,0);$(this,Tr,0);$(this,de,null);$(this,Dr,[]);$(this,we,null);$(this,Ve);$(this,ht);T(this,_e,e)}initial({characters:e}){T(this,lr,e);const t=localStorage.getItem("uniqueWaTaShi");return t!=null&&t!=="undefined"&&T(this,we,JSON.parse(t)),this.count}get count(){return Object.keys(b(this,lr)).length}config({characterPullCount:e=3,rateableKnife:t=10,propertyWeight:o,talentWeight:n}={}){T(this,ft,e),T(this,Tr,t),T(this,Ve,o),T(this,ht,n)}generateUnique(){if(b(this,we))return b(this,fe,Ut);const e=b(this,fe,No),{CHR:t,INT:o,STR:n,MNY:u}=b(this,_e).PropertyTypes;return T(this,fe,{property:{[t]:e(b(this,Ve)),[o]:e(b(this,Ve)),[n]:e(b(this,Ve)),[u]:e(b(this,Ve))},talent:b(this,_e).request(b(this,_e).Module.TALENT).random(e(b(this,ht)))},na),b(this,fe,Ut)}random(){return{unique:b(this,fe,Ut),normal:qr(this,fe,ua).call(this)}}}_e=new WeakMap,lr=new WeakMap,ft=new WeakMap,Tr=new WeakMap,de=new WeakMap,Dr=new WeakMap,we=new WeakMap,Ve=new WeakMap,ht=new WeakMap,fe=new WeakSet,Ut=function(){if(b(this,we))return b(this,_e).clone(b(this,we));const e=Date.now();if(b(this,Dr).push(e),b(this,Dr).length<10)return null;const t=b(this,Dr).shift()||0;return e-t>1e4?null:{unique:!0,generate:!1}},na=function(e){T(this,we,b(this,_e).clone(e)),b(this,we).unique=!0,b(this,we).generate=!0,localStorage.setItem("uniqueWaTaShi",JSON.stringify(b(this,we)))},No=function(){return b(this,_e).function(b(this,_e).Function.UTIL).weightRandom},ua=function(){if(!b(this,de)){T(this,de,{});for(const n in b(this,lr))b(this,de)[n]=1}const e=[],t=b(this,fe,No);new Array(b(this,ft)).fill(0).forEach(()=>{e.push(t(Object.keys(b(this,de)).filter(n=>!e.includes(n)).map(n=>[n,b(this,de)[n]])))});let o=1/0;for(const n in b(this,de)){if(e.includes(n)){o=Math.min(o,b(this,de)[n]);continue}o=Math.min(o,++b(this,de)[n])}if(o>b(this,Tr))for(const n in b(this,de))b(this,de)[n]-=b(this,Tr);return e.map(n=>b(this,_e).clone(b(this,lr)[n]))};var Rr,$r,Pr,Br,Ir,Fr,pt,gt,mt,bt,_t,dr,Uo,aa;class vm{constructor(){$(this,dr);De(this,"Module",{PROPERTY:"PROPERTY",TALENT:"TALENT",EVENT:"EVENT",ACHIEVEMENT:"ACHIEVEMENT",CHARACTER:"CHARACTER"});De(this,"Function",{CONDITION:"CONDITION",UTIL:"UTIL"});$(this,Rr);$(this,$r);$(this,Pr);$(this,Br);$(this,Ir);$(this,Fr);$(this,pt,20);$(this,gt,3);$(this,mt,[0,10]);$(this,bt,{});$(this,_t,{});De(this,"$$eventMap",new Map);De(this,"$$event",(e,t)=>{const o=this.$$eventMap.get(e);o&&o.forEach(n=>n==null?void 0:n(t))});De(this,"$$on",(e,t)=>{let o=this.$$eventMap.get(e);o||(o=new Set,this.$$eventMap.set(e,o)),o.add(t)});De(this,"$$off",(e,t)=>{const o=this.$$eventMap.get(e);o&&o.delete(t)});T(this,Rr,new mm(this)),T(this,$r,new bm(this)),T(this,Pr,new xm(this)),T(this,Br,new ym(this)),T(this,Ir,new km(this)),T(this,Fr,{})}get _property(){return b(this,Rr)}set _property(e){T(this,Rr,e)}get _event(){return b(this,$r)}set _event(e){T(this,$r,e)}get _talent(){return b(this,Pr)}set _talent(e){T(this,Pr,e)}get _achievement(){return b(this,Br)}set _achievement(e){T(this,Br,e)}get _character(){return b(this,Ir)}set _character(e){T(this,Ir,e)}get _triggerTalents(){return b(this,Fr)}set _triggerTalents(e){T(this,Fr,e)}get _defaultPropertyPoints(){return b(this,pt)}set _defaultPropertyPoints(e){T(this,pt,e)}get _talentSelectLimit(){return b(this,gt)}set _talentSelectLimit(e){T(this,gt,e)}get _propertyAllocateLimit(){return b(this,mt)}set _propertyAllocateLimit(e){T(this,mt,e)}get _defaultProperties(){return b(this,bt)}set _defaultProperties(e){T(this,bt,e)}get _initialData(){return b(this,_t)}set _initialData(e){T(this,_t,e)}async initial(e){const[t,o,n,u,a]=await Promise.all([e("age"),e("talents"),e("events"),e("achievement"),e("character")]),i=this._achievement.initial({achievements:u}),s=this._event.initial({events:n}),c=this._talent.initial({talents:o}),l={[this.PropertyTypes.TACHV]:i,[this.PropertyTypes.TEVT]:s,[this.PropertyTypes.TTLT]:c};this._property.initial({age:t,total:l}),this._character.initial({characters:a})}config({defaultPropertyPoints:e=20,talentSelectLimit:t=3,propertyAllocateLimit:o=[0,10],defaultProperties:n={},talentConfig:u,propertyConfig:a,characterConfig:i}={}){this._defaultPropertyPoints=e,this._talentSelectLimit=t,this._propertyAllocateLimit=o,this._defaultProperties=n,this._talent.config(u),this._property.config(a),this._character.config(i)}request(e){return A.get({[this.Module.ACHIEVEMENT]:this._achievement,[this.Module.CHARACTER]:this._character,[this.Module.EVENT]:this._event,[this.Module.PROPERTY]:this._property,[this.Module.TALENT]:this._talent},e,null)}function(e){return{[this.Function.CONDITION]:gm,[this.Function.UTIL]:dm}[e]}check(e){return ta(this._property,e)}clone(...e){return Qu(...e)}remake(e){return this._initialData=A.cloneDeep(this._defaultProperties),this._initialData.TLT=A.cloneDeep(e),this._triggerTalents={},this.talentReplace(this._initialData.TLT)}start(e){A.forEach(e,(t,o)=>{this._initialData[o]=A.cloneDeep(t)}),this._property.restart(this._initialData),this.doTalent(),this._property.restartLastStep(),this._achievement.achieve(this.AchievementOpportunity.START)}getPropertyPoints(){return this._defaultPropertyPoints+this._talent.allocationAddition(this._initialData.TLT)}getTalentCurrentTriggerCount(e){return this._triggerTalents[e]||0}next(){const{age:e,event:t,talent:o}=this._property.ageNext(),n=this.doTalent(o),u=this.doEvent(this.random(t)),a=this._property.isEnd(),i=A.flatten([n,u]);return this._achievement.achieve(this.AchievementOpportunity.TRAJECTORY),{age:e,content:i,isEnd:a}}talentReplace(e){const t=this._talent.replace(e),o=[];return A.forEach(t,(n,u)=>{e.push(n);const a=this._talent.get(u),i=this._talent.get(n);o.push({type:"talentReplace",source:a,target:i})}),o}doTalent(e){e&&this._property.change(this.PropertyTypes.TLT,e),e=this._property.get(this.PropertyTypes.TLT).filter(o=>this.getTalentCurrentTriggerCount(o)<this._talent.get(o).max_triggers);const t=[];for(const o of e){const n=this._talent.do(o);if(!n)continue;this._triggerTalents[o]=this.getTalentCurrentTriggerCount(String(o))+1;const{effect:u,name:a,description:i,grade:s}=n;t.push({type:this.PropertyTypes.TLT,name:a,grade:s,description:i}),u&&this._property.effect(u)}return t}doEvent(e){const{effect:t,next:o,description:n,postEvent:u,grade:a}=this._event.do(String(e));this._property.change(this.PropertyTypes.EVT,e),this._property.effect(t);const i={type:this.PropertyTypes.EVT,description:n,postEvent:u,grade:a};return o?A.flatten([i,this.doEvent(o)]):[i]}random(e){return ea(e.filter(([t])=>this._event.check(String(t))))}talentRandom(){return this._talent.talentRandom(this.lastExtendTalent,qr(this,dr,aa).call(this,this.PropertyTypes.TMS,this.PropertyTypes.CACHV))}characterRandom(){const e=this._character.random(),t=o=>{o.talent=o.talent.map(n=>this._talent.get(n))};return e.normal.forEach(t),e.unique&&e.unique.talent&&t(e.unique),e}talentExtend(e){this._property.set(this.PropertyTypes.EXT,e)}exclude(e,t){return this._talent.exclude(e,t)}generateUnique(){this._character.generateUnique()}get lastExtendTalent(){return this._property.get(this.PropertyTypes.EXT)}get summary(){this._achievement.achieve(this.AchievementOpportunity.SUMMARY);const e=this.PropertyTypes;return qr(this,dr,Uo).call(this,e.SUM,e.HAGE,e.HCHR,e.HINT,e.HSTR,e.HMNY,e.HSPR)}get statistics(){const e=this.PropertyTypes;return qr(this,dr,Uo).call(this,e.TMS,e.CACHV,e.RTLT,e.REVT)}get achievements(){const e={};return this._property.get(this.PropertyTypes.ACHV).forEach(([t,o])=>{e[t]=o}),this._achievement.list().sort(({id:t,grade:o,hide:n},{id:u,grade:a,hide:i})=>{const s=e[t],c=e[u];return s&&c?c-s:!s&&!c?n&&i?a-o:n?1:i?-1:a-o:s?-1:1})}get PropertyTypes(){return this._property.TYPES}get AchievementOpportunity(){return this._achievement.Opportunity}get talentSelectLimit(){return this._talentSelectLimit}get propertyAllocateLimit(){return A.cloneDeep(this._propertyAllocateLimit)}get properties(){return this._property.getProperties()}get times(){return this._property.get(this.PropertyTypes.TMS)||0}set times(e){this._property.set(this.PropertyTypes.TMS,e),this._achievement.achieve(this.AchievementOpportunity.END)}}Rr=new WeakMap,$r=new WeakMap,Pr=new WeakMap,Br=new WeakMap,Ir=new WeakMap,Fr=new WeakMap,pt=new WeakMap,gt=new WeakMap,mt=new WeakMap,bt=new WeakMap,_t=new WeakMap,dr=new WeakSet,Uo=function(...e){return Oo(A.flatten(e),t=>this._property.judge(t))},aa=function(...e){return Oo(A.flatten(e),t=>this._property.get(t))};const Cm={defaultPropertyPoints:20,talentSelectLimit:3,propertyAllocateLimit:[0,10],defaultProperties:{SPR:5},talentConfig:{talentPullCount:10,talentRate:{1:100,2:10,3:1,total:1e3},additions:{TMS:[[10,{2:1}],[30,{2:2}],[50,{2:3}],[70,{2:4}],[100,{2:5}]],CACHV:[[10,{2:1}],[30,{2:2}],[50,{2:3}],[70,{2:4}],[100,{2:5}]]}},propertyConfig:{judge:{RTLT:[[0,0],[.3,1],[.6,2],[.9,3]],REVT:[[0,0],[.2,1],[.4,2],[.6,3]],TMS:[[0,0,"UI_Remake_Times_Judge_Level_0"],[10,1,"UI_Remake_Times_Judge_Level_1"],[30,1,"UI_Remake_Times_Judge_Level_2"],[50,2,"UI_Remake_Times_Judge_Level_3"],[70,2,"UI_Remake_Times_Judge_Level_4"],[100,3,"UI_Remake_Times_Judge_Level_5"]],CACHV:[[0,0,"UI_Achievement_Count_Judge_Level_0"],[10,1,"UI_Achievement_Count_Judge_Level_1"],[30,1,"UI_Achievement_Count_Judge_Level_2"],[50,2,"UI_Achievement_Count_Judge_Level_3"],[70,2,"UI_Achievement_Count_Judge_Level_4"],[100,3,"UI_Achievement_Count_Judge_Level_5"]],HCHR:[[0,0,"UI_Judge_Level_0"],[1,0,"UI_Judge_Level_1"],[2,0,"UI_Judge_Level_2"],[4,0,"UI_Judge_Level_3"],[7,1,"UI_Judge_Level_4"],[9,2,"UI_Judge_Level_5"],[11,3,"UI_Judge_Level_6"]],HMNY:[[0,0,"UI_Judge_Level_0"],[1,0,"UI_Judge_Level_1"],[2,0,"UI_Judge_Level_2"],[4,0,"UI_Judge_Level_3"],[7,1,"UI_Judge_Level_4"],[9,2,"UI_Judge_Level_5"],[11,3,"UI_Judge_Level_6"]],HSPR:[[0,0,"UI_Spirit_Judge_Level_0"],[1,0,"UI_Spirit_Judge_Level_1"],[2,0,"UI_Spirit_Judge_Level_2"],[4,0,"UI_Spirit_Judge_Level_3"],[7,1,"UI_Spirit_Judge_Level_4"],[9,2,"UI_Spirit_Judge_Level_5"],[11,3,"UI_Spirit_Judge_Level_6"]],HINT:[[0,0,"UI_Judge_Level_0"],[1,0,"UI_Judge_Level_1"],[2,0,"UI_Judge_Level_2"],[4,0,"UI_Judge_Level_3"],[7,1,"UI_Judge_Level_4"],[9,2,"UI_Judge_Level_5"],[11,3,"UI_Judge_Level_6"],[21,3,"UI_Intelligence_Judge_Level_7"],[131,3,"UI_Intelligence_Judge_Level_8"],[501,3,"UI_Intelligence_Judge_Level_9"]],HSTR:[[0,0,"UI_Judge_Level_0"],[1,0,"UI_Judge_Level_1"],[2,0,"UI_Judge_Level_2"],[4,0,"UI_Judge_Level_3"],[7,1,"UI_Judge_Level_4"],[9,2,"UI_Judge_Level_5"],[11,3,"UI_Judge_Level_6"],[21,3,"UI_Strength_Judge_Level_7"],[101,3,"UI_Strength_Judge_Level_8"],[401,3,"UI_Strength_Judge_Level_9"],[1001,3,"UI_Strength_Judge_Level_10"],[2001,3,"UI_Strength_Judge_Level_11"]],HAGE:[[0,0,"UI_AGE_Judge_Level_0"],[1,0,"UI_AGE_Judge_Level_1"],[10,0,"UI_AGE_Judge_Level_2"],[18,0,"UI_AGE_Judge_Level_3"],[40,0,"UI_AGE_Judge_Level_4"],[60,1,"UI_AGE_Judge_Level_5"],[70,1,"UI_AGE_Judge_Level_6"],[80,2,"UI_AGE_Judge_Level_7"],[90,2,"UI_AGE_Judge_Level_8"],[95,3,"UI_AGE_Judge_Level_9"],[100,3,"UI_AGE_Judge_Level_10"],[500,3,"UI_AGE_Judge_Level_11"]],SUM:[[0,0,"UI_Judge_Level_0"],[41,0,"UI_Judge_Level_1"],[50,0,"UI_Judge_Level_2"],[60,0,"UI_Judge_Level_3"],[80,1,"UI_Judge_Level_4"],[100,2,"UI_Judge_Level_5"],[110,3,"UI_Judge_Level_6"],[120,3,"UI_Judge_Level_7"]]}},characterConfig:{characterPullCount:3,rateableKnife:10,propertyWeight:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,5],[7,4],[8,3],[9,2],[10,1]],talentWeight:[[1,1],[2,2],[3,3],[4,2],[5,1]]}},zo="RFC3986",Yo={RFC1738:r=>String(r).replace(/%20/g,"+"),RFC3986:r=>String(r)},wm="RFC1738",Em=Array.isArray,Re=(()=>{const r=[];for(let e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r})(),xo=1024,Sm=(r,e,t,o,n)=>{if(r.length===0)return r;let u=r;if(typeof r=="symbol"?u=Symbol.prototype.toString.call(r):typeof r!="string"&&(u=String(r)),t==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(i){return"%26%23"+parseInt(i.slice(2),16)+"%3B"});let a="";for(let i=0;i<u.length;i+=xo){const s=u.length>=xo?u.slice(i,i+xo):u,c=[];for(let l=0;l<s.length;++l){let d=s.charCodeAt(l);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||n===wm&&(d===40||d===41)){c[c.length]=s.charAt(l);continue}if(d<128){c[c.length]=Re[d];continue}if(d<2048){c[c.length]=Re[192|d>>6]+Re[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=Re[224|d>>12]+Re[128|d>>6&63]+Re[128|d&63];continue}l+=1,d=65536+((d&1023)<<10|s.charCodeAt(l)&1023),c[c.length]=Re[240|d>>18]+Re[128|d>>12&63]+Re[128|d>>6&63]+Re[128|d&63]}a+=c.join("")}return a};function Am(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))}function Wn(r,e){if(Em(r)){const t=[];for(let o=0;o<r.length;o+=1)t.push(e(r[o]));return t}return e(r)}const Tm=Object.prototype.hasOwnProperty,ia={brackets(r){return String(r)+"[]"},comma:"comma",indices(r,e){return String(r)+"["+e+"]"},repeat(r){return String(r)}},$e=Array.isArray,Dm=Array.prototype.push,sa=function(r,e){Dm.apply(r,$e(e)?e:[e])},Rm=Date.prototype.toISOString,W={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Sm,encodeValuesOnly:!1,format:zo,formatter:Yo[zo],indices:!1,serializeDate(r){return Rm.call(r)},skipNulls:!1,strictNullHandling:!1};function $m(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"}const yo={};function ca(r,e,t,o,n,u,a,i,s,c,l,d,p,h,f,m,_,k){let g=r,y=k,x=0,w=!1;for(;(y=y.get(yo))!==void 0&&!w;){const R=y.get(r);if(x+=1,typeof R<"u"){if(R===x)throw new RangeError("Cyclic object value");w=!0}typeof y.get(yo)>"u"&&(x=0)}if(typeof c=="function"?g=c(e,g):g instanceof Date?g=p==null?void 0:p(g):t==="comma"&&$e(g)&&(g=Wn(g,function(R){return R instanceof Date?p==null?void 0:p(R):R})),g===null){if(u)return s&&!m?s(e,W.encoder,_,"key",h):e;g=""}if($m(g)||Am(g)){if(s){const R=m?e:s(e,W.encoder,_,"key",h);return[(f==null?void 0:f(R))+"="+(f==null?void 0:f(s(g,W.encoder,_,"value",h)))]}return[(f==null?void 0:f(e))+"="+(f==null?void 0:f(String(g)))]}const v=[];if(typeof g>"u")return v;let C;if(t==="comma"&&$e(g))m&&s&&(g=Wn(g,s)),C=[{value:g.length>0?g.join(",")||null:void 0}];else if($e(c))C=c;else{const R=Object.keys(g);C=l?R.sort(l):R}const P=i?String(e).replace(/\./g,"%2E"):String(e),D=o&&$e(g)&&g.length===1?P+"[]":P;if(n&&$e(g)&&g.length===0)return D+"[]";for(let R=0;R<C.length;++R){const B=C[R],ee=typeof B=="object"&&typeof B.value<"u"?B.value:g[B];if(a&&ee===null)continue;const ke=d&&i?B.replace(/\./g,"%2E"):B,tr=$e(g)?typeof t=="function"?t(D,ke):D:D+(d?"."+ke:"["+ke+"]");k.set(r,x);const me=new WeakMap;me.set(yo,k),sa(v,ca(ee,tr,t,o,n,u,a,i,t==="comma"&&m&&$e(g)?null:s,c,l,d,p,h,f,m,_,me))}return v}function Pm(r=W){if(typeof r.allowEmptyArrays<"u"&&typeof r.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof r.encodeDotInKeys<"u"&&typeof r.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(r.encoder!==null&&typeof r.encoder<"u"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=r.charset||W.charset;if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let t=zo;if(typeof r.format<"u"){if(!Tm.call(Yo,r.format))throw new TypeError("Unknown format option provided.");t=r.format}const o=Yo[t];let n=W.filter;(typeof r.filter=="function"||$e(r.filter))&&(n=r.filter);let u;if(r.arrayFormat&&r.arrayFormat in ia?u=r.arrayFormat:"indices"in r?u=r.indices?"indices":"repeat":u=W.arrayFormat,"commaRoundTrip"in r&&typeof r.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof r.allowDots>"u"?r.encodeDotInKeys?!0:W.allowDots:!!r.allowDots;return{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:W.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof r.allowEmptyArrays=="boolean"?!!r.allowEmptyArrays:W.allowEmptyArrays,arrayFormat:u,charset:e,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:W.charsetSentinel,commaRoundTrip:!!r.commaRoundTrip,delimiter:typeof r.delimiter>"u"?W.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:W.encode,encodeDotInKeys:typeof r.encodeDotInKeys=="boolean"?r.encodeDotInKeys:W.encodeDotInKeys,encoder:typeof r.encoder=="function"?r.encoder:W.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:W.encodeValuesOnly,filter:n,format:t,formatter:o,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:W.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:W.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:W.strictNullHandling}}function Bm(r,e={}){let t=r;const o=Pm(e);let n,u;typeof o.filter=="function"?(u=o.filter,t=u("",t)):$e(o.filter)&&(u=o.filter,n=u);const a=[];if(typeof t!="object"||t===null)return"";const i=ia[o.arrayFormat],s=i==="comma"&&o.commaRoundTrip;n||(n=Object.keys(t)),o.sort&&n.sort(o.sort);const c=new WeakMap;for(let p=0;p<n.length;++p){const h=n[p];o.skipNulls&&t[h]===null||sa(a,ca(t[h],h,i,s,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,c))}const l=a.join(o.delimiter);let d=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),l.length>0?d+l:""}const mr="4.85.4";let Vn=!1,tt,la,da,Ho,fa,ha,pa,ga,ma;function Im(r,e={auto:!1}){if(Vn)throw new Error(`you must \`import 'openai/shims/${r.kind}'\` before importing anything else from openai`);if(tt)throw new Error(`can't \`import 'openai/shims/${r.kind}'\` after \`import 'openai/shims/${tt}'\``);Vn=e.auto,tt=r.kind,la=r.fetch,da=r.FormData,Ho=r.File,fa=r.ReadableStream,ha=r.getMultipartRequestOptions,pa=r.getDefaultAgent,ga=r.fileFromPath,ma=r.isFsReadStream}class Fm{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function Lm({manuallyImported:r}={}){const e=r?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let t,o,n,u;try{t=fetch,o=Request,n=Response,u=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:t,Request:o,Response:n,Headers:u,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,i)=>({...i,body:new Fm(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}tt||Im(Lm(),{auto:!0});class I extends Error{}class Q extends I{constructor(e,t,o,n){super(`${Q.makeMessage(e,t,o)}`),this.status=e,this.headers=n,this.request_id=n==null?void 0:n["x-request-id"],this.error=t;const u=t;this.code=u==null?void 0:u.code,this.param=u==null?void 0:u.param,this.type=u==null?void 0:u.type}static makeMessage(e,t,o){const n=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):o;return e&&n?`${e} ${n}`:e?`${e} status code (no body)`:n||"(no status code or body)"}static generate(e,t,o,n){if(!e||!n)return new no({message:o,cause:qo(t)});const u=t==null?void 0:t.error;return e===400?new ba(e,u,o,n):e===401?new _a(e,u,o,n):e===403?new xa(e,u,o,n):e===404?new ya(e,u,o,n):e===409?new ka(e,u,o,n):e===422?new va(e,u,o,n):e===429?new Ca(e,u,o,n):e>=500?new wa(e,u,o,n):new Q(e,u,o,n)}}class Se extends Q{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class no extends Q{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class sn extends no{constructor({message:e}={}){super({message:e??"Request timed out."})}}class ba extends Q{}class _a extends Q{}class xa extends Q{}class ya extends Q{}class ka extends Q{}class va extends Q{}class Ca extends Q{}class wa extends Q{}class Ea extends I{constructor(){super("Could not parse response content as the length limit was reached")}}class Sa extends I{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Dt=function(r,e,t,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},or=function(r,e,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(r):o?o.value:e.get(r)},ce;class uo{constructor(){ce.set(this,void 0),this.buffer=new Uint8Array,Dt(this,ce,null,"f")}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let o=new Uint8Array(this.buffer.length+t.length);o.set(this.buffer),o.set(t,this.buffer.length),this.buffer=o;const n=[];let u;for(;(u=Mm(this.buffer,or(this,ce,"f")))!=null;){if(u.carriage&&or(this,ce,"f")==null){Dt(this,ce,u.index,"f");continue}if(or(this,ce,"f")!=null&&(u.index!==or(this,ce,"f")+1||u.carriage)){n.push(this.decodeText(this.buffer.slice(0,or(this,ce,"f")-1))),this.buffer=this.buffer.slice(or(this,ce,"f")),Dt(this,ce,null,"f");continue}const a=or(this,ce,"f")!==null?u.preceding-1:u.preceding,i=this.decodeText(this.buffer.slice(0,a));n.push(i),this.buffer=this.buffer.slice(u.index),Dt(this,ce,null,"f")}return n}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new I(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new I(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new I("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}ce=new WeakMap;uo.NEWLINE_CHARS=new Set([`
`,"\r"]);uo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Mm(r,e){for(let n=e??0;n<r.length;n++){if(r[n]===10)return{preceding:n,index:n+1,carriage:!1};if(r[n]===13)return{preceding:n,index:n+1,carriage:!0}}return null}function Om(r){for(let o=0;o<r.length-1;o++){if(r[o]===10&&r[o+1]===10||r[o]===13&&r[o+1]===13)return o+2;if(r[o]===13&&r[o+1]===10&&o+3<r.length&&r[o+2]===13&&r[o+3]===10)return o+4}return-1}function Aa(r){if(r[Symbol.asyncIterator])return r;const e=r.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Be{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let o=!1;async function*n(){if(o)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let u=!1;try{for await(const a of Nm(e,t))if(!u){if(a.data.startsWith("[DONE]")){u=!0;continue}if(a.event===null){let i;try{i=JSON.parse(a.data)}catch(s){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),s}if(i&&i.error)throw new Q(void 0,i.error,void 0,void 0);yield i}else{let i;try{i=JSON.parse(a.data)}catch(s){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),s}if(a.event=="error")throw new Q(void 0,i.error,i.message,void 0);yield{event:a.event,data:i}}}u=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{u||t.abort()}}return new Be(n,t)}static fromReadableStream(e,t){let o=!1;async function*n(){const a=new uo,i=Aa(e);for await(const s of i)for(const c of a.decode(s))yield c;for(const s of a.flush())yield s}async function*u(){if(o)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let a=!1;try{for await(const i of n())a||i&&(yield JSON.parse(i));a=!0}catch(i){if(i instanceof Error&&i.name==="AbortError")return;throw i}finally{a||t.abort()}}return new Be(u,t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],o=this.iterator(),n=u=>({next:()=>{if(u.length===0){const a=o.next();e.push(a),t.push(a)}return u.shift()}});return[new Be(()=>n(e),this.controller),new Be(()=>n(t),this.controller)]}toReadableStream(){const e=this;let t;const o=new TextEncoder;return new fa({async start(){t=e[Symbol.asyncIterator]()},async pull(n){try{const{value:u,done:a}=await t.next();if(a)return n.close();const i=o.encode(JSON.stringify(u)+`
`);n.enqueue(i)}catch(u){n.error(u)}},async cancel(){var n;await((n=t.return)==null?void 0:n.call(t))}})}}async function*Nm(r,e){if(!r.body)throw e.abort(),new I("Attempted to iterate over a response with no body");const t=new zm,o=new uo,n=Aa(r.body);for await(const u of Um(n))for(const a of o.decode(u)){const i=t.decode(a);i&&(yield i)}for(const u of o.flush()){const a=t.decode(u);a&&(yield a)}}async function*Um(r){let e=new Uint8Array;for await(const t of r){if(t==null)continue;const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let n=new Uint8Array(e.length+o.length);n.set(e),n.set(o,e.length),e=n;let u;for(;(u=Om(e))!==-1;)yield e.slice(0,u),e=e.slice(u)}e.length>0&&(yield e)}class zm{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,o,n]=Ym(e,":");return n.startsWith(" ")&&(n=n.substring(1)),t==="event"?this.event=n:t==="data"&&this.data.push(n),null}}function Ym(r,e){const t=r.indexOf(e);return t!==-1?[r.substring(0,t),e,r.substring(t+e.length)]:[r,"",""]}const Ta=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function",Da=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&ao(r),ao=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",Hm=r=>Da(r)||Ta(r)||ma(r);async function Ra(r,e,t){var n;if(r=await r,Da(r))return r;if(Ta(r)){const u=await r.blob();e||(e=new URL(r.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=ao(u)?[await u.arrayBuffer()]:[u];return new Ho(a,e,t)}const o=await jm(r);if(e||(e=Wm(r)??"unknown_file"),!(t!=null&&t.type)){const u=(n=o[0])==null?void 0:n.type;typeof u=="string"&&(t={...t,type:u})}return new Ho(o,e,t)}async function jm(r){var t;let e=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)e.push(r);else if(ao(r))e.push(await r.arrayBuffer());else if(Vm(r))for await(const o of r)e.push(o);else throw new Error(`Unexpected data type: ${typeof r}; constructor: ${(t=r==null?void 0:r.constructor)==null?void 0:t.name}; props: ${qm(r)}`);return e}function qm(r){return`[${Object.getOwnPropertyNames(r).map(t=>`"${t}"`).join(", ")}]`}function Wm(r){var e;return ko(r.name)||ko(r.filename)||((e=ko(r.path))==null?void 0:e.split(/[\\/]/).pop())}const ko=r=>{if(typeof r=="string")return r;if(typeof Buffer<"u"&&r instanceof Buffer)return String(r)},Vm=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function",Jn=r=>r&&typeof r=="object"&&r.body&&r[Symbol.toStringTag]==="MultipartBody",Lr=async r=>{const e=await Jm(r.body);return ha(e,r)},Jm=async r=>{const e=new da;return await Promise.all(Object.entries(r||{}).map(([t,o])=>jo(e,t,o))),e},jo=async(r,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")r.append(e,String(t));else if(Hm(t)){const o=await Ra(t);r.append(e,o)}else if(Array.isArray(t))await Promise.all(t.map(o=>jo(r,e+"[]",o)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([o,n])=>jo(r,`${e}[${o}]`,n)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}};var xr={},Gm=function(r,e,t,o,n){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(r,t),t},Xm=function(r,e,t,o){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(r):o?o.value:e.get(r)},Rt;async function $a(r){const{response:e}=r;if(r.options.stream)return yr("response",e.status,e.url,e.headers,e.body),r.options.__streamClass?r.options.__streamClass.fromSSEResponse(e,r.controller):Be.fromSSEResponse(e,r.controller);if(e.status===204)return null;if(r.options.__binaryResponse)return e;const t=e.headers.get("content-type");if((t==null?void 0:t.includes("application/json"))||(t==null?void 0:t.includes("application/vnd.api+json"))){const u=await e.json();return yr("response",e.status,e.url,e.headers,u),Pa(u,e)}const n=await e.text();return yr("response",e.status,e.url,e.headers,n),n}function Pa(r,e){return!r||typeof r!="object"||Array.isArray(r)?r:Object.defineProperty(r,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class io extends Promise{constructor(e,t=$a){super(o=>{o(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new io(this.responsePromise,async t=>Pa(e(await this.parseResponse(t),t),t.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Zm{constructor({baseURL:e,maxRetries:t=2,timeout:o=6e5,httpAgent:n,fetch:u}){this.baseURL=e,this.maxRetries=vo("maxRetries",t),this.timeout=vo("timeout",o),this.httpAgent=n,this.fetch=u??la}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...ob(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${ib()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,o){return this.request(Promise.resolve(o).then(async n=>{const u=n&&ao(n==null?void 0:n.body)?new DataView(await n.body.arrayBuffer()):(n==null?void 0:n.body)instanceof DataView?n.body:(n==null?void 0:n.body)instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n==null?void 0:n.body)?new DataView(n.body.buffer):n==null?void 0:n.body;return{method:e,path:t,...n,body:u}}))}getAPIList(e,t,o){return this.requestAPIList(t,{method:"get",path:e,...o})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){var f;e={...e};const{method:o,path:n,query:u,headers:a={}}=e,i=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Jn(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,s=this.calculateContentLength(i),c=this.buildURL(n,u);"timeout"in e&&vo("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const l=e.httpAgent??this.httpAgent??pa(c),d=e.timeout+1e3;typeof((f=l==null?void 0:l.options)==null?void 0:f.timeout)=="number"&&d>(l.options.timeout??0)&&(l.options.timeout=d),this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const p=this.buildHeaders({options:e,headers:a,contentLength:s,retryCount:t});return{req:{method:o,...i&&{body:i},headers:p,...l&&{agent:l},signal:e.signal??null},url:c,timeout:e.timeout}}buildHeaders({options:e,headers:t,contentLength:o,retryCount:n}){const u={};o&&(u["content-length"]=o);const a=this.defaultHeaders(e);return Kn(u,a),Kn(u,t),Jn(e.body)&&tt!=="node"&&delete u["content-type"],Pt(a,"x-stainless-retry-count")===void 0&&Pt(t,"x-stainless-retry-count")===void 0&&(u["x-stainless-retry-count"]=String(n)),Pt(a,"x-stainless-timeout")===void 0&&Pt(t,"x-stainless-timeout")===void 0&&e.timeout&&(u["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(u,t),u}async prepareOptions(e){}async prepareRequest(e,{url:t,options:o}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(t=>[...t])):{...e}:{}}makeStatusError(e,t,o,n){return Q.generate(e,t,o,n)}request(e,t=null){return new io(this.makeRequest(e,t))}async makeRequest(e,t){var d,p;const o=await e,n=o.maxRetries??this.maxRetries;t==null&&(t=n),await this.prepareOptions(o);const{req:u,url:a,timeout:i}=this.buildRequest(o,{retryCount:n-t});if(await this.prepareRequest(u,{url:a,options:o}),yr("request",a,o,u.headers),(d=o.signal)!=null&&d.aborted)throw new Se;const s=new AbortController,c=await this.fetchWithTimeout(a,u,i,s).catch(qo);if(c instanceof Error){if((p=o.signal)!=null&&p.aborted)throw new Se;if(t)return this.retryRequest(o,t);throw c.name==="AbortError"?new sn:new no({cause:c})}const l=Qm(c.headers);if(!c.ok){if(t&&this.shouldRetry(c)){const g=`retrying, ${t} attempts remaining`;return yr(`response (error; ${g})`,c.status,a,l),this.retryRequest(o,t,l)}const h=await c.text().catch(g=>qo(g).message),f=nb(h),m=f?void 0:h;throw yr(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,c.status,a,l,m),this.makeStatusError(c.status,f,m,l)}return{response:c,options:o,controller:s}}requestAPIList(e,t){const o=this.makeRequest(t,null);return new Km(this,o,e)}buildURL(e,t){const o=ab(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),n=this.defaultQuery();return Ia(n)||(t={...n,...t}),typeof t=="object"&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}stringifyQuery(e){return Object.entries(e).filter(([t,o])=>typeof o<"u").map(([t,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(t)}=`;throw new I(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,o,n){const{signal:u,...a}=t||{};u&&u.addEventListener("abort",()=>n.abort());const i=setTimeout(()=>n.abort(),o),s={signal:n.signal,...a};return s.method&&(s.method=s.method.toUpperCase()),this.fetch.call(void 0,e,s).finally(()=>{clearTimeout(i)})}shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,o){let n;const u=o==null?void 0:o["retry-after-ms"];if(u){const i=parseFloat(u);Number.isNaN(i)||(n=i)}const a=o==null?void 0:o["retry-after"];if(a&&!n){const i=parseFloat(a);Number.isNaN(i)?n=Date.parse(a)-Date.now():n=i*1e3}if(!(n&&0<=n&&n<60*1e3)){const i=e.maxRetries??this.maxRetries;n=this.calculateDefaultRetryTimeoutMillis(t,i)}return await xt(n),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const u=t-e,a=Math.min(.5*Math.pow(2,u),8),i=1-Math.random()*.25;return a*i*1e3}getUserAgent(){return`${this.constructor.name}/JS ${mr}`}}class Ba{constructor(e,t,o,n){Rt.set(this,void 0),Gm(this,Rt,e),this.options=n,this.response=t,this.body=o}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new I("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&typeof t.query=="object")t.query={...t.query,...e.params};else if("url"in e){const o=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[n,u]of o)e.url.searchParams.set(n,u);t.query=void 0,t.path=e.url.toString()}return await Xm(this,Rt,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Rt=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class Km extends io{constructor(e,t,o){super(t,async n=>new o(e,n.response,await $a(n),n.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}}const Qm=r=>new Proxy(Object.fromEntries(r.entries()),{get(e,t){const o=t.toString();return e[o.toLowerCase()]||e[o]}}),eb={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ne=r=>typeof r=="object"&&r!==null&&!Ia(r)&&Object.keys(r).every(e=>Fa(eb,e)),rb=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mr,"X-Stainless-OS":Xn(Deno.build.os),"X-Stainless-Arch":Gn(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mr,"X-Stainless-OS":Xn(process.platform),"X-Stainless-Arch":Gn(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const r=tb();return r?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${r.browser}`,"X-Stainless-Runtime-Version":r.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function tb(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of r){const o=t.exec(navigator.userAgent);if(o){const n=o[1]||0,u=o[2]||0,a=o[3]||0;return{browser:e,version:`${n}.${u}.${a}`}}}return null}const Gn=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",Xn=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let Zn;const ob=()=>Zn??(Zn=rb()),nb=r=>{try{return JSON.parse(r)}catch{return}},ub=/^[a-z][a-z0-9+.-]*:/i,ab=r=>ub.test(r),xt=r=>new Promise(e=>setTimeout(e,r)),vo=(r,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new I(`${r} must be an integer`);if(e<0)throw new I(`${r} must be a positive integer`);return e},qo=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null)try{return new Error(JSON.stringify(r))}catch{}return new Error(r)},$t=r=>{var e,t,o,n;if(typeof process<"u")return((e=xr==null?void 0:xr[r])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(n=(o=(t=Deno.env)==null?void 0:t.get)==null?void 0:o.call(t,r))==null?void 0:n.trim()};function Ia(r){if(!r)return!0;for(const e in r)return!1;return!0}function Fa(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function Kn(r,e){for(const t in e){if(!Fa(e,t))continue;const o=t.toLowerCase();if(!o)continue;const n=e[t];n===null?delete r[o]:n!==void 0&&(r[o]=n)}}const Qn=new Set(["authorization","api-key"]);function yr(r,...e){if(typeof process<"u"&&(xr==null?void 0:xr.DEBUG)==="true"){const t=e.map(o=>{if(!o)return o;if(o.headers){const u={...o,headers:{...o.headers}};for(const a in o.headers)Qn.has(a.toLowerCase())&&(u.headers[a]="REDACTED");return u}let n=null;for(const u in o)Qn.has(u.toLowerCase())&&(n??(n={...o}),n[u]="REDACTED");return n??o});console.log(`OpenAI:DEBUG:${r}`,...t)}}const ib=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)}),sb=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",cb=r=>typeof(r==null?void 0:r.get)=="function",Pt=(r,e)=>{var o;const t=e.toLowerCase();if(cb(r)){const n=((o=e[0])==null?void 0:o.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(u,a,i)=>a+i.toUpperCase());for(const u of[e,t,e.toUpperCase(),n]){const a=r.get(u);if(a)return a}}for(const[n,u]of Object.entries(r))if(n.toLowerCase()===t)return Array.isArray(u)?(u.length<=1||console.warn(`Received ${u.length} entries for the ${e} header, using the first entry.`),u[0]):u};function Co(r){return r!=null&&typeof r=="object"&&!Array.isArray(r)}class lb extends Ba{constructor(e,t,o,n){super(e,t,o,n),this.data=o.data||[],this.object=o.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class ge extends Ba{constructor(e,t,o,n){super(e,t,o,n),this.data=o.data||[],this.has_more=o.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var o;const e=this.getPaginatedItems();if(!e.length)return null;const t=(o=e[e.length-1])==null?void 0:o.id;return t?{params:{after:t}}:null}}class M{constructor(e){this._client=e}}let La=class extends M{list(e,t={},o){return ne(t)?this.list(e,{},t):this._client.getAPIList(`/chat/completions/${e}/messages`,db,{query:t,...o})}},so=class extends M{constructor(){super(...arguments),this.messages=new La(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(`/chat/completions/${e}`,t)}update(e,t,o){return this._client.post(`/chat/completions/${e}`,{body:t,...o})}list(e={},t){return ne(e)?this.list({},e):this._client.getAPIList("/chat/completions",co,{query:e,...t})}del(e,t){return this._client.delete(`/chat/completions/${e}`,t)}};class co extends ge{}class db extends ge{}so.ChatCompletionsPage=co;so.Messages=La;let lo=class extends M{constructor(){super(...arguments),this.completions=new so(this._client)}};lo.Completions=so;lo.ChatCompletionsPage=co;class Ma extends M{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:{Accept:"application/octet-stream",...t==null?void 0:t.headers},__binaryResponse:!0})}}class Oa extends M{create(e,t){return this._client.post("/audio/transcriptions",Lr({body:e,...t,__metadata:{model:e.model}}))}}class Na extends M{create(e,t){return this._client.post("/audio/translations",Lr({body:e,...t,__metadata:{model:e.model}}))}}class yt extends M{constructor(){super(...arguments),this.transcriptions=new Oa(this._client),this.translations=new Na(this._client),this.speech=new Ma(this._client)}}yt.Transcriptions=Oa;yt.Translations=Na;yt.Speech=Ma;class cn extends M{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(e={},t){return ne(e)?this.list({},e):this._client.getAPIList("/batches",ln,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class ln extends ge{}cn.BatchesPage=ln;class dn extends M{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,o){return this._client.post(`/assistants/${e}`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(e={},t){return ne(e)?this.list({},e):this._client.getAPIList("/assistants",fn,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class fn extends ge{}dn.AssistantsPage=fn;function eu(r){return typeof r.parse=="function"}const kr=r=>(r==null?void 0:r.role)==="assistant",Ua=r=>(r==null?void 0:r.role)==="function",za=r=>(r==null?void 0:r.role)==="tool";var ve=function(r,e,t,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},H=function(r,e,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(r):o?o.value:e.get(r)},Wo,zt,Yt,Gr,Xr,Ht,Zr,Ue,Kr,Gt,Xt,br,Ya;class Ha{constructor(){Wo.add(this),this.controller=new AbortController,zt.set(this,void 0),Yt.set(this,()=>{}),Gr.set(this,()=>{}),Xr.set(this,void 0),Ht.set(this,()=>{}),Zr.set(this,()=>{}),Ue.set(this,{}),Kr.set(this,!1),Gt.set(this,!1),Xt.set(this,!1),br.set(this,!1),ve(this,zt,new Promise((e,t)=>{ve(this,Yt,e,"f"),ve(this,Gr,t,"f")}),"f"),ve(this,Xr,new Promise((e,t)=>{ve(this,Ht,e,"f"),ve(this,Zr,t,"f")}),"f"),H(this,zt,"f").catch(()=>{}),H(this,Xr,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},H(this,Wo,"m",Ya).bind(this))},0)}_connected(){this.ended||(H(this,Yt,"f").call(this),this._emit("connect"))}get ended(){return H(this,Kr,"f")}get errored(){return H(this,Gt,"f")}get aborted(){return H(this,Xt,"f")}abort(){this.controller.abort()}on(e,t){return(H(this,Ue,"f")[e]||(H(this,Ue,"f")[e]=[])).push({listener:t}),this}off(e,t){const o=H(this,Ue,"f")[e];if(!o)return this;const n=o.findIndex(u=>u.listener===t);return n>=0&&o.splice(n,1),this}once(e,t){return(H(this,Ue,"f")[e]||(H(this,Ue,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,o)=>{ve(this,br,!0,"f"),e!=="error"&&this.once("error",o),this.once(e,t)})}async done(){ve(this,br,!0,"f"),await H(this,Xr,"f")}_emit(e,...t){if(H(this,Kr,"f"))return;e==="end"&&(ve(this,Kr,!0,"f"),H(this,Ht,"f").call(this));const o=H(this,Ue,"f")[e];if(o&&(H(this,Ue,"f")[e]=o.filter(n=>!n.once),o.forEach(({listener:n})=>n(...t))),e==="abort"){const n=t[0];!H(this,br,"f")&&!(o!=null&&o.length)&&Promise.reject(n),H(this,Gr,"f").call(this,n),H(this,Zr,"f").call(this,n),this._emit("end");return}if(e==="error"){const n=t[0];!H(this,br,"f")&&!(o!=null&&o.length)&&Promise.reject(n),H(this,Gr,"f").call(this,n),H(this,Zr,"f").call(this,n),this._emit("end")}}_emitFinal(){}}zt=new WeakMap,Yt=new WeakMap,Gr=new WeakMap,Xr=new WeakMap,Ht=new WeakMap,Zr=new WeakMap,Ue=new WeakMap,Kr=new WeakMap,Gt=new WeakMap,Xt=new WeakMap,br=new WeakMap,Wo=new WeakSet,Ya=function(e){if(ve(this,Gt,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Se),e instanceof Se)return ve(this,Xt,!0,"f"),this._emit("abort",e);if(e instanceof I)return this._emit("error",e);if(e instanceof Error){const t=new I(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new I(String(e)))};function ja(r){return(r==null?void 0:r.$brand)==="auto-parseable-response-format"}function kt(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function fb(r,e){return!e||!qa(e)?{...r,choices:r.choices.map(t=>({...t,message:{...t.message,parsed:null,...t.message.tool_calls?{tool_calls:t.message.tool_calls}:void 0}}))}:hn(r,e)}function hn(r,e){const t=r.choices.map(o=>{var n;if(o.finish_reason==="length")throw new Ea;if(o.finish_reason==="content_filter")throw new Sa;return{...o,message:{...o.message,...o.message.tool_calls?{tool_calls:((n=o.message.tool_calls)==null?void 0:n.map(u=>pb(e,u)))??void 0}:void 0,parsed:o.message.content&&!o.message.refusal?hb(e,o.message.content):null}}});return{...r,choices:t}}function hb(r,e){var t,o;return((t=r.response_format)==null?void 0:t.type)!=="json_schema"?null:((o=r.response_format)==null?void 0:o.type)==="json_schema"?"$parseRaw"in r.response_format?r.response_format.$parseRaw(e):JSON.parse(e):null}function pb(r,e){var o;const t=(o=r.tools)==null?void 0:o.find(n=>{var u;return((u=n.function)==null?void 0:u.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:kt(t)?t.$parseRaw(e.function.arguments):t!=null&&t.function.strict?JSON.parse(e.function.arguments):null}}}function gb(r,e){var o;if(!r)return!1;const t=(o=r.tools)==null?void 0:o.find(n=>{var u;return((u=n.function)==null?void 0:u.name)===e.function.name});return kt(t)||(t==null?void 0:t.function.strict)||!1}function qa(r){var e;return ja(r.response_format)?!0:((e=r.tools)==null?void 0:e.some(t=>kt(t)||t.type==="function"&&t.function.strict===!0))??!1}function mb(r){for(const e of r??[]){if(e.type!=="function")throw new I(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new I(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var ue=function(r,e,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(r):o?o.value:e.get(r)},re,Vo,Zt,Jo,Go,Xo,Wa,Zo;const ru=10;class Va extends Ha{constructor(){super(...arguments),re.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var o;this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=(o=e.choices[0])==null?void 0:o.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t){if(this._emit("message",e),(Ua(e)||za(e))&&e.content)this._emit("functionCallResult",e.content);else if(kr(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(kr(e)&&e.tool_calls)for(const o of e.tool_calls)o.type==="function"&&this._emit("functionCall",o.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new I("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),ue(this,re,"m",Vo).call(this)}async finalMessage(){return await this.done(),ue(this,re,"m",Zt).call(this)}async finalFunctionCall(){return await this.done(),ue(this,re,"m",Jo).call(this)}async finalFunctionCallResult(){return await this.done(),ue(this,re,"m",Go).call(this)}async totalUsage(){return await this.done(),ue(this,re,"m",Xo).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=ue(this,re,"m",Zt).call(this);t&&this._emit("finalMessage",t);const o=ue(this,re,"m",Vo).call(this);o&&this._emit("finalContent",o);const n=ue(this,re,"m",Jo).call(this);n&&this._emit("finalFunctionCall",n);const u=ue(this,re,"m",Go).call(this);u!=null&&this._emit("finalFunctionCallResult",u),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",ue(this,re,"m",Xo).call(this))}async _createChatCompletion(e,t,o){const n=o==null?void 0:o.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),ue(this,re,"m",Wa).call(this,t);const u=await e.chat.completions.create({...t,stream:!1},{...o,signal:this.controller.signal});return this._connected(),this._addChatCompletion(hn(u,t))}async _runChatCompletion(e,t,o){for(const n of t.messages)this._addMessage(n,!1);return await this._createChatCompletion(e,t,o)}async _runFunctions(e,t,o){var p;const n="function",{function_call:u="auto",stream:a,...i}=t,s=typeof u!="string"&&(u==null?void 0:u.name),{maxChatCompletions:c=ru}=o||{},l={};for(const h of t.functions)l[h.name||h.function.name]=h;const d=t.functions.map(h=>({name:h.name||h.function.name,parameters:h.parameters,description:h.description}));for(const h of t.messages)this._addMessage(h,!1);for(let h=0;h<c;++h){const m=(p=(await this._createChatCompletion(e,{...i,function_call:u,functions:d,messages:[...this.messages]},o)).choices[0])==null?void 0:p.message;if(!m)throw new I("missing message in ChatCompletion response");if(!m.function_call)return;const{name:_,arguments:k}=m.function_call,g=l[_];if(g){if(s&&s!==_){const v=`Invalid function_call: ${JSON.stringify(_)}. ${JSON.stringify(s)} requested. Please try again`;this._addMessage({role:n,name:_,content:v});continue}}else{const v=`Invalid function_call: ${JSON.stringify(_)}. Available options are: ${d.map(C=>JSON.stringify(C.name)).join(", ")}. Please try again`;this._addMessage({role:n,name:_,content:v});continue}let y;try{y=eu(g)?await g.parse(k):k}catch(v){this._addMessage({role:n,name:_,content:v instanceof Error?v.message:String(v)});continue}const x=await g.function(y,this),w=ue(this,re,"m",Zo).call(this,x);if(this._addMessage({role:n,name:_,content:w}),s)return}}async _runTools(e,t,o){var h,f,m;const n="tool",{tool_choice:u="auto",stream:a,...i}=t,s=typeof u!="string"&&((h=u==null?void 0:u.function)==null?void 0:h.name),{maxChatCompletions:c=ru}=o||{},l=t.tools.map(_=>{if(kt(_)){if(!_.$callback)throw new I("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:_.$callback,name:_.function.name,description:_.function.description||"",parameters:_.function.parameters,parse:_.$parseRaw,strict:!0}}}return _}),d={};for(const _ of l)_.type==="function"&&(d[_.function.name||_.function.function.name]=_.function);const p="tools"in t?l.map(_=>_.type==="function"?{type:"function",function:{name:_.function.name||_.function.function.name,parameters:_.function.parameters,description:_.function.description,strict:_.function.strict}}:_):void 0;for(const _ of t.messages)this._addMessage(_,!1);for(let _=0;_<c;++_){const g=(f=(await this._createChatCompletion(e,{...i,tool_choice:u,tools:p,messages:[...this.messages]},o)).choices[0])==null?void 0:f.message;if(!g)throw new I("missing message in ChatCompletion response");if(!((m=g.tool_calls)!=null&&m.length))return;for(const y of g.tool_calls){if(y.type!=="function")continue;const x=y.id,{name:w,arguments:v}=y.function,C=d[w];if(C){if(s&&s!==w){const B=`Invalid tool_call: ${JSON.stringify(w)}. ${JSON.stringify(s)} requested. Please try again`;this._addMessage({role:n,tool_call_id:x,content:B});continue}}else{const B=`Invalid tool_call: ${JSON.stringify(w)}. Available options are: ${Object.keys(d).map(ee=>JSON.stringify(ee)).join(", ")}. Please try again`;this._addMessage({role:n,tool_call_id:x,content:B});continue}let P;try{P=eu(C)?await C.parse(v):v}catch(B){const ee=B instanceof Error?B.message:String(B);this._addMessage({role:n,tool_call_id:x,content:ee});continue}const D=await C.function(P,this),R=ue(this,re,"m",Zo).call(this,D);if(this._addMessage({role:n,tool_call_id:x,content:R}),s)return}}}}re=new WeakSet,Vo=function(){return ue(this,re,"m",Zt).call(this).content??null},Zt=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(kr(t)){const{function_call:o,...n}=t,u={...n,content:t.content??null,refusal:t.refusal??null};return o&&(u.function_call=o),u}}throw new I("stream ended without producing a ChatCompletionMessage with role=assistant")},Jo=function(){var e,t;for(let o=this.messages.length-1;o>=0;o--){const n=this.messages[o];if(kr(n)&&(n!=null&&n.function_call))return n.function_call;if(kr(n)&&((e=n==null?void 0:n.tool_calls)!=null&&e.length))return(t=n.tool_calls.at(-1))==null?void 0:t.function}},Go=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Ua(t)&&t.content!=null||za(t)&&t.content!=null&&typeof t.content=="string"&&this.messages.some(o=>{var n;return o.role==="assistant"&&((n=o.tool_calls)==null?void 0:n.some(u=>u.type==="function"&&u.id===t.tool_call_id))}))return t.content}},Xo=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},Wa=function(e){if(e.n!=null&&e.n>1)throw new I("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Zo=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class nt extends Va{static runFunctions(e,t,o){const n=new nt,u={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run(()=>n._runFunctions(e,t,u)),n}static runTools(e,t,o){const n=new nt,u={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run(()=>n._runTools(e,t,u)),n}_addMessage(e,t=!0){super._addMessage(e,t),kr(e)&&e.content&&this._emit("content",e.content)}}const Ja=1,Ga=2,Xa=4,Za=8,Ka=16,Qa=32,ei=64,ri=128,ti=256,oi=ri|ti,ni=Ka|Qa|oi|ei,ui=Ja|Ga|ni,ai=Xa|Za,bb=ui|ai,G={STR:Ja,NUM:Ga,ARR:Xa,OBJ:Za,NULL:Ka,BOOL:Qa,NAN:ei,INFINITY:ri,MINUS_INFINITY:ti,INF:oi,SPECIAL:ni,ATOM:ui,COLLECTION:ai,ALL:bb};class _b extends Error{}class xb extends Error{}function yb(r,e=G.ALL){if(typeof r!="string")throw new TypeError(`expecting str, got ${typeof r}`);if(!r.trim())throw new Error(`${r} is empty`);return kb(r.trim(),e)}const kb=(r,e)=>{const t=r.length;let o=0;const n=p=>{throw new _b(`${p} at position ${o}`)},u=p=>{throw new xb(`${p} at position ${o}`)},a=()=>(d(),o>=t&&n("Unexpected end of input"),r[o]==='"'?i():r[o]==="{"?s():r[o]==="["?c():r.substring(o,o+4)==="null"||G.NULL&e&&t-o<4&&"null".startsWith(r.substring(o))?(o+=4,null):r.substring(o,o+4)==="true"||G.BOOL&e&&t-o<4&&"true".startsWith(r.substring(o))?(o+=4,!0):r.substring(o,o+5)==="false"||G.BOOL&e&&t-o<5&&"false".startsWith(r.substring(o))?(o+=5,!1):r.substring(o,o+8)==="Infinity"||G.INFINITY&e&&t-o<8&&"Infinity".startsWith(r.substring(o))?(o+=8,1/0):r.substring(o,o+9)==="-Infinity"||G.MINUS_INFINITY&e&&1<t-o&&t-o<9&&"-Infinity".startsWith(r.substring(o))?(o+=9,-1/0):r.substring(o,o+3)==="NaN"||G.NAN&e&&t-o<3&&"NaN".startsWith(r.substring(o))?(o+=3,NaN):l()),i=()=>{const p=o;let h=!1;for(o++;o<t&&(r[o]!=='"'||h&&r[o-1]==="\\");)h=r[o]==="\\"?!h:!1,o++;if(r.charAt(o)=='"')try{return JSON.parse(r.substring(p,++o-Number(h)))}catch(f){u(String(f))}else if(G.STR&e)try{return JSON.parse(r.substring(p,o-Number(h))+'"')}catch{return JSON.parse(r.substring(p,r.lastIndexOf("\\"))+'"')}n("Unterminated string literal")},s=()=>{o++,d();const p={};try{for(;r[o]!=="}";){if(d(),o>=t&&G.OBJ&e)return p;const h=i();d(),o++;try{const f=a();Object.defineProperty(p,h,{value:f,writable:!0,enumerable:!0,configurable:!0})}catch(f){if(G.OBJ&e)return p;throw f}d(),r[o]===","&&o++}}catch{if(G.OBJ&e)return p;n("Expected '}' at end of object")}return o++,p},c=()=>{o++;const p=[];try{for(;r[o]!=="]";)p.push(a()),d(),r[o]===","&&o++}catch{if(G.ARR&e)return p;n("Expected ']' at end of array")}return o++,p},l=()=>{if(o===0){r==="-"&&G.NUM&e&&n("Not sure what '-' is");try{return JSON.parse(r)}catch(h){if(G.NUM&e)try{return r[r.length-1]==="."?JSON.parse(r.substring(0,r.lastIndexOf("."))):JSON.parse(r.substring(0,r.lastIndexOf("e")))}catch{}u(String(h))}}const p=o;for(r[o]==="-"&&o++;r[o]&&!",]}".includes(r[o]);)o++;o==t&&!(G.NUM&e)&&n("Unterminated number literal");try{return JSON.parse(r.substring(p,o))}catch{r.substring(p,o)==="-"&&G.NUM&e&&n("Not sure what '-' is");try{return JSON.parse(r.substring(p,r.lastIndexOf("e")))}catch(f){u(String(f))}}},d=()=>{for(;o<t&&` 
\r	`.includes(r[o]);)o++};return a()},tu=r=>yb(r,G.ALL^G.NUM);var hr=function(r,e,t,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},O=function(r,e,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(r):o?o.value:e.get(r)},q,Ne,pr,He,wo,Bt,Eo,So,Ao,It,To,ou;class ut extends Va{constructor(e){super(),q.add(this),Ne.set(this,void 0),pr.set(this,void 0),He.set(this,void 0),hr(this,Ne,e,"f"),hr(this,pr,[],"f")}get currentChatCompletionSnapshot(){return O(this,He,"f")}static fromReadableStream(e){const t=new ut(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,o){const n=new ut(t);return n._run(()=>n._runChatCompletion(e,{...t,stream:!0},{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),n}async _createChatCompletion(e,t,o){var a;super._createChatCompletion;const n=o==null?void 0:o.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),O(this,q,"m",wo).call(this);const u=await e.chat.completions.create({...t,stream:!0},{...o,signal:this.controller.signal});this._connected();for await(const i of u)O(this,q,"m",Eo).call(this,i);if((a=u.controller.signal)!=null&&a.aborted)throw new Se;return this._addChatCompletion(O(this,q,"m",It).call(this))}async _fromReadableStream(e,t){var a;const o=t==null?void 0:t.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),O(this,q,"m",wo).call(this),this._connected();const n=Be.fromReadableStream(e,this.controller);let u;for await(const i of n)u&&u!==i.id&&this._addChatCompletion(O(this,q,"m",It).call(this)),O(this,q,"m",Eo).call(this,i),u=i.id;if((a=n.controller.signal)!=null&&a.aborted)throw new Se;return this._addChatCompletion(O(this,q,"m",It).call(this))}[(Ne=new WeakMap,pr=new WeakMap,He=new WeakMap,q=new WeakSet,wo=function(){this.ended||hr(this,He,void 0,"f")},Bt=function(t){let o=O(this,pr,"f")[t.index];return o||(o={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},O(this,pr,"f")[t.index]=o,o)},Eo=function(t){var n,u,a,i,s,c,l,d,p,h,f,m,_,k,g;if(this.ended)return;const o=O(this,q,"m",ou).call(this,t);this._emit("chunk",t,o);for(const y of t.choices){const x=o.choices[y.index];y.delta.content!=null&&((n=x.message)==null?void 0:n.role)==="assistant"&&((u=x.message)!=null&&u.content)&&(this._emit("content",y.delta.content,x.message.content),this._emit("content.delta",{delta:y.delta.content,snapshot:x.message.content,parsed:x.message.parsed})),y.delta.refusal!=null&&((a=x.message)==null?void 0:a.role)==="assistant"&&((i=x.message)!=null&&i.refusal)&&this._emit("refusal.delta",{delta:y.delta.refusal,snapshot:x.message.refusal}),((s=y.logprobs)==null?void 0:s.content)!=null&&((c=x.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(l=y.logprobs)==null?void 0:l.content,snapshot:((d=x.logprobs)==null?void 0:d.content)??[]}),((p=y.logprobs)==null?void 0:p.refusal)!=null&&((h=x.message)==null?void 0:h.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(f=y.logprobs)==null?void 0:f.refusal,snapshot:((m=x.logprobs)==null?void 0:m.refusal)??[]});const w=O(this,q,"m",Bt).call(this,x);x.finish_reason&&(O(this,q,"m",Ao).call(this,x),w.current_tool_call_index!=null&&O(this,q,"m",So).call(this,x,w.current_tool_call_index));for(const v of y.delta.tool_calls??[])w.current_tool_call_index!==v.index&&(O(this,q,"m",Ao).call(this,x),w.current_tool_call_index!=null&&O(this,q,"m",So).call(this,x,w.current_tool_call_index)),w.current_tool_call_index=v.index;for(const v of y.delta.tool_calls??[]){const C=(_=x.message.tool_calls)==null?void 0:_[v.index];C!=null&&C.type&&((C==null?void 0:C.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(k=C.function)==null?void 0:k.name,index:v.index,arguments:C.function.arguments,parsed_arguments:C.function.parsed_arguments,arguments_delta:((g=v.function)==null?void 0:g.arguments)??""}):(C==null||C.type,void 0))}}},So=function(t,o){var a,i,s;if(O(this,q,"m",Bt).call(this,t).done_tool_calls.has(o))return;const u=(a=t.message.tool_calls)==null?void 0:a[o];if(!u)throw new Error("no tool call snapshot");if(!u.type)throw new Error("tool call snapshot missing `type`");if(u.type==="function"){const c=(s=(i=O(this,Ne,"f"))==null?void 0:i.tools)==null?void 0:s.find(l=>l.type==="function"&&l.function.name===u.function.name);this._emit("tool_calls.function.arguments.done",{name:u.function.name,index:o,arguments:u.function.arguments,parsed_arguments:kt(c)?c.$parseRaw(u.function.arguments):c!=null&&c.function.strict?JSON.parse(u.function.arguments):null})}else u.type},Ao=function(t){var n,u;const o=O(this,q,"m",Bt).call(this,t);if(t.message.content&&!o.content_done){o.content_done=!0;const a=O(this,q,"m",To).call(this);this._emit("content.done",{content:t.message.content,parsed:a?a.$parseRaw(t.message.content):null})}t.message.refusal&&!o.refusal_done&&(o.refusal_done=!0,this._emit("refusal.done",{refusal:t.message.refusal})),(n=t.logprobs)!=null&&n.content&&!o.logprobs_content_done&&(o.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:t.logprobs.content})),(u=t.logprobs)!=null&&u.refusal&&!o.logprobs_refusal_done&&(o.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:t.logprobs.refusal}))},It=function(){if(this.ended)throw new I("stream has ended, this shouldn't happen");const t=O(this,He,"f");if(!t)throw new I("request ended without sending any chunks");return hr(this,He,void 0,"f"),hr(this,pr,[],"f"),vb(t,O(this,Ne,"f"))},To=function(){var o;const t=(o=O(this,Ne,"f"))==null?void 0:o.response_format;return ja(t)?t:null},ou=function(t){var o,n,u,a;let i=O(this,He,"f");const{choices:s,...c}=t;i?Object.assign(i,c):i=hr(this,He,{...c,choices:[]},"f");for(const{delta:l,finish_reason:d,index:p,logprobs:h=null,...f}of t.choices){let m=i.choices[p];if(m||(m=i.choices[p]={finish_reason:d,index:p,message:{},logprobs:h,...f}),h)if(!m.logprobs)m.logprobs=Object.assign({},h);else{const{content:v,refusal:C,...P}=h;Object.assign(m.logprobs,P),v&&((o=m.logprobs).content??(o.content=[]),m.logprobs.content.push(...v)),C&&((n=m.logprobs).refusal??(n.refusal=[]),m.logprobs.refusal.push(...C))}if(d&&(m.finish_reason=d,O(this,Ne,"f")&&qa(O(this,Ne,"f")))){if(d==="length")throw new Ea;if(d==="content_filter")throw new Sa}if(Object.assign(m,f),!l)continue;const{content:_,refusal:k,function_call:g,role:y,tool_calls:x,...w}=l;if(Object.assign(m.message,w),k&&(m.message.refusal=(m.message.refusal||"")+k),y&&(m.message.role=y),g&&(m.message.function_call?(g.name&&(m.message.function_call.name=g.name),g.arguments&&((u=m.message.function_call).arguments??(u.arguments=""),m.message.function_call.arguments+=g.arguments)):m.message.function_call=g),_&&(m.message.content=(m.message.content||"")+_,!m.message.refusal&&O(this,q,"m",To).call(this)&&(m.message.parsed=tu(m.message.content))),x){m.message.tool_calls||(m.message.tool_calls=[]);for(const{index:v,id:C,type:P,function:D,...R}of x){const B=(a=m.message.tool_calls)[v]??(a[v]={});Object.assign(B,R),C&&(B.id=C),P&&(B.type=P),D&&(B.function??(B.function={name:D.name??"",arguments:""})),D!=null&&D.name&&(B.function.name=D.name),D!=null&&D.arguments&&(B.function.arguments+=D.arguments,gb(O(this,Ne,"f"),B)&&(B.function.parsed_arguments=tu(B.function.arguments)))}}}return i},Symbol.asyncIterator)](){const e=[],t=[];let o=!1;return this.on("chunk",n=>{const u=t.shift();u?u.resolve(n):e.push(n)}),this.on("end",()=>{o=!0;for(const n of t)n.resolve(void 0);t.length=0}),this.on("abort",n=>{o=!0;for(const u of t)u.reject(n);t.length=0}),this.on("error",n=>{o=!0;for(const u of t)u.reject(n);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((u,a)=>t.push({resolve:u,reject:a})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Be(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function vb(r,e){const{id:t,choices:o,created:n,model:u,system_fingerprint:a,...i}=r,s={...i,id:t,choices:o.map(({message:c,finish_reason:l,index:d,logprobs:p,...h})=>{if(!l)throw new I(`missing finish_reason for choice ${d}`);const{content:f=null,function_call:m,tool_calls:_,...k}=c,g=c.role;if(!g)throw new I(`missing role for choice ${d}`);if(m){const{arguments:y,name:x}=m;if(y==null)throw new I(`missing function_call.arguments for choice ${d}`);if(!x)throw new I(`missing function_call.name for choice ${d}`);return{...h,message:{content:f,function_call:{arguments:y,name:x},role:g,refusal:c.refusal??null},finish_reason:l,index:d,logprobs:p}}return _?{...h,index:d,finish_reason:l,logprobs:p,message:{...k,role:g,content:f,refusal:c.refusal??null,tool_calls:_.map((y,x)=>{const{function:w,type:v,id:C,...P}=y,{arguments:D,name:R,...B}=w||{};if(C==null)throw new I(`missing choices[${d}].tool_calls[${x}].id
${Ft(r)}`);if(v==null)throw new I(`missing choices[${d}].tool_calls[${x}].type
${Ft(r)}`);if(R==null)throw new I(`missing choices[${d}].tool_calls[${x}].function.name
${Ft(r)}`);if(D==null)throw new I(`missing choices[${d}].tool_calls[${x}].function.arguments
${Ft(r)}`);return{...P,id:C,type:v,function:{...B,name:R,arguments:D}}})}}:{...h,message:{...k,content:f,role:g,refusal:c.refusal??null},finish_reason:l,index:d,logprobs:p}}),created:n,model:u,object:"chat.completion",...a?{system_fingerprint:a}:{}};return fb(s,e)}function Ft(r){return JSON.stringify(r)}class vr extends ut{static fromReadableStream(e){const t=new vr(null);return t._run(()=>t._fromReadableStream(e)),t}static runFunctions(e,t,o){const n=new vr(null),u={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run(()=>n._runFunctions(e,t,u)),n}static runTools(e,t,o){const n=new vr(t),u={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run(()=>n._runTools(e,t,u)),n}}let ii=class extends M{parse(e,t){return mb(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t==null?void 0:t.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(o=>hn(o,e))}runFunctions(e,t){return e.stream?vr.runFunctions(this._client,e,t):nt.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?vr.runTools(this._client,e,t):nt.runTools(this._client,e,t)}stream(e,t){return ut.createChatCompletion(this._client,e,t)}};class Ko extends M{constructor(){super(...arguments),this.completions=new ii(this._client)}}(function(r){r.Completions=ii})(Ko||(Ko={}));class si extends M{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class pn extends M{constructor(){super(...arguments),this.sessions=new si(this._client)}}pn.Sessions=si;var S=function(r,e,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(r):o?o.value:e.get(r)},se=function(r,e,t,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},K,Qo,Pe,jt,Ce,ur,_r,nr,Kt,le,qt,Wt,ot,Qr,et,nu,uu,au,iu,su,cu,lu;class Ae extends Ha{constructor(){super(...arguments),K.add(this),Qo.set(this,[]),Pe.set(this,{}),jt.set(this,{}),Ce.set(this,void 0),ur.set(this,void 0),_r.set(this,void 0),nr.set(this,void 0),Kt.set(this,void 0),le.set(this,void 0),qt.set(this,void 0),Wt.set(this,void 0),ot.set(this,void 0)}[(Qo=new WeakMap,Pe=new WeakMap,jt=new WeakMap,Ce=new WeakMap,ur=new WeakMap,_r=new WeakMap,nr=new WeakMap,Kt=new WeakMap,le=new WeakMap,qt=new WeakMap,Wt=new WeakMap,ot=new WeakMap,K=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let o=!1;return this.on("event",n=>{const u=t.shift();u?u.resolve(n):e.push(n)}),this.on("end",()=>{o=!0;for(const n of t)n.resolve(void 0);t.length=0}),this.on("abort",n=>{o=!0;for(const u of t)u.reject(n);t.length=0}),this.on("error",n=>{o=!0;for(const u of t)u.reject(n);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((u,a)=>t.push({resolve:u,reject:a})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new Ae;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){var u;const o=t==null?void 0:t.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),this._connected();const n=Be.fromReadableStream(e,this.controller);for await(const a of n)S(this,K,"m",Qr).call(this,a);if((u=n.controller.signal)!=null&&u.aborted)throw new Se;return this._addRun(S(this,K,"m",et).call(this))}toReadableStream(){return new Be(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,o,n,u){const a=new Ae;return a._run(()=>a._runToolAssistantStream(e,t,o,n,{...u,headers:{...u==null?void 0:u.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,t,o,n,u){var c;const a=u==null?void 0:u.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},s=await e.submitToolOutputs(t,o,i,{...u,signal:this.controller.signal});this._connected();for await(const l of s)S(this,K,"m",Qr).call(this,l);if((c=s.controller.signal)!=null&&c.aborted)throw new Se;return this._addRun(S(this,K,"m",et).call(this))}static createThreadAssistantStream(e,t,o){const n=new Ae;return n._run(()=>n._threadAssistantStream(e,t,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),n}static createAssistantStream(e,t,o,n){const u=new Ae;return u._run(()=>u._runAssistantStream(e,t,o,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),u}currentEvent(){return S(this,qt,"f")}currentRun(){return S(this,Wt,"f")}currentMessageSnapshot(){return S(this,Ce,"f")}currentRunStepSnapshot(){return S(this,ot,"f")}async finalRunSteps(){return await this.done(),Object.values(S(this,Pe,"f"))}async finalMessages(){return await this.done(),Object.values(S(this,jt,"f"))}async finalRun(){if(await this.done(),!S(this,ur,"f"))throw Error("Final run was not received.");return S(this,ur,"f")}async _createThreadAssistantStream(e,t,o){var i;const n=o==null?void 0:o.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort()));const u={...t,stream:!0},a=await e.createAndRun(u,{...o,signal:this.controller.signal});this._connected();for await(const s of a)S(this,K,"m",Qr).call(this,s);if((i=a.controller.signal)!=null&&i.aborted)throw new Se;return this._addRun(S(this,K,"m",et).call(this))}async _createAssistantStream(e,t,o,n){var s;const u=n==null?void 0:n.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const a={...o,stream:!0},i=await e.create(t,a,{...n,signal:this.controller.signal});this._connected();for await(const c of i)S(this,K,"m",Qr).call(this,c);if((s=i.controller.signal)!=null&&s.aborted)throw new Se;return this._addRun(S(this,K,"m",et).call(this))}static accumulateDelta(e,t){for(const[o,n]of Object.entries(t)){if(!e.hasOwnProperty(o)){e[o]=n;continue}let u=e[o];if(u==null){e[o]=n;continue}if(o==="index"||o==="type"){e[o]=n;continue}if(typeof u=="string"&&typeof n=="string")u+=n;else if(typeof u=="number"&&typeof n=="number")u+=n;else if(Co(u)&&Co(n))u=this.accumulateDelta(u,n);else if(Array.isArray(u)&&Array.isArray(n)){if(u.every(a=>typeof a=="string"||typeof a=="number")){u.push(...n);continue}for(const a of n){if(!Co(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const i=a.index;if(i==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof i!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${i}`);const s=u[i];s==null?u.push(a):u[i]=this.accumulateDelta(s,a)}continue}else throw Error(`Unhandled record type: ${o}, deltaValue: ${n}, accValue: ${u}`);e[o]=u}return e}_addRun(e){return e}async _threadAssistantStream(e,t,o){return await this._createThreadAssistantStream(t,e,o)}async _runAssistantStream(e,t,o,n){return await this._createAssistantStream(t,e,o,n)}async _runToolAssistantStream(e,t,o,n,u){return await this._createToolAssistantStream(o,e,t,n,u)}}Qr=function(e){if(!this.ended)switch(se(this,qt,e,"f"),S(this,K,"m",au).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":S(this,K,"m",lu).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":S(this,K,"m",uu).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":S(this,K,"m",nu).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},et=function(){if(this.ended)throw new I("stream has ended, this shouldn't happen");if(!S(this,ur,"f"))throw Error("Final run has not been received");return S(this,ur,"f")},nu=function(e){const[t,o]=S(this,K,"m",su).call(this,e,S(this,Ce,"f"));se(this,Ce,t,"f"),S(this,jt,"f")[t.id]=t;for(const n of o){const u=t.content[n.index];(u==null?void 0:u.type)=="text"&&this._emit("textCreated",u.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if(n.type=="text"&&n.text){let u=n.text,a=t.content[n.index];if(a&&a.type=="text")this._emit("textDelta",u,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(n.index!=S(this,_r,"f")){if(S(this,nr,"f"))switch(S(this,nr,"f").type){case"text":this._emit("textDone",S(this,nr,"f").text,S(this,Ce,"f"));break;case"image_file":this._emit("imageFileDone",S(this,nr,"f").image_file,S(this,Ce,"f"));break}se(this,_r,n.index,"f")}se(this,nr,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(S(this,_r,"f")!==void 0){const n=e.data.content[S(this,_r,"f")];if(n)switch(n.type){case"image_file":this._emit("imageFileDone",n.image_file,S(this,Ce,"f"));break;case"text":this._emit("textDone",n.text,S(this,Ce,"f"));break}}S(this,Ce,"f")&&this._emit("messageDone",e.data),se(this,Ce,void 0,"f")}},uu=function(e){const t=S(this,K,"m",iu).call(this,e);switch(se(this,ot,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const o=e.data.delta;if(o.step_details&&o.step_details.type=="tool_calls"&&o.step_details.tool_calls&&t.step_details.type=="tool_calls")for(const u of o.step_details.tool_calls)u.index==S(this,Kt,"f")?this._emit("toolCallDelta",u,t.step_details.tool_calls[u.index]):(S(this,le,"f")&&this._emit("toolCallDone",S(this,le,"f")),se(this,Kt,u.index,"f"),se(this,le,t.step_details.tool_calls[u.index],"f"),S(this,le,"f")&&this._emit("toolCallCreated",S(this,le,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":se(this,ot,void 0,"f"),e.data.step_details.type=="tool_calls"&&S(this,le,"f")&&(this._emit("toolCallDone",S(this,le,"f")),se(this,le,void 0,"f")),this._emit("runStepDone",e.data,t);break}},au=function(e){S(this,Qo,"f").push(e),this._emit("event",e)},iu=function(e){switch(e.event){case"thread.run.step.created":return S(this,Pe,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=S(this,Pe,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let o=e.data;if(o.delta){const n=Ae.accumulateDelta(t,o.delta);S(this,Pe,"f")[e.data.id]=n}return S(this,Pe,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":S(this,Pe,"f")[e.data.id]=e.data;break}if(S(this,Pe,"f")[e.data.id])return S(this,Pe,"f")[e.data.id];throw new Error("No snapshot available")},su=function(e,t){let o=[];switch(e.event){case"thread.message.created":return[e.data,o];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let n=e.data;if(n.delta.content)for(const u of n.delta.content)if(u.index in t.content){let a=t.content[u.index];t.content[u.index]=S(this,K,"m",cu).call(this,u,a)}else t.content[u.index]=u,o.push(u);return[t,o];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,o];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},cu=function(e,t){return Ae.accumulateDelta(t,e)},lu=function(e){switch(se(this,Wt,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":se(this,ur,e.data,"f"),S(this,le,"f")&&(this._emit("toolCallDone",S(this,le,"f")),se(this,le,void 0,"f"));break}};class gn extends M{create(e,t,o){return this._client.post(`/threads/${e}/messages`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}retrieve(e,t,o){return this._client.get(`/threads/${e}/messages/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}update(e,t,o,n){return this._client.post(`/threads/${e}/messages/${t}`,{body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e,t={},o){return ne(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,mn,{query:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}del(e,t,o){return this._client.delete(`/threads/${e}/messages/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}}class mn extends ge{}gn.MessagesPage=mn;class bn extends M{retrieve(e,t,o,n={},u){return ne(n)?this.retrieve(e,t,o,{},n):this._client.get(`/threads/${e}/runs/${t}/steps/${o}`,{query:n,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}list(e,t,o={},n){return ne(o)?this.list(e,t,{},o):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,_n,{query:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class _n extends ge{}bn.RunStepsPage=_n;class vt extends M{constructor(){super(...arguments),this.steps=new bn(this._client)}create(e,t,o){const{include:n,...u}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:n},body:u,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers},stream:t.stream??!1})}retrieve(e,t,o){return this._client.get(`/threads/${e}/runs/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}update(e,t,o,n){return this._client.post(`/threads/${e}/runs/${t}`,{body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e,t={},o){return ne(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,xn,{query:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}cancel(e,t,o){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async createAndPoll(e,t,o){const n=await this.create(e,t,o);return await this.poll(e,n.id,o)}createAndStream(e,t,o){return Ae.createAssistantStream(e,this._client.beta.threads.runs,t,o)}async poll(e,t,o){const n={...o==null?void 0:o.headers,"X-Stainless-Poll-Helper":"true"};for(o!=null&&o.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=o.pollIntervalMs.toString());;){const{data:u,response:a}=await this.retrieve(e,t,{...o,headers:{...o==null?void 0:o.headers,...n}}).withResponse();switch(u.status){case"queued":case"in_progress":case"cancelling":let i=5e3;if(o!=null&&o.pollIntervalMs)i=o.pollIntervalMs;else{const s=a.headers.get("openai-poll-after-ms");if(s){const c=parseInt(s);isNaN(c)||(i=c)}}await xt(i);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return u}}}stream(e,t,o){return Ae.createAssistantStream(e,this._client.beta.threads.runs,t,o)}submitToolOutputs(e,t,o,n){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:o.stream??!1})}async submitToolOutputsAndPoll(e,t,o,n){const u=await this.submitToolOutputs(e,t,o,n);return await this.poll(e,u.id,n)}submitToolOutputsStream(e,t,o,n){return Ae.createToolAssistantStream(e,t,this._client.beta.threads.runs,o,n)}}class xn extends ge{}vt.RunsPage=xn;vt.Steps=bn;vt.RunStepsPage=_n;class zr extends M{constructor(){super(...arguments),this.runs=new vt(this._client),this.messages=new gn(this._client)}create(e={},t){return ne(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,o){return this._client.post(`/threads/${e}`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const o=await this.createAndRun(e,t);return await this.runs.poll(o.thread_id,o.id,t)}createAndRunStream(e,t){return Ae.createThreadAssistantStream(e,this._client.beta.threads,t)}}zr.Runs=vt;zr.RunsPage=xn;zr.Messages=gn;zr.MessagesPage=mn;const Cb=async r=>{const e=await Promise.allSettled(r),t=e.filter(n=>n.status==="rejected");if(t.length){for(const n of t)console.error(n.reason);throw new Error(`${t.length} promise(s) failed - see the above errors`)}const o=[];for(const n of e)n.status==="fulfilled"&&o.push(n.value);return o};let yn=class extends M{create(e,t,o){return this._client.post(`/vector_stores/${e}/files`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}retrieve(e,t,o){return this._client.get(`/vector_stores/${e}/files/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(e,t={},o){return ne(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,fo,{query:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}del(e,t,o){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async createAndPoll(e,t,o){const n=await this.create(e,t,o);return await this.poll(e,n.id,o)}async poll(e,t,o){const n={...o==null?void 0:o.headers,"X-Stainless-Poll-Helper":"true"};for(o!=null&&o.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=o.pollIntervalMs.toString());;){const u=await this.retrieve(e,t,{...o,headers:n}).withResponse(),a=u.data;switch(a.status){case"in_progress":let i=5e3;if(o!=null&&o.pollIntervalMs)i=o.pollIntervalMs;else{const s=u.response.headers.get("openai-poll-after-ms");if(s){const c=parseInt(s);isNaN(c)||(i=c)}}await xt(i);break;case"failed":case"completed":return a}}}async upload(e,t,o){const n=await this._client.files.create({file:t,purpose:"assistants"},o);return this.create(e,{file_id:n.id},o)}async uploadAndPoll(e,t,o){const n=await this.upload(e,t,o);return await this.poll(e,n.id,o)}};class fo extends ge{}yn.VectorStoreFilesPage=fo;class ci extends M{create(e,t,o){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}retrieve(e,t,o){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}cancel(e,t,o){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async createAndPoll(e,t,o){const n=await this.create(e,t);return await this.poll(e,n.id,o)}listFiles(e,t,o={},n){return ne(o)?this.listFiles(e,t,{},o):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,fo,{query:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async poll(e,t,o){const n={...o==null?void 0:o.headers,"X-Stainless-Poll-Helper":"true"};for(o!=null&&o.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=o.pollIntervalMs.toString());;){const{data:u,response:a}=await this.retrieve(e,t,{...o,headers:n}).withResponse();switch(u.status){case"in_progress":let i=5e3;if(o!=null&&o.pollIntervalMs)i=o.pollIntervalMs;else{const s=a.headers.get("openai-poll-after-ms");if(s){const c=parseInt(s);isNaN(c)||(i=c)}}await xt(i);break;case"failed":case"cancelled":case"completed":return u}}}async uploadAndPoll(e,{files:t,fileIds:o=[]},n){if(t==null||t.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const u=(n==null?void 0:n.maxConcurrency)??5,a=Math.min(u,t.length),i=this._client,s=t.values(),c=[...o];async function l(p){for(let h of p){const f=await i.files.create({file:h,purpose:"assistants"},n);c.push(f.id)}}const d=Array(a).fill(s).map(l);return await Cb(d),await this.createAndPoll(e,{file_ids:c})}}class Yr extends M{constructor(){super(...arguments),this.files=new yn(this._client),this.fileBatches=new ci(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,o){return this._client.post(`/vector_stores/${e}`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(e={},t){return ne(e)?this.list({},e):this._client.getAPIList("/vector_stores",kn,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class kn extends ge{}Yr.VectorStoresPage=kn;Yr.Files=yn;Yr.VectorStoreFilesPage=fo;Yr.FileBatches=ci;class rr extends M{constructor(){super(...arguments),this.realtime=new pn(this._client),this.vectorStores=new Yr(this._client),this.chat=new Ko(this._client),this.assistants=new dn(this._client),this.threads=new zr(this._client)}}rr.Realtime=pn;rr.VectorStores=Yr;rr.VectorStoresPage=kn;rr.Assistants=dn;rr.AssistantsPage=fn;rr.Threads=zr;class li extends M{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class di extends M{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}class vn extends M{create(e,t){return this._client.post("/files",Lr({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return ne(e)?this.list({},e):this._client.getAPIList("/files",Cn,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/binary",...t==null?void 0:t.headers},__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,t)}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:o=30*60*1e3}={}){const n=new Set(["processed","error","deleted"]),u=Date.now();let a=await this.retrieve(e);for(;!a.status||!n.has(a.status);)if(await xt(t),a=await this.retrieve(e),Date.now()-u>o)throw new sn({message:`Giving up on waiting for file ${e} to finish processing after ${o} milliseconds.`});return a}}class Cn extends ge{}vn.FileObjectsPage=Cn;class wn extends M{list(e,t={},o){return ne(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,En,{query:t,...o})}}class En extends ge{}wn.FineTuningJobCheckpointsPage=En;class Hr extends M{constructor(){super(...arguments),this.checkpoints=new wn(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return ne(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Sn,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},o){return ne(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,An,{query:t,...o})}}class Sn extends ge{}class An extends ge{}Hr.FineTuningJobsPage=Sn;Hr.FineTuningJobEventsPage=An;Hr.Checkpoints=wn;Hr.FineTuningJobCheckpointsPage=En;class Ct extends M{constructor(){super(...arguments),this.jobs=new Hr(this._client)}}Ct.Jobs=Hr;Ct.FineTuningJobsPage=Sn;Ct.FineTuningJobEventsPage=An;class fi extends M{createVariation(e,t){return this._client.post("/images/variations",Lr({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",Lr({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}class Tn extends M{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",Dn,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class Dn extends lb{}Tn.ModelsPage=Dn;class hi extends M{create(e,t){return this._client.post("/moderations",{body:e,...t})}}class pi extends M{create(e,t,o){return this._client.post(`/uploads/${e}/parts`,Lr({body:t,...o}))}}class Rn extends M{constructor(){super(...arguments),this.parts=new pi(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,o){return this._client.post(`/uploads/${e}/complete`,{body:t,...o})}}Rn.Parts=pi;var gi;class F extends Zm{constructor({baseURL:e=$t("OPENAI_BASE_URL"),apiKey:t=$t("OPENAI_API_KEY"),organization:o=$t("OPENAI_ORG_ID")??null,project:n=$t("OPENAI_PROJECT_ID")??null,...u}={}){if(t===void 0)throw new I("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:t,organization:o,project:n,...u,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&sb())throw new I(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new li(this),this.chat=new lo(this),this.embeddings=new di(this),this.files=new vn(this),this.images=new fi(this),this.audio=new yt(this),this.moderations=new hi(this),this.models=new Tn(this),this.fineTuning=new Ct(this),this.beta=new rr(this),this.batches=new cn(this),this.uploads=new Rn(this),this._options=a,this.apiKey=t,this.organization=o,this.project=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return Bm(e,{arrayFormat:"brackets"})}}gi=F;F.OpenAI=gi;F.DEFAULT_TIMEOUT=6e5;F.OpenAIError=I;F.APIError=Q;F.APIConnectionError=no;F.APIConnectionTimeoutError=sn;F.APIUserAbortError=Se;F.NotFoundError=ya;F.ConflictError=ka;F.RateLimitError=Ca;F.BadRequestError=ba;F.AuthenticationError=_a;F.InternalServerError=wa;F.PermissionDeniedError=xa;F.UnprocessableEntityError=va;F.toFile=Ra;F.fileFromPath=ga;F.Completions=li;F.Chat=lo;F.ChatCompletionsPage=co;F.Embeddings=di;F.Files=vn;F.FileObjectsPage=Cn;F.Images=fi;F.Audio=yt;F.Moderations=hi;F.Models=Tn;F.ModelsPage=Dn;F.FineTuning=Ct;F.Beta=rr;F.Batches=cn;F.BatchesPage=ln;F.Uploads=Rn;class wb{constructor(e){this.loadFromDict(e),this._api=new F({apiKey:this.apiKey,baseURL:this.baseURL,dangerouslyAllowBrowser:!0})}loadFromDict(e){this.baseURL=(e==null?void 0:e.baseURL)??(e==null?void 0:e.baseUrl)??"https://api.openai.com/v1",this.apiKey=(e==null?void 0:e.apiKey)??"",this.defaultModel=(e==null?void 0:e.defaultModel)??"deepseek-chat",this.modelsURL=(e==null?void 0:e.modelsURL)??(e==null?void 0:e.modelsUrl)??"/models"}setAPIKey(e){this.apiKey=e,this._api.apiKey=e}setBaseURL(e){this.baseURL=e,this._api.baseURL=e}setModelsUrl(e){this.modelsURL=e}async listModels(){const e=await fetch(`${this.baseURL}${this.modelsURL}`,{headers:{Authorization:`Bearer ${this.apiKey}`}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()}async createChat__(e,t){return this._api.chat.completions.create(e,t)}async fetchChatResponse(e,t){return await fetch(`${this.baseURL}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`,...(t==null?void 0:t.headers)??{}},body:JSON.stringify(e)})}async createChat(e,t){const o=await this.fetchChatResponse(e,t);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return o.json()}async*createChatStream(e,t){var o;try{const n=await this.fetchChatResponse(e,t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const u=n.body.getReader(),a=new TextDecoder("utf-8");let i="";for(;;){const{done:s,value:c}=await u.read();if(s)break;const l=a.decode(c,{stream:!0});i+=l;const d=i.split(`
`);i=d.pop()??"";for(const p of d)if((o=p.trim())!=null&&o.length&&p.trim()!=": keep-alive")try{const h=p.trim().slice(5).trim();if(h=="[DONE]"){yield{done:!0};continue}yield JSON.parse(h)}catch(h){console.error("Error parsing JSON:",h,p)}}}catch(n){throw console.error("Error streaming LLM JSON data:",n),n}}async*chatStream(e,t=void 0,o=[],n={},u=!1){var a,i;for await(const s of this.createChatStream({model:this.defaultModel,messages:[...t!=null&&t.length?[{role:"system",content:t}]:[],...o??[],...u?[]:[{role:"user",content:e}]],temperature:.6,stream:!0,...n??{}})){const c=(i=(a=s==null?void 0:s.choices)==null?void 0:a[0])==null?void 0:i.delta;if(c!=null&&(yield c),s.done){yield{done:!0};break}}}async chat(e,t=void 0,o=[],n={}){var u;const a=await this.createChat({model:this.defaultModel,messages:[...t!=null&&t.length?[{role:"system",content:t}]:[],...o??[],{role:"user",content:e}],temperature:.6,...n??{}}),{choices:i=[]}=a;return(u=i==null?void 0:i[0])==null?void 0:u.message}async*chatWithLifeCycle(e,t,o,n,u){const{chunkProcessor:a,resultProcessor:i,onStart:s,onBeforeUpdate:c,onAfterUpdate:l,onDone:d,onEnd:p,onCancel:h,onErrorInUpdate:f,onError:m,shouldContinue:_}=u??{};let k="initialization",g=A.cloneDeep(o),y,x=-1;k="beforeStart";const w=await(s==null?void 0:s({result:g}));k="afterStart",g=(w==null?void 0:w.result)??g;try{k="beforeLoop";for await(let C of this.chatStream("",e,t,n,!0))try{if(x+=1,C==null)continue;k=`beforeBeforeUpdate_${x}`;const P=await(c==null?void 0:c({result:g,chunk:C,idx:x}));g=(P==null?void 0:P.result)??g,C=(P==null?void 0:P.chunk)??C,k=`beforeChunkProcessor_${x}`,y=await(a==null?void 0:a(g,C)),yield{result:g,chunk:C,processedChunk:y},k=`beforeAfterUpdate_${x}`;const D=await(l==null?void 0:l({result:g,chunk:C,processedChunk:y,idx:x}));if(g=(D==null?void 0:D.result)??g,C=(D==null?void 0:D.chunk)??C,y=(D==null?void 0:D.processedChunk)??y,k=`afterAfterUpdate_${x}`,C!=null&&C.done){k=`beforeDone_${x}`;const R=await(d==null?void 0:d({result:g,chunk:C,processedChunk:y}));g=(R==null?void 0:R.result)??g,C=(R==null?void 0:R.chunk)??C,y=(R==null?void 0:R.processedChunk)??y,k=`afterDone_${x}`;break}if(_!=null&&!await _({result:g,chunk:C,processedChunk:y,idx:x})){k=`beforeCancel_${x}`,await(h==null?void 0:h({result:g,chunk:C,processedChunk:y,idx:x})),k=`afterCancel_${x}`;break}}catch(P){if(await(f==null?void 0:f({error:P,result:g,chunk:C,processedChunk:y,idx:x,state:k})))continue;throw P}k="afterLoop",k="beforeFinalResult";const v=await(i==null?void 0:i(g));return k="beforeEnd",await(p==null?void 0:p({finalResult:v,result:g,processedChunk:y,idx:x})),k="afterEnd",v}catch(v){if(!await(m==null?void 0:m({error:v,result:g,processedChunk:y,idx:x,state:k})))throw console.error("Stream processing error:",v),new Error(`Chat stream failed: ${v.message}`)}}}const Eb=[{name:"DeepSeek",type:"ChatSupplier",desc:"DeepSeek",docUrl:"https://platform.deepseek.com/docs",baseUrl:"https://api.deepseek.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://help.aliyun.com/zh/model-studio/user-guide/multi-round-conversation?spm=a2c4g.11186623.help-menu-2400256.d_1_0_0_4.1b54b0a8Obvgrf",baseUrl:"https://dashscope.aliyuncs.com/compatible-mode/v1",defaultModel:"deepseek-v3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://doc.zhizengzeng.com/",baseUrl:"https://api.zhizengzeng.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://docs.siliconflow.cn/",baseUrl:"https://api.siliconflow.cn/v1",defaultModel:"deepseek-ai/DeepSeek-V3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"ZhiPu",type:"ChatSupplier",desc:"",docUrl:"https://open.bigmodel.cn/dev/api",baseUrl:"https://open.bigmodel.cn/api/paas/v4",defaultModel:"glm-4",chatUrl:"/chat/completions",modelsUrl:"/models",models:[{id:"glm-4"},{id:"glm-4-air"},{id:"glm-4-flash"},{id:"glm-3-turbo"}]},{name:"Moonshot",type:"ChatSupplier",desc:"Moonshot",docUrl:"https://platform.moonshot.cn/docs/api-reference",baseUrl:"https://api.moonshot.cn/v1",defaultModel:"moonshot-v1-8k",chatUrl:"/chat/completions",modelsUrl:"/models",balanceUrl:"/users/me/balance",countTokenUrl:"/tokenizers/estimate-token-count"},{name:"OpenAI",type:"ChatSupplier",desc:"OpenAI",docUrl:"https://platform.openai.com/docs/api-reference/chat",baseUrl:"https://api.openai.com/v1",defaultModel:"gpt-3.5-turbo",chatUrl:"/chat/completions",modelsUrl:"/models",notes:`
    https://cookbook.openai.com/examples/how_to_count_tokens_with_tiktoken
    `.trim()}],mi=new an("DBOfLifeRestartAI");mi.version(1).stores({kvs:"++id, &key, value",functions:"++id, &name, config",records:"++id, supplier, function, input, output",chats:"++id, title"});const bi=mi,$n=async r=>{var t;const e=(t=await bi.kvs.get({key:r}))==null?void 0:t.value;return e==null?null:Qe.parse(e)},Qt=async(r,e)=>{const t=Qe.stringify(e);await bi.kvs.put({id:r,key:r,value:t})},du=async r=>new Promise(e=>{setTimeout(()=>{e({})},r)}),Sb=async(r,e)=>{var n;const t=e.apiKeyDict,o=e.supplierModelsDict;try{const u=`Bearer ${t[r.name]}`;console.log({supplier:r,apiKeyDict:t,Authorization:u});let a;try{const c=await fetch(`${r.baseUrl}${r.modelsUrl}`);if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);a={data:await c.json()},console.log(a)}catch(c){try{const l=await fetch(`${r.baseUrl}${r.modelsUrl}`,{headers:{Authorization:u}});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);a={data:await l.json()},console.log(a)}catch(l){console.warn(c),console.warn(l)}}let i=((n=a==null?void 0:a.data)==null?void 0:n.data)??[];console.log({models:i}),i!=null&&i.length||(i=(r==null?void 0:r.models)??[]);const s={...o};s[r.name]=i,e.supplierModelsDict=s,Qt("supplierForm",e)}catch(u){console.warn(u)}},Ab=`

5

#### 
- 
- 
- 
- 
- 5

#### 
- 5
- 0~10100

#### 
- 5
- 
- 
- 
- 
`.trim();function Tb(r){const{age:e,content:t,output:o}=r,n=`${e}`,u=(t??[]).map(a=>{if((a==null?void 0:a.type)=="TLT")return`${a==null?void 0:a.name}${a==null?void 0:a.description}`;if((a==null?void 0:a.type)=="EVT")return`${a==null?void 0:a.description} ${(a==null?void 0:a.postEvent)??""}`});return{brief:`${n}
${u.join(`
`)}`,output:o}}function Db(r){const e=[["CHR",""],["INT",""],["STR",""],["MNY",""],["SPR",""]].map(([u,a])=>{var i;return`${a}:${(i=r.state)==null?void 0:i[u]}`}).join(`
`),t=r.lifeStory.map(Tb),o=t.pop(),n=t.map(u=>u.output??u.brief);return n.unshift("==========[]=========="),n.push("==========[]=========="),n.push(e),n.push("==========[]=========="),n.push((o==null?void 0:o.brief)??""),n.join(`

`)}async function Rb(r,e,t){var l,d,p,h,f;r.processing=!0,r.thinking="",r.output="";const o=[],n=[],u={},a={baseURL:(l=e==null?void 0:e.selectedSupplier)==null?void 0:l.baseUrl,apiKey:e==null?void 0:e.apiKeyDict[(d=e==null?void 0:e.selectedSupplier)==null?void 0:d.name],defaultModel:(f=(h=e==null?void 0:e.selectedModelDict)==null?void 0:h[(p=e==null?void 0:e.selectedSupplier)==null?void 0:p.name])==null?void 0:f.name},i=new wb(a),s={chunkProcessor:async(m,_)=>{var k,g;if(_.reasoning_content&&(o.push(_.reasoning_content),r.thinking=o.join("")),_.content){n.push(_.content),r.output=n.join("");const y=(g=r==null?void 0:r.lifeStory)==null?void 0:g[(((k=r==null?void 0:r.lifeStory)==null?void 0:k.length)??0)-1];y&&(y.output=r.output)}return _},resultProcessor:async m=>m,onAfterUpdate:async()=>{await(t==null?void 0:t())}},c=i.chatWithLifeCycle(Ab,[{role:"user",content:Db(r)}],u,{max_tokens:2e3,temperature:1},s);for await(const m of c);r.processing=!1}const $b="modulepreload",Pb=function(r){return"/lifeRestart-AI/"+r},fu={},Wr=function(e,t,o){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(t.map(s=>{if(s=Pb(s),s in fu)return;fu[s]=!0;const c=s.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${l}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":$b,c||(d.as="script"),d.crossOrigin="",d.href=s,i&&d.setAttribute("nonce",i),document.head.appendChild(d),c)return new Promise((p,h)=>{d.addEventListener("load",p),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})}))}function u(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return n.then(a=>{for(const i of a||[])i.status==="rejected"&&u(i.reason);return e().catch(u)})};function Mr(r){return[r==0?"bg-gray-600! text-gray-100!":null,r==1?"bg-blue-600! text-blue-100!":null,r==2?"bg-purple-600! text-purple-100!":null,r==3?"bg-orange-600! text-orange-100!":null]}const hu=Object.assign({"../../../data/achievement.json":()=>Wr(()=>import("./achievement-D21YooZj.js"),[]),"../../../data/age.json":()=>Wr(()=>import("./age-CYyZIiBh.js"),[]),"../../../data/character.json":()=>Wr(()=>import("./character-B3vnJKJs.js"),[]),"../../../data/events.json":()=>Wr(()=>import("./events-CYj35J_H.js"),[]),"../../../data/talents.json":()=>Wr(()=>import("./talents-BchTCr5_.js"),[])});async function Bb(r){const e=`../../../data/${r}.json`,t=hu[e];if(!t)throw console.error(`Unknown game data file: ${r}`,{path:e,available:Object.keys(hu)}),new Error(`Unknown game data file: ${r}`);const o=(await t()).default;return A.cloneDeep(o)}const Ib={UI_Next:"",UI_Back:"",UI_Skip:"",UI_Done:"",UI_Cancel:"",UI_Confirm:"",UI_Retry:"",UI_Yes:"",UI_No:"",UI_OK:"",UI_Close:"",UI_Open:"",UI_Search:"",UI_Loading:"...",UI_Error:"",UI_BackupBtn:"",UI_Colon:"",UI_Times:"",UI_Count:"",UI_Property_Charm:"",UI_Property_Intelligence:"",UI_Property_Strength:"",UI_Property_Money:"",UI_Property_Spirit:"",UI_Title_Remake:"",UI_Title_Subsequent:"",UI_Remake:"",UI_Thanks:"",UI_Achievement:"",UI_Cyber_Theme_Art_Design:"UI  by ",UI_Title_Talent:"",UI_Talent_Draw:"10",UI_Talent_Select_Uncomplete:" 3 ",UI_Title_Property:"",UI_Left_Property_Point:"",UI_Selected_Talent:"",UI_Random_Allocate:"",UI_Make_New_Life:"",UI_Manual:"",UI_Auto:"",UI_Goto_Summary:"",UI_Title_Summary:"",UI_Talent_Extend:"",UI_Remake_Again:"",UI_Final_Age:"",UI_Total_Judge:"",UI_Achievement_Count:"",UI_Remake_Times:"",UI_Event_Collection_Rate:"",UI_Talent_Collection_Rate:"",UI_Statistics:"",UI_Rank:"",UI_Achievement_Achieve:"",UI_Judge_Level_0:"",UI_Judge_Level_1:"",UI_Judge_Level_2:"",UI_Judge_Level_3:"",UI_Judge_Level_4:"",UI_Judge_Level_5:"",UI_Judge_Level_6:"",UI_Judge_Level_7:"",UI_Spirit_Judge_Level_0:"",UI_Spirit_Judge_Level_1:"",UI_Spirit_Judge_Level_2:"",UI_Spirit_Judge_Level_3:"",UI_Spirit_Judge_Level_4:"",UI_Spirit_Judge_Level_5:"",UI_Spirit_Judge_Level_6:"",UI_AGE_Judge_Level_0:"",UI_AGE_Judge_Level_1:"",UI_AGE_Judge_Level_2:"",UI_AGE_Judge_Level_3:"",UI_AGE_Judge_Level_4:"",UI_AGE_Judge_Level_5:"",UI_AGE_Judge_Level_6:"",UI_AGE_Judge_Level_7:"",UI_AGE_Judge_Level_8:"",UI_AGE_Judge_Level_9:"",UI_AGE_Judge_Level_10:"",UI_AGE_Judge_Level_11:"",UI_Intelligence_Judge_Level_7:"",UI_Intelligence_Judge_Level_8:"",UI_Intelligence_Judge_Level_9:"",UI_Strength_Judge_Level_7:"",UI_Strength_Judge_Level_8:"",UI_Strength_Judge_Level_9:"",UI_Strength_Judge_Level_10:"",UI_Strength_Judge_Level_11:"",UI_Remake_Times_Judge_Level_0:"",UI_Remake_Times_Judge_Level_1:"",UI_Remake_Times_Judge_Level_2:"",UI_Remake_Times_Judge_Level_3:"",UI_Remake_Times_Judge_Level_4:"",UI_Remake_Times_Judge_Level_5:"",UI_Achievement_Count_Judge_Level_0:"",UI_Achievement_Count_Judge_Level_1:"",UI_Achievement_Count_Judge_Level_2:"",UI_Achievement_Count_Judge_Level_3:"",UI_Achievement_Count_Judge_Level_4:"",UI_Achievement_Count_Judge_Level_5:"",UI_Support_Programmer:"()",UI_Support_Designer:"()",UI_Save:"",UI_Load:"",UI_Read:"",UI_Write:"",UI_LoadSuccess:"",UI_LoadFailed:"",UI_CopySuccess:"",UI_CopyFailed:"",UI_PasteSuccessDecodeSuccess:"",UI_PasteSuccessDecodeFailed:"",UI_PasteFailedDecodeSuccess:"",UI_PasteFailedDecodeFailed:"",UI_Title_Celebrity:"...",UI_CustomMode:"",UI_CustomModeDescription:`10
`,UI_CelebrityMode:"",UI_CelebrityModeDescription:`
`,UI_AllNot:"",UI_UniqueWaTaShi:"",UI_UniqueWaTaShiContent:`
6000
  
 `,UI_GenerateNow:"",M_NoRank:"",M_PleaseSelectOne:"",M_UnGenerate:"",M_DisableExtendTalent:"",F_RemakeTimes:"{0}",F_AchievementCount:"{0}",F_TalentSelection:"{name}{description}",F_TalentConflict:"{0}",F_TalentSelectLimit:" {0} ",F_TalentSelectNotComplect:"{0}",F_PropertyPointLeft:" {0} ",F_TalentReplace:"{source.name}->{target.name}",F_PropertyStr:"{CHR} {INT} {STR} {MNY}"},Fb={"zh-cn":Ib},Lb=Fb["zh-cn"];function Mb(r){return Lb[r]??r}const Ob={SUM:"",HAGE:"",HCHR:"",HINT:"",HSTR:"",HMNY:"",HSPR:""};function Nb(r){return Ob[r]??r}const Do={"":""},Ub=r=>(Do==null?void 0:Do[r])??r,_i={processing:!1,page:"",autoPlay:!1,useAI:!1,thinking:"",output:"",talentChoices:[],usedPropertyPoints:0,allocation:{CHR:0,INT:0,STR:0,MNY:0,TLT:[],EXT:null},inheritedTalent:null,lifeEnded:!1,state:{},summary:[],lifeStory:[]},zb=[["CHR",""],["INT",""],["STR",""],["MNY",""]],Yb=[["CHR",""],["INT",""],["STR",""],["MNY",""],["SPR",""]];function Hb(){const r=Ur(),e=es({lifeObj:null});Vt(async()=>{var f;const h=new vm;await h.initial(Bb),h.config(Cm),e.lifeObj=h,console.log(`lifeWrapper.lifeObj
`,e.lifeObj),console.log(`lifeWrapper.lifeObj?.lastExtendTalent
`,(f=e.lifeObj)==null?void 0:f.lastExtendTalent)}),rs(async()=>{e.lifeObj=null});function t(h,f,m,_,k){var D,R,B,ee,ke,tr,me,At;const g=m.allocation[h],y=f-g,x=Math.min(y,k),w=g+x,v=Math.min(w,((R=(D=e.lifeObj)==null?void 0:D.propertyAllocateLimit)==null?void 0:R[1])??10),C=Math.max(v,((ee=(B=e.lifeObj)==null?void 0:B.propertyAllocateLimit)==null?void 0:ee[0])??0),P=C-g;return console.log({min:((tr=(ke=e.lifeObj)==null?void 0:ke.propertyAllocateLimit)==null?void 0:tr[0])??0,max:((At=(me=e.lifeObj)==null?void 0:me.propertyAllocateLimit)==null?void 0:At[1])??_??20,val:f,oldVal:g,delta:y,effectiveDelta:x,newVal:w,effectiveBigNewVal:v,effectiveNewVal:C,finalDelta:P}),{val:C,delta:P}}function o(h){const f=h.inheritedTalent;Object.assign(h,A.cloneDeep(_i)),h.inheritedTalent=f}function n(h){var m,_,k,g,y,x,w,v,C,P,D,R,B,ee,ke;const f=(k=(_=(m=e.lifeObj)==null?void 0:m._property)==null?void 0:_.getProperties)==null?void 0:k.call(_);Object.assign(h.state,f),h.state.AGE=(x=(y=(g=e.lifeObj)==null?void 0:g._property)==null?void 0:y.get)==null?void 0:x.call(y,"AGE"),h.state.LIF=(C=(v=(w=e.lifeObj)==null?void 0:w._property)==null?void 0:v.get)==null?void 0:C.call(v,"LIF"),h.state.TLT=(R=(D=(P=e.lifeObj)==null?void 0:P._property)==null?void 0:D.get)==null?void 0:R.call(D,"TLT"),h.state.EVT=(ke=(ee=(B=e.lifeObj)==null?void 0:B._property)==null?void 0:ee.get)==null?void 0:ke.call(ee,"EVT"),console.log(`properties
`,f),console.log(`demoData.state
`,h.state)}function u(h,f){var m,_;h.allocation.TLT=f.map(k=>k==null?void 0:k.id),(_=(m=e.lifeObj)==null?void 0:m.start)==null||_.call(m,h.allocation),n(h)}function a(h){const f=h.value;if(!f)return;f.scrollHeight-f.scrollTop-f.clientHeight<400&&requestAnimationFrame(()=>{f.scrollTo({top:f.scrollHeight,behavior:"smooth"})})}async function i(h,f,m,_,k){var w,v,C;if(a(m),h.lifeEnded){await _(),r.add({severity:"info",summary:"",detail:"",life:1500});return}const{age:g,content:y,isEnd:x}=((v=(w=e.lifeObj)==null?void 0:w.next)==null?void 0:v.call(w))??{};console.log({age:g,content:y,isEnd:x}),h.lifeStory.push({age:g??0,content:y??[],isEnd:x}),n(h),h.useAI&&((C=h.lifeStory)==null?void 0:C.length)>2&&await Rb(h,f,()=>{a(m)}),x&&(h.lifeEnded=!0,k(),await _()),await du(10),a(m)}async function s(h,f){for(h.autoPlay=!0;h.autoPlay;)await f(),await du(700)}async function c(h){h.autoPlay=!1}function l(h,f,m){h.autoPlay?m():f()}function d(h){var m;const f=(m=e.lifeObj)==null?void 0:m.summary;console.log(`summary
`,f),h.summary=[];for(let _=0;_<7;_++)h.summary.push(f==null?void 0:f[_]);console.log(`demoData.summary
`,h.summary)}function p(h){Uu(()=>h.inheritedTalent,async(f,m)=>{await Qt("demoData.inheritedTalent",f)}),Vt(async()=>{const f=await $n("demoData.inheritedTalent");f&&(console.log(`inheritedTalent
`,f),h.inheritedTalent=f)})}return{lifeWrapper:e,computeOKVal:t,clearData:o,updateData:n,start:u,scrollToTheBottom:a,step:i,startAuto:s,stopAuto:c,toggleAuto:l,makeLifeSummary:d,setupInheritedTalentWatcher:p}}function jb(r,e){const t=ye(null),o=un({selectedSupplier:Eb[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),n=ye(0);ts(()=>{var s,c,l;n.value=((c=(s=e.lifeObj)==null?void 0:s.getPropertyPoints)==null?void 0:c.call(s))??((l=e.lifeObj)==null?void 0:l._defaultPropertyPoints)??0});const u=Xe(()=>r.talentChoices.filter(s=>s.selected)),a=Xe(()=>n.value),i=Xe(()=>(a.value??0)-(r.usedPropertyPoints??0));return Vt(async()=>{const s=await $n("supplierForm");s!=null&&Object.assign(o,s),console.log(o)}),{storyBoxRef:t,supplierForm:o,selectedTalents:u,propertyPoints:a,restPropertyPoints:i}}const qb={class:"flex flex-col items-center justify-center flex-1 pt-10rem pb-16rem min-h-full w-full select-none relative bg-transparent!"},Wb={class:"relative group inline-flex justify-center"},Vb=Z({__name:"RestartPage",props:{lifeWrapper:{},onPageChange:{type:Function}},setup(r){const e=r,t=async()=>{var o,n;(n=(o=e.lifeWrapper.lifeObj)==null?void 0:o.remake)==null||n.call(o,[]),e.onPageChange("")};return(o,n)=>(N(),V("div",qb,[n[3]||(n[3]=z("div",{class:"flex flex-col items-center gap-2 mb-12 opacity-50"},[z("h2",{class:"text-10px tracking-0.8em text-slate-500 dark:text-slate-400 font-200 ml-0.8em uppercase"}," System Reboot "),z("div",{class:"h-1px w-12 bg-gradient-to-r from-transparent via-slate-300 dark:via-slate-600 to-transparent"})],-1)),z("div",Wb,[n[0]||(n[0]=z("div",{class:"absolute -top-4 -left-4 w-4 h-4 border-t-1 border-l-1 border-slate-300 dark:border-slate-600 opacity-0 group-hover:opacity-100 transition-all duration-500 pointer-events-none"},null,-1)),n[1]||(n[1]=z("div",{class:"absolute -bottom-4 -right-4 w-4 h-4 border-b-1 border-r-1 border-slate-300 dark:border-slate-600 opacity-0 group-hover:opacity-100 transition-all duration-500 pointer-events-none"},null,-1)),oe(L(j),{label:"    ",icon:"pi pi-power-off",class:"restart-btn-fixed !relative !rounded-none !bg-white/50 dark:!bg-white/5 !backdrop-blur-sm !border-1 !border-slate-200 dark:!border-white/10 !text-slate-600 dark:!text-slate-400 !text-sm !font-300 !tracking-0.5em !transition-all !duration-500 hover:!border-slate-900 dark:hover:!border-white/40 hover:!text-slate-900 dark:hover:!text-white hover:!bg-white/90 dark:hover:!bg-white/10 active:!scale-98",onClick:t}),n[2]||(n[2]=z("div",{class:"absolute -bottom-1 left-4 right-4 h-1px bg-transparent group-hover:bg-gradient-to-r from-transparent via-slate-400 dark:via-cyan-500 to-transparent transition-all duration-700 pointer-events-none"},null,-1))])]))}}),Jb=(r,e)=>{const t=r.__vccOpts||r;for(const[o,n]of e)t[o]=n;return t},Gb=Jb(Vb,[["__scopeId","data-v-80631ab9"]]),Xb={class:"stack-v"},Zb={class:"stack-h justify-center! justify-items-center! items-center!"},Kb={class:"stack-h justify-center! justify-items-center! items-center!"},Qb=Z({__name:"ModePage",props:{onPageChange:{type:Function}},setup(r){const e=r,t=Ur(),o=async()=>{e.onPageChange("")},n=async()=>{t.add({severity:"warn",summary:"",detail:"",life:1500})};return(u,a)=>(N(),V("div",Xb,[z("div",Zb,[oe(L(j),{label:"",class:"",onClick:o}),a[0]||(a[0]=z("span",null,"10",-1))]),z("div",Kb,[oe(L(j),{label:"",class:"",onClick:n}),a[1]||(a[1]=z("span",null,"",-1))])]))}}),e2={class:"stack-h"},r2=Z({__name:"TalentPreparePage",props:{demoData:{},lifeWrapper:{},onPageChange:{type:Function}},setup(r){const e=r,t=async()=>{var o,n,u,a,i;e.onPageChange(""),(o=e.demoData.inheritedTalent)!=null&&o.id&&(console.log(`demoData.inheritedTalent
`,e.demoData.inheritedTalent),(u=(n=e.lifeWrapper.lifeObj)==null?void 0:n.talentExtend)==null||u.call(n,String(e.demoData.inheritedTalent.id))),e.demoData.talentChoices=((i=(a=e.lifeWrapper.lifeObj)==null?void 0:a.talentRandom)==null?void 0:i.call(a))??[]};return(o,n)=>(N(),V("div",e2,[oe(L(j),{label:"10!",icon:"pi pi-refresh",class:"",onClick:t})]))}}),t2={class:"stack-v"},o2=Z({__name:"TalentSelectionPage",props:{demoData:{},lifeWrapper:{},selectedTalents:{},onPageChange:{type:Function}},setup(r){const e=r,t=Ur(),o=async()=>{var s;e.demoData.talentChoices.forEach(c=>c.selected=!1),A.sampleSize(e.demoData.talentChoices,(s=e.lifeWrapper.lifeObj)==null?void 0:s.talentSelectLimit).forEach(c=>c.selected=!0)},n=async()=>{var i;if(e.selectedTalents.length!=((i=e.lifeWrapper.lifeObj)==null?void 0:i.talentSelectLimit)){t.add({severity:"warn",summary:"",detail:"",life:1500});return}console.log(`lifeObj
`,e.lifeWrapper.lifeObj),e.onPageChange("")},u=async()=>{var i,s;e.demoData.talentChoices=((s=(i=e.lifeWrapper.lifeObj)==null?void 0:i.talentRandom)==null?void 0:s.call(i))??[]},a=async i=>{var s;if(e.selectedTalents.length>=(((s=e.lifeWrapper.lifeObj)==null?void 0:s.talentSelectLimit)??3)&&!i.selected){t.add({severity:"warn",summary:"",detail:"",life:1500});return}i.selected=!i.selected};return(i,s)=>{var c,l,d;return N(),V("div",t2,[z("div",{class:xe(["stack-h",i.selectedTalents.length==((c=i.lifeWrapper.lifeObj)==null?void 0:c.talentSelectLimit)?"flex-row-reverse!":null])},[oe(L(j),{label:"",icon:"pi pi-arrow-right-arrow-left",class:"",onClick:o}),oe(L(j),{label:i.selectedTalents.length>=(((l=i.lifeWrapper.lifeObj)==null?void 0:l.talentSelectLimit)??3)?"":`${((d=i.lifeWrapper.lifeObj)==null?void 0:d.talentSelectLimit)??3}`,class:"",onClick:n},null,8,["label"])],2),oe(L(j),{label:"",icon:"pi pi-refresh",class:"",onClick:u}),(N(!0),V(Ze,null,Ke(i.demoData.talentChoices,(p,h)=>(N(),Je(L(j),{key:`[${h}]${p==null?void 0:p.name}`,label:`${p==null?void 0:p.name}${p==null?void 0:p.description}${p!=null&&p.selected?"":""}`,class:xe([L(Mr)(p==null?void 0:p.grade),p!=null&&p.selected?"border-red-500! text-red-300!":""]),onClick:()=>a(p)},null,8,["label","class","onClick"]))),128))])}}}),n2={class:"stack-v"},u2=Z({__name:"PropertyAllocationPage",props:{demoData:{},lifeWrapper:{},selectedTalents:{},propertyPoints:{},restPropertyPoints:{},onPageChange:{type:Function},onComputeOKVal:{type:Function}},setup(r){const e=r,t=Ur(),o=async()=>{var s,c;e.demoData.usedPropertyPoints=0,e.demoData.allocation.CHR=0,e.demoData.allocation.INT=0,e.demoData.allocation.STR=0,e.demoData.allocation.MNY=0;const a=e.propertyPoints??20,i=Object.keys(e.demoData.allocation);for(let l=0;l<a;l++){const d=A.sample(i);if(e.demoData.allocation[d]>=(((c=(s=e.lifeWrapper.lifeObj)==null?void 0:s.propertyAllocateLimit)==null?void 0:c[1])??10)){l-=1;continue}e.demoData.allocation[d]+=1,e.demoData.usedPropertyPoints+=1}},n=async()=>{if(e.restPropertyPoints!=0){t.add({severity:"warn",summary:"",detail:`${e.restPropertyPoints}`,life:1500});return}e.onPageChange("")},u=(a,i)=>{var l,d,p,h;const c=e.demoData.allocation[a]+i;if(i>0){const f=((d=(l=e.lifeWrapper.lifeObj)==null?void 0:l.propertyAllocateLimit)==null?void 0:d[1])??e.propertyPoints??20,m=Math.min(f,c),{val:_,delta:k}=e.onComputeOKVal(a,m);e.demoData.usedPropertyPoints+=k,e.demoData.allocation[a]=_}else{const f=((h=(p=e.lifeWrapper.lifeObj)==null?void 0:p.propertyAllocateLimit)==null?void 0:h[0])??0,m=Math.max(f,c),{val:_,delta:k}=e.onComputeOKVal(a,m);e.demoData.usedPropertyPoints+=k,e.demoData.allocation[a]=_}};return(a,i)=>(N(),V("div",n2,[z("div",{class:xe(["stack-h",a.restPropertyPoints==0?"flex-row-reverse!":null])},[oe(L(j),{label:"",icon:"pi pi-asterisk",class:"",onClick:o}),oe(L(j),{label:"",class:"",onClick:n})],2),z("div",null,""+ae(a.restPropertyPoints??0),1),(N(!0),V(Ze,null,Ke(L(zb),([s,c],l)=>(N(),V("div",{key:`[${l}]${s}`,class:"stack-h justify-center! justify-items-center! items-center!"},[z("span",null,ae(c)+"",1),oe(L(j),{icon:"pi pi-minus",class:"",onClick:()=>u(s,-1)},null,8,["onClick"]),z("span",null,ae(a.demoData.allocation[s]),1),oe(L(j),{icon:"pi pi-plus",class:"",onClick:()=>u(s,1)},null,8,["onClick"])]))),128)),i[0]||(i[0]=z("div",null,"",-1)),(N(!0),V(Ze,null,Ke(a.selectedTalents,(s,c)=>(N(),Je(L(j),{key:`[${c}]${s==null?void 0:s.name}`,label:`${s==null?void 0:s.name}${s==null?void 0:s.description}`,class:xe(L(Mr)(s==null?void 0:s.grade))},null,8,["label","class"]))),128))]))}}),a2={class:"stack-v w-full"},i2={class:"stack-h w-full"},s2={class:"stack-h"},c2={class:"stack-h"},l2=["onClick"],d2=Z({__name:"LifePage",props:{demoData:{},onPageChange:{type:Function},onStep:{type:Function},onToggleAuto:{type:Function}},setup(r,{expose:e}){const t=r,o=ye(null),n=async()=>{t.onPageChange("")},u=async()=>{t.demoData.useAI=!t.demoData.useAI};return e({storyBoxRef:o}),(a,i)=>(N(),V("div",a2,[z("div",i2,[oe(L(j),{label:"",icon:"pi pi-list-check",class:xe([a.demoData.lifeEnded?"ml-4rem":"hidden!"]),onClick:n},null,8,["class"]),oe(L(j),{label:"",icon:"pi pi-arrow-right",class:xe([a.demoData.lifeEnded?"hidden!":null]),disabled:a.demoData.processing,onClick:a.onStep},null,8,["class","disabled","onClick"]),oe(L(j),{label:a.demoData.autoPlay?"":"",icon:a.demoData.autoPlay?"pi pi-stop-circle":"pi pi-arrow-circle-right",class:xe([a.demoData.lifeEnded?"hidden!":null]),disabled:a.demoData.processing&&!a.demoData.autoPlay,onClick:a.onToggleAuto},null,8,["label","icon","class","disabled","onClick"])]),z("div",s2,[oe(L(j),{label:`AI${a.demoData.useAI?"":""}`,icon:"pi pi-sparkles",class:xe([a.demoData.lifeEnded?"hidden!":null]),onClick:u},null,8,["label","class"])]),z("div",c2,[(N(!0),V(Ze,null,Ke(L(Yb),([s,c],l)=>(N(),V("div",{key:`[${l}]${s}`,class:"p-panel stack-v p-0.25rem justify-center! items-center!"},[z("div",null,ae(c),1),z("div",null,ae(String(a.demoData.state[s]??"")),1)]))),128))]),z("div",{id:"life-story-box",ref_key:"storyBoxRef",ref:o,class:"p-panel p-0.5rem max-h-50svh w-full overflow-auto"},[(N(!0),V(Ze,null,Ke(a.demoData.lifeStory,(s,c)=>(N(),V("div",{key:`[${c}]${s==null?void 0:s.age}`,class:"stack-v mt-0.5rem mb-0.25rem",onClick:()=>console.log(s)},[z("div",null,ae(s==null?void 0:s.age)+"",1),(N(!0),V(Ze,null,Ke((s==null?void 0:s.content)??[],(l,d)=>(N(),V("div",{key:`[${d}]${l==null?void 0:l.name}`},[(l==null?void 0:l.type)==="TLT"?(N(),Je(L(_o),{key:0,severity:"secondary",class:xe(L(Mr)(l==null?void 0:l.grade))},{default:Ot(()=>[Nt(" "+ae(l==null?void 0:l.name)+""+ae(l==null?void 0:l.description),1)]),_:2},1032,["class"])):Tt("",!0),(l==null?void 0:l.type)==="EVT"?(N(),Je(L(_o),{key:1,severity:"secondary",class:xe(L(Mr)(l==null?void 0:l.grade))},{default:Ot(()=>[Nt(ae(l==null?void 0:l.description)+" "+ae((l==null?void 0:l.postEvent)??""),1)]),_:2},1032,["class"])):Tt("",!0)]))),128)),s!=null&&s.output?(N(),Je(L(_o),{key:0,severity:"secondary",class:""},{default:Ot(()=>[Nt(ae(s==null?void 0:s.output),1)]),_:2},1024)):Tt("",!0)],8,l2))),128)),a.demoData.processing?(N(),Je(L(ms),{key:0,style:{strokeWidth:"1rem",width:"2.5rem",height:"2.5rem"},class:"my-spinner my-0.5rem!"})):Tt("",!0)],512)]))}}),f2={class:"stack-v"},h2={class:"stack-h"},p2=Z({__name:"SummaryPage",props:{demoData:{},lifeWrapper:{},selectedTalents:{},onPageChange:{type:Function},onClearData:{type:Function}},setup(r){const e=r,t=async()=>{var u,a;(e.selectedTalents??[]).find(i=>{var s;return(i==null?void 0:i.name)==((s=e.demoData.inheritedTalent)==null?void 0:s.name)})||(e.demoData.inheritedTalent=null,(a=(u=e.lifeWrapper.lifeObj)==null?void 0:u.talentExtend)==null||a.call(u,"")),console.log(`demoData.summary
`,e.demoData.summary),e.onClearData(),e.onPageChange("")},o=async n=>{var u,a,i,s,c;if(((u=e.demoData.inheritedTalent)==null?void 0:u.name)==(n==null?void 0:n.name)){e.demoData.inheritedTalent=null,(i=(a=e.lifeWrapper.lifeObj)==null?void 0:a.talentExtend)==null||i.call(a,"");return}e.demoData.inheritedTalent=n,(c=(s=e.lifeWrapper.lifeObj)==null?void 0:s.talentExtend)==null||c.call(s,String(n==null?void 0:n.id))};return(n,u)=>(N(),V("div",f2,[z("div",h2,[oe(L(j),{label:"",icon:"pi pi-refresh",class:"",onClick:t})]),(N(!0),V(Ze,null,Ke(n.demoData.summary,(a,i)=>(N(),Je(L(bs),{key:`[${i}]${a==null?void 0:a.prop}`,class:xe(L(Mr)(Number(a==null?void 0:a.grade)))},{default:Ot(()=>[Nt(ae(L(Nb)((a==null?void 0:a.prop)??""))+""+ae((a==null?void 0:a.value)??"")+" "+ae(L(Mb)((a==null?void 0:a.judge)??"")),1)]),_:2},1032,["class"]))),128)),u[0]||(u[0]=z("div",null,"",-1)),(N(!0),V(Ze,null,Ke(n.selectedTalents,(a,i)=>{var s,c;return N(),Je(L(j),{key:`[${i}]${a==null?void 0:a.name}`,label:`${a==null?void 0:a.name}${a==null?void 0:a.description}${((s=n.demoData.inheritedTalent)==null?void 0:s.name)==(a==null?void 0:a.name)?"":""}`,class:xe([L(Mr)(a==null?void 0:a.grade),((c=n.demoData.inheritedTalent)==null?void 0:c.name)==(a==null?void 0:a.name)?"border-red-500! text-red-300!":""]),onClick:()=>o(a)},null,8,["label","class","onClick"])}),128))]))}}),pu={};function g2(r){let e=pu[r];if(e)return e;e=pu[r]=[];for(let t=0;t<128;t++){const o=String.fromCharCode(t);e.push(o)}for(let t=0;t<r.length;t++){const o=r.charCodeAt(t);e[o]="%"+("0"+o.toString(16).toUpperCase()).slice(-2)}return e}function Or(r,e){typeof e!="string"&&(e=Or.defaultChars);const t=g2(e);return r.replace(/(%[a-f0-9]{2})+/gi,function(o){let n="";for(let u=0,a=o.length;u<a;u+=3){const i=parseInt(o.slice(u+1,u+3),16);if(i<128){n+=t[i];continue}if((i&224)===192&&u+3<a){const s=parseInt(o.slice(u+4,u+6),16);if((s&192)===128){const c=i<<6&1984|s&63;c<128?n+="":n+=String.fromCharCode(c),u+=3;continue}}if((i&240)===224&&u+6<a){const s=parseInt(o.slice(u+4,u+6),16),c=parseInt(o.slice(u+7,u+9),16);if((s&192)===128&&(c&192)===128){const l=i<<12&61440|s<<6&4032|c&63;l<2048||l>=55296&&l<=57343?n+="":n+=String.fromCharCode(l),u+=6;continue}}if((i&248)===240&&u+9<a){const s=parseInt(o.slice(u+4,u+6),16),c=parseInt(o.slice(u+7,u+9),16),l=parseInt(o.slice(u+10,u+12),16);if((s&192)===128&&(c&192)===128&&(l&192)===128){let d=i<<18&1835008|s<<12&258048|c<<6&4032|l&63;d<65536||d>1114111?n+="":(d-=65536,n+=String.fromCharCode(55296+(d>>10),56320+(d&1023))),u+=9;continue}}n+=""}return n})}Or.defaultChars=";/?:@&=+$,#";Or.componentChars="";const gu={};function m2(r){let e=gu[r];if(e)return e;e=gu[r]=[];for(let t=0;t<128;t++){const o=String.fromCharCode(t);/^[0-9a-z]$/i.test(o)?e.push(o):e.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2))}for(let t=0;t<r.length;t++)e[r.charCodeAt(t)]=r[t];return e}function wt(r,e,t){typeof e!="string"&&(t=e,e=wt.defaultChars),typeof t>"u"&&(t=!0);const o=m2(e);let n="";for(let u=0,a=r.length;u<a;u++){const i=r.charCodeAt(u);if(t&&i===37&&u+2<a&&/^[0-9a-f]{2}$/i.test(r.slice(u+1,u+3))){n+=r.slice(u,u+3),u+=2;continue}if(i<128){n+=o[i];continue}if(i>=55296&&i<=57343){if(i>=55296&&i<=56319&&u+1<a){const s=r.charCodeAt(u+1);if(s>=56320&&s<=57343){n+=encodeURIComponent(r[u]+r[u+1]),u++;continue}}n+="%EF%BF%BD";continue}n+=encodeURIComponent(r[u])}return n}wt.defaultChars=";/?:@&=+$,-_.!~*'()#";wt.componentChars="-_.!~*'()";function Pn(r){let e="";return e+=r.protocol||"",e+=r.slashes?"//":"",e+=r.auth?r.auth+"@":"",r.hostname&&r.hostname.indexOf(":")!==-1?e+="["+r.hostname+"]":e+=r.hostname||"",e+=r.port?":"+r.port:"",e+=r.pathname||"",e+=r.search||"",e+=r.hash||"",e}function eo(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const b2=/^([a-z0-9.+-]+:)/i,_2=/:[0-9]*$/,x2=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,y2=["<",">",'"',"`"," ","\r",`
`,"	"],k2=["{","}","|","\\","^","`"].concat(y2),v2=["'"].concat(k2),mu=["%","/","?",";","#"].concat(v2),bu=["/","?","#"],C2=255,_u=/^[+a-z0-9A-Z_-]{0,63}$/,w2=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,xu={javascript:!0,"javascript:":!0},yu={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Bn(r,e){if(r&&r instanceof eo)return r;const t=new eo;return t.parse(r,e),t}eo.prototype.parse=function(r,e){let t,o,n,u=r;if(u=u.trim(),!e&&r.split("#").length===1){const c=x2.exec(u);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let a=b2.exec(u);if(a&&(a=a[0],t=a.toLowerCase(),this.protocol=a,u=u.substr(a.length)),(e||a||u.match(/^\/\/[^@\/]+@[^@\/]+/))&&(n=u.substr(0,2)==="//",n&&!(a&&xu[a])&&(u=u.substr(2),this.slashes=!0)),!xu[a]&&(n||a&&!yu[a])){let c=-1;for(let f=0;f<bu.length;f++)o=u.indexOf(bu[f]),o!==-1&&(c===-1||o<c)&&(c=o);let l,d;c===-1?d=u.lastIndexOf("@"):d=u.lastIndexOf("@",c),d!==-1&&(l=u.slice(0,d),u=u.slice(d+1),this.auth=l),c=-1;for(let f=0;f<mu.length;f++)o=u.indexOf(mu[f]),o!==-1&&(c===-1||o<c)&&(c=o);c===-1&&(c=u.length),u[c-1]===":"&&c--;const p=u.slice(0,c);u=u.slice(c),this.parseHost(p),this.hostname=this.hostname||"";const h=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!h){const f=this.hostname.split(/\./);for(let m=0,_=f.length;m<_;m++){const k=f[m];if(k&&!k.match(_u)){let g="";for(let y=0,x=k.length;y<x;y++)k.charCodeAt(y)>127?g+="x":g+=k[y];if(!g.match(_u)){const y=f.slice(0,m),x=f.slice(m+1),w=k.match(w2);w&&(y.push(w[1]),x.unshift(w[2])),x.length&&(u=x.join(".")+u),this.hostname=y.join(".");break}}}}this.hostname.length>C2&&(this.hostname=""),h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const i=u.indexOf("#");i!==-1&&(this.hash=u.substr(i),u=u.slice(0,i));const s=u.indexOf("?");return s!==-1&&(this.search=u.substr(s),u=u.slice(0,s)),u&&(this.pathname=u),yu[t]&&this.hostname&&!this.pathname&&(this.pathname=""),this};eo.prototype.parseHost=function(r){let e=_2.exec(r);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),r=r.substr(0,r.length-e.length)),r&&(this.hostname=r)};const E2=Object.freeze(Object.defineProperty({__proto__:null,decode:Or,encode:wt,format:Pn,parse:Bn},Symbol.toStringTag,{value:"Module"})),xi=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,yi=/[\0-\x1F\x7F-\x9F]/,S2=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,In=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,ki=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,vi=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,A2=Object.freeze(Object.defineProperty({__proto__:null,Any:xi,Cc:yi,Cf:S2,P:In,S:ki,Z:vi},Symbol.toStringTag,{value:"Module"})),T2=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(r=>r.charCodeAt(0))),D2=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(r=>r.charCodeAt(0)));var Ro;const R2=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),$2=(Ro=String.fromCodePoint)!==null&&Ro!==void 0?Ro:function(r){let e="";return r>65535&&(r-=65536,e+=String.fromCharCode(r>>>10&1023|55296),r=56320|r&1023),e+=String.fromCharCode(r),e};function P2(r){var e;return r>=55296&&r<=57343||r>1114111?65533:(e=R2.get(r))!==null&&e!==void 0?e:r}var X;(function(r){r[r.NUM=35]="NUM",r[r.SEMI=59]="SEMI",r[r.EQUALS=61]="EQUALS",r[r.ZERO=48]="ZERO",r[r.NINE=57]="NINE",r[r.LOWER_A=97]="LOWER_A",r[r.LOWER_F=102]="LOWER_F",r[r.LOWER_X=120]="LOWER_X",r[r.LOWER_Z=122]="LOWER_Z",r[r.UPPER_A=65]="UPPER_A",r[r.UPPER_F=70]="UPPER_F",r[r.UPPER_Z=90]="UPPER_Z"})(X||(X={}));const B2=32;var Ge;(function(r){r[r.VALUE_LENGTH=49152]="VALUE_LENGTH",r[r.BRANCH_LENGTH=16256]="BRANCH_LENGTH",r[r.JUMP_TABLE=127]="JUMP_TABLE"})(Ge||(Ge={}));function en(r){return r>=X.ZERO&&r<=X.NINE}function I2(r){return r>=X.UPPER_A&&r<=X.UPPER_F||r>=X.LOWER_A&&r<=X.LOWER_F}function F2(r){return r>=X.UPPER_A&&r<=X.UPPER_Z||r>=X.LOWER_A&&r<=X.LOWER_Z||en(r)}function L2(r){return r===X.EQUALS||F2(r)}var J;(function(r){r[r.EntityStart=0]="EntityStart",r[r.NumericStart=1]="NumericStart",r[r.NumericDecimal=2]="NumericDecimal",r[r.NumericHex=3]="NumericHex",r[r.NamedEntity=4]="NamedEntity"})(J||(J={}));var qe;(function(r){r[r.Legacy=0]="Legacy",r[r.Strict=1]="Strict",r[r.Attribute=2]="Attribute"})(qe||(qe={}));class M2{constructor(e,t,o){this.decodeTree=e,this.emitCodePoint=t,this.errors=o,this.state=J.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=qe.Strict}startEntity(e){this.decodeMode=e,this.state=J.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case J.EntityStart:return e.charCodeAt(t)===X.NUM?(this.state=J.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=J.NamedEntity,this.stateNamedEntity(e,t));case J.NumericStart:return this.stateNumericStart(e,t);case J.NumericDecimal:return this.stateNumericDecimal(e,t);case J.NumericHex:return this.stateNumericHex(e,t);case J.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|B2)===X.LOWER_X?(this.state=J.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=J.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,o,n){if(t!==o){const u=o-t;this.result=this.result*Math.pow(n,u)+parseInt(e.substr(t,u),n),this.consumed+=u}}stateNumericHex(e,t){const o=t;for(;t<e.length;){const n=e.charCodeAt(t);if(en(n)||I2(n))t+=1;else return this.addToNumericResult(e,o,t,16),this.emitNumericEntity(n,3)}return this.addToNumericResult(e,o,t,16),-1}stateNumericDecimal(e,t){const o=t;for(;t<e.length;){const n=e.charCodeAt(t);if(en(n))t+=1;else return this.addToNumericResult(e,o,t,10),this.emitNumericEntity(n,2)}return this.addToNumericResult(e,o,t,10),-1}emitNumericEntity(e,t){var o;if(this.consumed<=t)return(o=this.errors)===null||o===void 0||o.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===X.SEMI)this.consumed+=1;else if(this.decodeMode===qe.Strict)return 0;return this.emitCodePoint(P2(this.result),this.consumed),this.errors&&(e!==X.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:o}=this;let n=o[this.treeIndex],u=(n&Ge.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const a=e.charCodeAt(t);if(this.treeIndex=O2(o,n,this.treeIndex+Math.max(1,u),a),this.treeIndex<0)return this.result===0||this.decodeMode===qe.Attribute&&(u===0||L2(a))?0:this.emitNotTerminatedNamedEntity();if(n=o[this.treeIndex],u=(n&Ge.VALUE_LENGTH)>>14,u!==0){if(a===X.SEMI)return this.emitNamedEntityData(this.treeIndex,u,this.consumed+this.excess);this.decodeMode!==qe.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:o}=this,n=(o[t]&Ge.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,n,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,o){const{decodeTree:n}=this;return this.emitCodePoint(t===1?n[e]&~Ge.VALUE_LENGTH:n[e+1],o),t===3&&this.emitCodePoint(n[e+2],o),o}end(){var e;switch(this.state){case J.NamedEntity:return this.result!==0&&(this.decodeMode!==qe.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case J.NumericDecimal:return this.emitNumericEntity(0,2);case J.NumericHex:return this.emitNumericEntity(0,3);case J.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case J.EntityStart:return 0}}}function Ci(r){let e="";const t=new M2(r,o=>e+=$2(o));return function(n,u){let a=0,i=0;for(;(i=n.indexOf("&",i))>=0;){e+=n.slice(a,i),t.startEntity(u);const c=t.write(n,i+1);if(c<0){a=i+t.end();break}a=i+c,i=c===0?a+1:a}const s=e+n.slice(a);return e="",s}}function O2(r,e,t,o){const n=(e&Ge.BRANCH_LENGTH)>>7,u=e&Ge.JUMP_TABLE;if(n===0)return u!==0&&o===u?t:-1;if(u){const s=o-u;return s<0||s>=n?-1:r[t+s]-1}let a=t,i=a+n-1;for(;a<=i;){const s=a+i>>>1,c=r[s];if(c<o)a=s+1;else if(c>o)i=s-1;else return r[s+n]}return-1}const N2=Ci(T2);Ci(D2);function wi(r,e=qe.Legacy){return N2(r,e)}function U2(r){return Object.prototype.toString.call(r)}function Fn(r){return U2(r)==="[object String]"}const z2=Object.prototype.hasOwnProperty;function Y2(r,e){return z2.call(r,e)}function ho(r){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if(typeof t!="object")throw new TypeError(t+"must be object");Object.keys(t).forEach(function(o){r[o]=t[o]})}}),r}function Ei(r,e,t){return[].concat(r.slice(0,e),t,r.slice(e+1))}function Ln(r){return!(r>=55296&&r<=57343||r>=64976&&r<=65007||(r&65535)===65535||(r&65535)===65534||r>=0&&r<=8||r===11||r>=14&&r<=31||r>=127&&r<=159||r>1114111)}function ro(r){if(r>65535){r-=65536;const e=55296+(r>>10),t=56320+(r&1023);return String.fromCharCode(e,t)}return String.fromCharCode(r)}const Si=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,H2=/&([a-z#][a-z0-9]{1,31});/gi,j2=new RegExp(Si.source+"|"+H2.source,"gi"),q2=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function W2(r,e){if(e.charCodeAt(0)===35&&q2.test(e)){const o=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Ln(o)?ro(o):r}const t=wi(r);return t!==r?t:r}function V2(r){return r.indexOf("\\")<0?r:r.replace(Si,"$1")}function Nr(r){return r.indexOf("\\")<0&&r.indexOf("&")<0?r:r.replace(j2,function(e,t,o){return t||W2(e,o)})}const J2=/[&<>"]/,G2=/[&<>"]/g,X2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Z2(r){return X2[r]}function er(r){return J2.test(r)?r.replace(G2,Z2):r}const K2=/[.?*+^$[\]\\(){}|-]/g;function Q2(r){return r.replace(K2,"\\$&")}function Y(r){switch(r){case 9:case 32:return!0}return!1}function at(r){if(r>=8192&&r<=8202)return!0;switch(r){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function it(r){return In.test(r)||ki.test(r)}function st(r){switch(r){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function po(r){return r=r.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(r=r.replace(//g,"")),r.toLowerCase().toUpperCase()}const e3={mdurl:E2,ucmicro:A2},r3=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Ei,assign:ho,escapeHtml:er,escapeRE:Q2,fromCodePoint:ro,has:Y2,isMdAsciiPunct:st,isPunctChar:it,isSpace:Y,isString:Fn,isValidEntityCode:Ln,isWhiteSpace:at,lib:e3,normalizeReference:po,unescapeAll:Nr,unescapeMd:V2},Symbol.toStringTag,{value:"Module"}));function t3(r,e,t){let o,n,u,a;const i=r.posMax,s=r.pos;for(r.pos=e+1,o=1;r.pos<i;){if(u=r.src.charCodeAt(r.pos),u===93&&(o--,o===0)){n=!0;break}if(a=r.pos,r.md.inline.skipToken(r),u===91){if(a===r.pos-1)o++;else if(t)return r.pos=s,-1}}let c=-1;return n&&(c=r.pos),r.pos=s,c}function o3(r,e,t){let o,n=e;const u={ok:!1,pos:0,str:""};if(r.charCodeAt(n)===60){for(n++;n<t;){if(o=r.charCodeAt(n),o===10||o===60)return u;if(o===62)return u.pos=n+1,u.str=Nr(r.slice(e+1,n)),u.ok=!0,u;if(o===92&&n+1<t){n+=2;continue}n++}return u}let a=0;for(;n<t&&(o=r.charCodeAt(n),!(o===32||o<32||o===127));){if(o===92&&n+1<t){if(r.charCodeAt(n+1)===32)break;n+=2;continue}if(o===40&&(a++,a>32))return u;if(o===41){if(a===0)break;a--}n++}return e===n||a!==0||(u.str=Nr(r.slice(e,n)),u.pos=n,u.ok=!0),u}function n3(r,e,t,o){let n,u=e;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(o)a.str=o.str,a.marker=o.marker;else{if(u>=t)return a;let i=r.charCodeAt(u);if(i!==34&&i!==39&&i!==40)return a;e++,u++,i===40&&(i=41),a.marker=i}for(;u<t;){if(n=r.charCodeAt(u),n===a.marker)return a.pos=u+1,a.str+=Nr(r.slice(e,u)),a.ok=!0,a;if(n===40&&a.marker===41)return a;n===92&&u+1<t&&u++,u++}return a.can_continue=!0,a.str+=Nr(r.slice(e,u)),a}const u3=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:o3,parseLinkLabel:t3,parseLinkTitle:n3},Symbol.toStringTag,{value:"Module"})),Le={};Le.code_inline=function(r,e,t,o,n){const u=r[e];return"<code"+n.renderAttrs(u)+">"+er(u.content)+"</code>"};Le.code_block=function(r,e,t,o,n){const u=r[e];return"<pre"+n.renderAttrs(u)+"><code>"+er(r[e].content)+`</code></pre>
`};Le.fence=function(r,e,t,o,n){const u=r[e],a=u.info?Nr(u.info).trim():"";let i="",s="";if(a){const l=a.split(/(\s+)/g);i=l[0],s=l.slice(2).join("")}let c;if(t.highlight?c=t.highlight(u.content,i,s)||er(u.content):c=er(u.content),c.indexOf("<pre")===0)return c+`
`;if(a){const l=u.attrIndex("class"),d=u.attrs?u.attrs.slice():[];l<0?d.push(["class",t.langPrefix+i]):(d[l]=d[l].slice(),d[l][1]+=" "+t.langPrefix+i);const p={attrs:d};return`<pre><code${n.renderAttrs(p)}>${c}</code></pre>
`}return`<pre><code${n.renderAttrs(u)}>${c}</code></pre>
`};Le.image=function(r,e,t,o,n){const u=r[e];return u.attrs[u.attrIndex("alt")][1]=n.renderInlineAsText(u.children,t,o),n.renderToken(r,e,t)};Le.hardbreak=function(r,e,t){return t.xhtmlOut?`<br />
`:`<br>
`};Le.softbreak=function(r,e,t){return t.breaks?t.xhtmlOut?`<br />
`:`<br>
`:`
`};Le.text=function(r,e){return er(r[e].content)};Le.html_block=function(r,e){return r[e].content};Le.html_inline=function(r,e){return r[e].content};function jr(){this.rules=ho({},Le)}jr.prototype.renderAttrs=function(e){let t,o,n;if(!e.attrs)return"";for(n="",t=0,o=e.attrs.length;t<o;t++)n+=" "+er(e.attrs[t][0])+'="'+er(e.attrs[t][1])+'"';return n};jr.prototype.renderToken=function(e,t,o){const n=e[t];let u="";if(n.hidden)return"";n.block&&n.nesting!==-1&&t&&e[t-1].hidden&&(u+=`
`),u+=(n.nesting===-1?"</":"<")+n.tag,u+=this.renderAttrs(n),n.nesting===0&&o.xhtmlOut&&(u+=" /");let a=!1;if(n.block&&(a=!0,n.nesting===1&&t+1<e.length)){const i=e[t+1];(i.type==="inline"||i.hidden||i.nesting===-1&&i.tag===n.tag)&&(a=!1)}return u+=a?`>
`:">",u};jr.prototype.renderInline=function(r,e,t){let o="";const n=this.rules;for(let u=0,a=r.length;u<a;u++){const i=r[u].type;typeof n[i]<"u"?o+=n[i](r,u,e,t,this):o+=this.renderToken(r,u,e)}return o};jr.prototype.renderInlineAsText=function(r,e,t){let o="";for(let n=0,u=r.length;n<u;n++)switch(r[n].type){case"text":o+=r[n].content;break;case"image":o+=this.renderInlineAsText(r[n].children,e,t);break;case"html_inline":case"html_block":o+=r[n].content;break;case"softbreak":case"hardbreak":o+=`
`;break}return o};jr.prototype.render=function(r,e,t){let o="";const n=this.rules;for(let u=0,a=r.length;u<a;u++){const i=r[u].type;i==="inline"?o+=this.renderInline(r[u].children,e,t):typeof n[i]<"u"?o+=n[i](r,u,e,t,this):o+=this.renderToken(r,u,e,t)}return o};function ie(){this.__rules__=[],this.__cache__=null}ie.prototype.__find__=function(r){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===r)return e;return-1};ie.prototype.__compile__=function(){const r=this,e=[""];r.__rules__.forEach(function(t){t.enabled&&t.alt.forEach(function(o){e.indexOf(o)<0&&e.push(o)})}),r.__cache__={},e.forEach(function(t){r.__cache__[t]=[],r.__rules__.forEach(function(o){o.enabled&&(t&&o.alt.indexOf(t)<0||r.__cache__[t].push(o.fn))})})};ie.prototype.at=function(r,e,t){const o=this.__find__(r),n=t||{};if(o===-1)throw new Error("Parser rule not found: "+r);this.__rules__[o].fn=e,this.__rules__[o].alt=n.alt||[],this.__cache__=null};ie.prototype.before=function(r,e,t,o){const n=this.__find__(r),u=o||{};if(n===-1)throw new Error("Parser rule not found: "+r);this.__rules__.splice(n,0,{name:e,enabled:!0,fn:t,alt:u.alt||[]}),this.__cache__=null};ie.prototype.after=function(r,e,t,o){const n=this.__find__(r),u=o||{};if(n===-1)throw new Error("Parser rule not found: "+r);this.__rules__.splice(n+1,0,{name:e,enabled:!0,fn:t,alt:u.alt||[]}),this.__cache__=null};ie.prototype.push=function(r,e,t){const o=t||{};this.__rules__.push({name:r,enabled:!0,fn:e,alt:o.alt||[]}),this.__cache__=null};ie.prototype.enable=function(r,e){Array.isArray(r)||(r=[r]);const t=[];return r.forEach(function(o){const n=this.__find__(o);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[n].enabled=!0,t.push(o)},this),this.__cache__=null,t};ie.prototype.enableOnly=function(r,e){Array.isArray(r)||(r=[r]),this.__rules__.forEach(function(t){t.enabled=!1}),this.enable(r,e)};ie.prototype.disable=function(r,e){Array.isArray(r)||(r=[r]);const t=[];return r.forEach(function(o){const n=this.__find__(o);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[n].enabled=!1,t.push(o)},this),this.__cache__=null,t};ie.prototype.getRules=function(r){return this.__cache__===null&&this.__compile__(),this.__cache__[r]||[]};function Te(r,e,t){this.type=r,this.tag=e,this.attrs=null,this.map=null,this.nesting=t,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Te.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let o=0,n=t.length;o<n;o++)if(t[o][0]===e)return o;return-1};Te.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Te.prototype.attrSet=function(e,t){const o=this.attrIndex(e),n=[e,t];o<0?this.attrPush(n):this.attrs[o]=n};Te.prototype.attrGet=function(e){const t=this.attrIndex(e);let o=null;return t>=0&&(o=this.attrs[t][1]),o};Te.prototype.attrJoin=function(e,t){const o=this.attrIndex(e);o<0?this.attrPush([e,t]):this.attrs[o][1]=this.attrs[o][1]+" "+t};function Ai(r,e,t){this.src=r,this.env=t,this.tokens=[],this.inlineMode=!1,this.md=e}Ai.prototype.Token=Te;const a3=/\r\n?|\n/g,i3=/\0/g;function s3(r){let e;e=r.src.replace(a3,`
`),e=e.replace(i3,""),r.src=e}function c3(r){let e;r.inlineMode?(e=new r.Token("inline","",0),e.content=r.src,e.map=[0,1],e.children=[],r.tokens.push(e)):r.md.block.parse(r.src,r.md,r.env,r.tokens)}function l3(r){const e=r.tokens;for(let t=0,o=e.length;t<o;t++){const n=e[t];n.type==="inline"&&r.md.inline.parse(n.content,r.md,r.env,n.children)}}function d3(r){return/^<a[>\s]/i.test(r)}function f3(r){return/^<\/a\s*>/i.test(r)}function h3(r){const e=r.tokens;if(r.md.options.linkify)for(let t=0,o=e.length;t<o;t++){if(e[t].type!=="inline"||!r.md.linkify.pretest(e[t].content))continue;let n=e[t].children,u=0;for(let a=n.length-1;a>=0;a--){const i=n[a];if(i.type==="link_close"){for(a--;n[a].level!==i.level&&n[a].type!=="link_open";)a--;continue}if(i.type==="html_inline"&&(d3(i.content)&&u>0&&u--,f3(i.content)&&u++),!(u>0)&&i.type==="text"&&r.md.linkify.test(i.content)){const s=i.content;let c=r.md.linkify.match(s);const l=[];let d=i.level,p=0;c.length>0&&c[0].index===0&&a>0&&n[a-1].type==="text_special"&&(c=c.slice(1));for(let h=0;h<c.length;h++){const f=c[h].url,m=r.md.normalizeLink(f);if(!r.md.validateLink(m))continue;let _=c[h].text;c[h].schema?c[h].schema==="mailto:"&&!/^mailto:/i.test(_)?_=r.md.normalizeLinkText("mailto:"+_).replace(/^mailto:/,""):_=r.md.normalizeLinkText(_):_=r.md.normalizeLinkText("http://"+_).replace(/^http:\/\//,"");const k=c[h].index;if(k>p){const w=new r.Token("text","",0);w.content=s.slice(p,k),w.level=d,l.push(w)}const g=new r.Token("link_open","a",1);g.attrs=[["href",m]],g.level=d++,g.markup="linkify",g.info="auto",l.push(g);const y=new r.Token("text","",0);y.content=_,y.level=d,l.push(y);const x=new r.Token("link_close","a",-1);x.level=--d,x.markup="linkify",x.info="auto",l.push(x),p=c[h].lastIndex}if(p<s.length){const h=new r.Token("text","",0);h.content=s.slice(p),h.level=d,l.push(h)}e[t].children=n=Ei(n,a,l)}}}}const Ti=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,p3=/\((c|tm|r)\)/i,g3=/\((c|tm|r)\)/ig,m3={c:"",r:"",tm:""};function b3(r,e){return m3[e.toLowerCase()]}function _3(r){let e=0;for(let t=r.length-1;t>=0;t--){const o=r[t];o.type==="text"&&!e&&(o.content=o.content.replace(g3,b3)),o.type==="link_open"&&o.info==="auto"&&e--,o.type==="link_close"&&o.info==="auto"&&e++}}function x3(r){let e=0;for(let t=r.length-1;t>=0;t--){const o=r[t];o.type==="text"&&!e&&Ti.test(o.content)&&(o.content=o.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),o.type==="link_open"&&o.info==="auto"&&e--,o.type==="link_close"&&o.info==="auto"&&e++}}function y3(r){let e;if(r.md.options.typographer)for(e=r.tokens.length-1;e>=0;e--)r.tokens[e].type==="inline"&&(p3.test(r.tokens[e].content)&&_3(r.tokens[e].children),Ti.test(r.tokens[e].content)&&x3(r.tokens[e].children))}const k3=/['"]/,ku=/['"]/g,vu="";function Lt(r,e,t){return r.slice(0,e)+t+r.slice(e+1)}function v3(r,e){let t;const o=[];for(let n=0;n<r.length;n++){const u=r[n],a=r[n].level;for(t=o.length-1;t>=0&&!(o[t].level<=a);t--);if(o.length=t+1,u.type!=="text")continue;let i=u.content,s=0,c=i.length;e:for(;s<c;){ku.lastIndex=s;const l=ku.exec(i);if(!l)break;let d=!0,p=!0;s=l.index+1;const h=l[0]==="'";let f=32;if(l.index-1>=0)f=i.charCodeAt(l.index-1);else for(t=n-1;t>=0&&!(r[t].type==="softbreak"||r[t].type==="hardbreak");t--)if(r[t].content){f=r[t].content.charCodeAt(r[t].content.length-1);break}let m=32;if(s<c)m=i.charCodeAt(s);else for(t=n+1;t<r.length&&!(r[t].type==="softbreak"||r[t].type==="hardbreak");t++)if(r[t].content){m=r[t].content.charCodeAt(0);break}const _=st(f)||it(String.fromCharCode(f)),k=st(m)||it(String.fromCharCode(m)),g=at(f),y=at(m);if(y?d=!1:k&&(g||_||(d=!1)),g?p=!1:_&&(y||k||(p=!1)),m===34&&l[0]==='"'&&f>=48&&f<=57&&(p=d=!1),d&&p&&(d=_,p=k),!d&&!p){h&&(u.content=Lt(u.content,l.index,vu));continue}if(p)for(t=o.length-1;t>=0;t--){let x=o[t];if(o[t].level<a)break;if(x.single===h&&o[t].level===a){x=o[t];let w,v;h?(w=e.md.options.quotes[2],v=e.md.options.quotes[3]):(w=e.md.options.quotes[0],v=e.md.options.quotes[1]),u.content=Lt(u.content,l.index,v),r[x.token].content=Lt(r[x.token].content,x.pos,w),s+=v.length-1,x.token===n&&(s+=w.length-1),i=u.content,c=i.length,o.length=t;continue e}}d?o.push({token:n,pos:l.index,single:h,level:a}):p&&h&&(u.content=Lt(u.content,l.index,vu))}}}function C3(r){if(r.md.options.typographer)for(let e=r.tokens.length-1;e>=0;e--)r.tokens[e].type!=="inline"||!k3.test(r.tokens[e].content)||v3(r.tokens[e].children,r)}function w3(r){let e,t;const o=r.tokens,n=o.length;for(let u=0;u<n;u++){if(o[u].type!=="inline")continue;const a=o[u].children,i=a.length;for(e=0;e<i;e++)a[e].type==="text_special"&&(a[e].type="text");for(e=t=0;e<i;e++)a[e].type==="text"&&e+1<i&&a[e+1].type==="text"?a[e+1].content=a[e].content+a[e+1].content:(e!==t&&(a[t]=a[e]),t++);e!==t&&(a.length=t)}}const $o=[["normalize",s3],["block",c3],["inline",l3],["linkify",h3],["replacements",y3],["smartquotes",C3],["text_join",w3]];function Mn(){this.ruler=new ie;for(let r=0;r<$o.length;r++)this.ruler.push($o[r][0],$o[r][1])}Mn.prototype.process=function(r){const e=this.ruler.getRules("");for(let t=0,o=e.length;t<o;t++)e[t](r)};Mn.prototype.State=Ai;function Me(r,e,t,o){this.src=r,this.md=e,this.env=t,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const n=this.src;for(let u=0,a=0,i=0,s=0,c=n.length,l=!1;a<c;a++){const d=n.charCodeAt(a);if(!l)if(Y(d)){i++,d===9?s+=4-s%4:s++;continue}else l=!0;(d===10||a===c-1)&&(d!==10&&a++,this.bMarks.push(u),this.eMarks.push(a),this.tShift.push(i),this.sCount.push(s),this.bsCount.push(0),l=!1,i=0,s=0,u=a+1)}this.bMarks.push(n.length),this.eMarks.push(n.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Me.prototype.push=function(r,e,t){const o=new Te(r,e,t);return o.block=!0,t<0&&this.level--,o.level=this.level,t>0&&this.level++,this.tokens.push(o),o};Me.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Me.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Me.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t;e++){const o=this.src.charCodeAt(e);if(!Y(o))break}return e};Me.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!Y(this.src.charCodeAt(--e)))return e+1;return e};Me.prototype.skipChars=function(e,t){for(let o=this.src.length;e<o&&this.src.charCodeAt(e)===t;e++);return e};Me.prototype.skipCharsBack=function(e,t,o){if(e<=o)return e;for(;e>o;)if(t!==this.src.charCodeAt(--e))return e+1;return e};Me.prototype.getLines=function(e,t,o,n){if(e>=t)return"";const u=new Array(t-e);for(let a=0,i=e;i<t;i++,a++){let s=0;const c=this.bMarks[i];let l=c,d;for(i+1<t||n?d=this.eMarks[i]+1:d=this.eMarks[i];l<d&&s<o;){const p=this.src.charCodeAt(l);if(Y(p))p===9?s+=4-(s+this.bsCount[i])%4:s++;else if(l-c<this.tShift[i])s++;else break;l++}s>o?u[a]=new Array(s-o+1).join(" ")+this.src.slice(l,d):u[a]=this.src.slice(l,d)}return u.join("")};Me.prototype.Token=Te;const E3=65536;function Po(r,e){const t=r.bMarks[e]+r.tShift[e],o=r.eMarks[e];return r.src.slice(t,o)}function Cu(r){const e=[],t=r.length;let o=0,n=r.charCodeAt(o),u=!1,a=0,i="";for(;o<t;)n===124&&(u?(i+=r.substring(a,o-1),a=o):(e.push(i+r.substring(a,o)),i="",a=o+1)),u=n===92,o++,n=r.charCodeAt(o);return e.push(i+r.substring(a)),e}function S3(r,e,t,o){if(e+2>t)return!1;let n=e+1;if(r.sCount[n]<r.blkIndent||r.sCount[n]-r.blkIndent>=4)return!1;let u=r.bMarks[n]+r.tShift[n];if(u>=r.eMarks[n])return!1;const a=r.src.charCodeAt(u++);if(a!==124&&a!==45&&a!==58||u>=r.eMarks[n])return!1;const i=r.src.charCodeAt(u++);if(i!==124&&i!==45&&i!==58&&!Y(i)||a===45&&Y(i))return!1;for(;u<r.eMarks[n];){const x=r.src.charCodeAt(u);if(x!==124&&x!==45&&x!==58&&!Y(x))return!1;u++}let s=Po(r,e+1),c=s.split("|");const l=[];for(let x=0;x<c.length;x++){const w=c[x].trim();if(!w){if(x===0||x===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(w))return!1;w.charCodeAt(w.length-1)===58?l.push(w.charCodeAt(0)===58?"center":"right"):w.charCodeAt(0)===58?l.push("left"):l.push("")}if(s=Po(r,e).trim(),s.indexOf("|")===-1||r.sCount[e]-r.blkIndent>=4)return!1;c=Cu(s),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const d=c.length;if(d===0||d!==l.length)return!1;if(o)return!0;const p=r.parentType;r.parentType="table";const h=r.md.block.ruler.getRules("blockquote"),f=r.push("table_open","table",1),m=[e,0];f.map=m;const _=r.push("thead_open","thead",1);_.map=[e,e+1];const k=r.push("tr_open","tr",1);k.map=[e,e+1];for(let x=0;x<c.length;x++){const w=r.push("th_open","th",1);l[x]&&(w.attrs=[["style","text-align:"+l[x]]]);const v=r.push("inline","",0);v.content=c[x].trim(),v.children=[],r.push("th_close","th",-1)}r.push("tr_close","tr",-1),r.push("thead_close","thead",-1);let g,y=0;for(n=e+2;n<t&&!(r.sCount[n]<r.blkIndent);n++){let x=!1;for(let v=0,C=h.length;v<C;v++)if(h[v](r,n,t,!0)){x=!0;break}if(x||(s=Po(r,n).trim(),!s)||r.sCount[n]-r.blkIndent>=4||(c=Cu(s),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),y+=d-c.length,y>E3))break;if(n===e+2){const v=r.push("tbody_open","tbody",1);v.map=g=[e+2,0]}const w=r.push("tr_open","tr",1);w.map=[n,n+1];for(let v=0;v<d;v++){const C=r.push("td_open","td",1);l[v]&&(C.attrs=[["style","text-align:"+l[v]]]);const P=r.push("inline","",0);P.content=c[v]?c[v].trim():"",P.children=[],r.push("td_close","td",-1)}r.push("tr_close","tr",-1)}return g&&(r.push("tbody_close","tbody",-1),g[1]=n),r.push("table_close","table",-1),m[1]=n,r.parentType=p,r.line=n,!0}function A3(r,e,t){if(r.sCount[e]-r.blkIndent<4)return!1;let o=e+1,n=o;for(;o<t;){if(r.isEmpty(o)){o++;continue}if(r.sCount[o]-r.blkIndent>=4){o++,n=o;continue}break}r.line=n;const u=r.push("code_block","code",0);return u.content=r.getLines(e,n,4+r.blkIndent,!1)+`
`,u.map=[e,r.line],!0}function T3(r,e,t,o){let n=r.bMarks[e]+r.tShift[e],u=r.eMarks[e];if(r.sCount[e]-r.blkIndent>=4||n+3>u)return!1;const a=r.src.charCodeAt(n);if(a!==126&&a!==96)return!1;let i=n;n=r.skipChars(n,a);let s=n-i;if(s<3)return!1;const c=r.src.slice(i,n),l=r.src.slice(n,u);if(a===96&&l.indexOf(String.fromCharCode(a))>=0)return!1;if(o)return!0;let d=e,p=!1;for(;d++,!(d>=t||(n=i=r.bMarks[d]+r.tShift[d],u=r.eMarks[d],n<u&&r.sCount[d]<r.blkIndent));)if(r.src.charCodeAt(n)===a&&!(r.sCount[d]-r.blkIndent>=4)&&(n=r.skipChars(n,a),!(n-i<s)&&(n=r.skipSpaces(n),!(n<u)))){p=!0;break}s=r.sCount[e],r.line=d+(p?1:0);const h=r.push("fence","code",0);return h.info=l,h.content=r.getLines(e+1,d,s,!0),h.markup=c,h.map=[e,r.line],!0}function D3(r,e,t,o){let n=r.bMarks[e]+r.tShift[e],u=r.eMarks[e];const a=r.lineMax;if(r.sCount[e]-r.blkIndent>=4||r.src.charCodeAt(n)!==62)return!1;if(o)return!0;const i=[],s=[],c=[],l=[],d=r.md.block.ruler.getRules("blockquote"),p=r.parentType;r.parentType="blockquote";let h=!1,f;for(f=e;f<t;f++){const y=r.sCount[f]<r.blkIndent;if(n=r.bMarks[f]+r.tShift[f],u=r.eMarks[f],n>=u)break;if(r.src.charCodeAt(n++)===62&&!y){let w=r.sCount[f]+1,v,C;r.src.charCodeAt(n)===32?(n++,w++,C=!1,v=!0):r.src.charCodeAt(n)===9?(v=!0,(r.bsCount[f]+w)%4===3?(n++,w++,C=!1):C=!0):v=!1;let P=w;for(i.push(r.bMarks[f]),r.bMarks[f]=n;n<u;){const D=r.src.charCodeAt(n);if(Y(D))D===9?P+=4-(P+r.bsCount[f]+(C?1:0))%4:P++;else break;n++}h=n>=u,s.push(r.bsCount[f]),r.bsCount[f]=r.sCount[f]+1+(v?1:0),c.push(r.sCount[f]),r.sCount[f]=P-w,l.push(r.tShift[f]),r.tShift[f]=n-r.bMarks[f];continue}if(h)break;let x=!1;for(let w=0,v=d.length;w<v;w++)if(d[w](r,f,t,!0)){x=!0;break}if(x){r.lineMax=f,r.blkIndent!==0&&(i.push(r.bMarks[f]),s.push(r.bsCount[f]),l.push(r.tShift[f]),c.push(r.sCount[f]),r.sCount[f]-=r.blkIndent);break}i.push(r.bMarks[f]),s.push(r.bsCount[f]),l.push(r.tShift[f]),c.push(r.sCount[f]),r.sCount[f]=-1}const m=r.blkIndent;r.blkIndent=0;const _=r.push("blockquote_open","blockquote",1);_.markup=">";const k=[e,0];_.map=k,r.md.block.tokenize(r,e,f);const g=r.push("blockquote_close","blockquote",-1);g.markup=">",r.lineMax=a,r.parentType=p,k[1]=r.line;for(let y=0;y<l.length;y++)r.bMarks[y+e]=i[y],r.tShift[y+e]=l[y],r.sCount[y+e]=c[y],r.bsCount[y+e]=s[y];return r.blkIndent=m,!0}function R3(r,e,t,o){const n=r.eMarks[e];if(r.sCount[e]-r.blkIndent>=4)return!1;let u=r.bMarks[e]+r.tShift[e];const a=r.src.charCodeAt(u++);if(a!==42&&a!==45&&a!==95)return!1;let i=1;for(;u<n;){const c=r.src.charCodeAt(u++);if(c!==a&&!Y(c))return!1;c===a&&i++}if(i<3)return!1;if(o)return!0;r.line=e+1;const s=r.push("hr","hr",0);return s.map=[e,r.line],s.markup=Array(i+1).join(String.fromCharCode(a)),!0}function wu(r,e){const t=r.eMarks[e];let o=r.bMarks[e]+r.tShift[e];const n=r.src.charCodeAt(o++);if(n!==42&&n!==45&&n!==43)return-1;if(o<t){const u=r.src.charCodeAt(o);if(!Y(u))return-1}return o}function Eu(r,e){const t=r.bMarks[e]+r.tShift[e],o=r.eMarks[e];let n=t;if(n+1>=o)return-1;let u=r.src.charCodeAt(n++);if(u<48||u>57)return-1;for(;;){if(n>=o)return-1;if(u=r.src.charCodeAt(n++),u>=48&&u<=57){if(n-t>=10)return-1;continue}if(u===41||u===46)break;return-1}return n<o&&(u=r.src.charCodeAt(n),!Y(u))?-1:n}function $3(r,e){const t=r.level+2;for(let o=e+2,n=r.tokens.length-2;o<n;o++)r.tokens[o].level===t&&r.tokens[o].type==="paragraph_open"&&(r.tokens[o+2].hidden=!0,r.tokens[o].hidden=!0,o+=2)}function P3(r,e,t,o){let n,u,a,i,s=e,c=!0;if(r.sCount[s]-r.blkIndent>=4||r.listIndent>=0&&r.sCount[s]-r.listIndent>=4&&r.sCount[s]<r.blkIndent)return!1;let l=!1;o&&r.parentType==="paragraph"&&r.sCount[s]>=r.blkIndent&&(l=!0);let d,p,h;if((h=Eu(r,s))>=0){if(d=!0,a=r.bMarks[s]+r.tShift[s],p=Number(r.src.slice(a,h-1)),l&&p!==1)return!1}else if((h=wu(r,s))>=0)d=!1;else return!1;if(l&&r.skipSpaces(h)>=r.eMarks[s])return!1;if(o)return!0;const f=r.src.charCodeAt(h-1),m=r.tokens.length;d?(i=r.push("ordered_list_open","ol",1),p!==1&&(i.attrs=[["start",p]])):i=r.push("bullet_list_open","ul",1);const _=[s,0];i.map=_,i.markup=String.fromCharCode(f);let k=!1;const g=r.md.block.ruler.getRules("list"),y=r.parentType;for(r.parentType="list";s<t;){u=h,n=r.eMarks[s];const x=r.sCount[s]+h-(r.bMarks[s]+r.tShift[s]);let w=x;for(;u<n;){const me=r.src.charCodeAt(u);if(me===9)w+=4-(w+r.bsCount[s])%4;else if(me===32)w++;else break;u++}const v=u;let C;v>=n?C=1:C=w-x,C>4&&(C=1);const P=x+C;i=r.push("list_item_open","li",1),i.markup=String.fromCharCode(f);const D=[s,0];i.map=D,d&&(i.info=r.src.slice(a,h-1));const R=r.tight,B=r.tShift[s],ee=r.sCount[s],ke=r.listIndent;if(r.listIndent=r.blkIndent,r.blkIndent=P,r.tight=!0,r.tShift[s]=v-r.bMarks[s],r.sCount[s]=w,v>=n&&r.isEmpty(s+1)?r.line=Math.min(r.line+2,t):r.md.block.tokenize(r,s,t,!0),(!r.tight||k)&&(c=!1),k=r.line-s>1&&r.isEmpty(r.line-1),r.blkIndent=r.listIndent,r.listIndent=ke,r.tShift[s]=B,r.sCount[s]=ee,r.tight=R,i=r.push("list_item_close","li",-1),i.markup=String.fromCharCode(f),s=r.line,D[1]=s,s>=t||r.sCount[s]<r.blkIndent||r.sCount[s]-r.blkIndent>=4)break;let tr=!1;for(let me=0,At=g.length;me<At;me++)if(g[me](r,s,t,!0)){tr=!0;break}if(tr)break;if(d){if(h=Eu(r,s),h<0)break;a=r.bMarks[s]+r.tShift[s]}else if(h=wu(r,s),h<0)break;if(f!==r.src.charCodeAt(h-1))break}return d?i=r.push("ordered_list_close","ol",-1):i=r.push("bullet_list_close","ul",-1),i.markup=String.fromCharCode(f),_[1]=s,r.line=s,r.parentType=y,c&&$3(r,m),!0}function B3(r,e,t,o){let n=r.bMarks[e]+r.tShift[e],u=r.eMarks[e],a=e+1;if(r.sCount[e]-r.blkIndent>=4||r.src.charCodeAt(n)!==91)return!1;function i(g){const y=r.lineMax;if(g>=y||r.isEmpty(g))return null;let x=!1;if(r.sCount[g]-r.blkIndent>3&&(x=!0),r.sCount[g]<0&&(x=!0),!x){const C=r.md.block.ruler.getRules("reference"),P=r.parentType;r.parentType="reference";let D=!1;for(let R=0,B=C.length;R<B;R++)if(C[R](r,g,y,!0)){D=!0;break}if(r.parentType=P,D)return null}const w=r.bMarks[g]+r.tShift[g],v=r.eMarks[g];return r.src.slice(w,v+1)}let s=r.src.slice(n,u+1);u=s.length;let c=-1;for(n=1;n<u;n++){const g=s.charCodeAt(n);if(g===91)return!1;if(g===93){c=n;break}else if(g===10){const y=i(a);y!==null&&(s+=y,u=s.length,a++)}else if(g===92&&(n++,n<u&&s.charCodeAt(n)===10)){const y=i(a);y!==null&&(s+=y,u=s.length,a++)}}if(c<0||s.charCodeAt(c+1)!==58)return!1;for(n=c+2;n<u;n++){const g=s.charCodeAt(n);if(g===10){const y=i(a);y!==null&&(s+=y,u=s.length,a++)}else if(!Y(g))break}const l=r.md.helpers.parseLinkDestination(s,n,u);if(!l.ok)return!1;const d=r.md.normalizeLink(l.str);if(!r.md.validateLink(d))return!1;n=l.pos;const p=n,h=a,f=n;for(;n<u;n++){const g=s.charCodeAt(n);if(g===10){const y=i(a);y!==null&&(s+=y,u=s.length,a++)}else if(!Y(g))break}let m=r.md.helpers.parseLinkTitle(s,n,u);for(;m.can_continue;){const g=i(a);if(g===null)break;s+=g,n=u,u=s.length,a++,m=r.md.helpers.parseLinkTitle(s,n,u,m)}let _;for(n<u&&f!==n&&m.ok?(_=m.str,n=m.pos):(_="",n=p,a=h);n<u;){const g=s.charCodeAt(n);if(!Y(g))break;n++}if(n<u&&s.charCodeAt(n)!==10&&_)for(_="",n=p,a=h;n<u;){const g=s.charCodeAt(n);if(!Y(g))break;n++}if(n<u&&s.charCodeAt(n)!==10)return!1;const k=po(s.slice(1,c));return k?(o||(typeof r.env.references>"u"&&(r.env.references={}),typeof r.env.references[k]>"u"&&(r.env.references[k]={title:_,href:d}),r.line=a),!0):!1}const I3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],F3="[a-zA-Z_:][a-zA-Z0-9:._-]*",L3="[^\"'=<>`\\x00-\\x20]+",M3="'[^']*'",O3='"[^"]*"',N3="(?:"+L3+"|"+M3+"|"+O3+")",U3="(?:\\s+"+F3+"(?:\\s*=\\s*"+N3+")?)",Di="<[A-Za-z][A-Za-z0-9\\-]*"+U3+"*\\s*\\/?>",Ri="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",z3="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",Y3="<[?][\\s\\S]*?[?]>",H3="<![A-Za-z][^>]*>",j3="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",q3=new RegExp("^(?:"+Di+"|"+Ri+"|"+z3+"|"+Y3+"|"+H3+"|"+j3+")"),W3=new RegExp("^(?:"+Di+"|"+Ri+")"),gr=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+I3.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(W3.source+"\\s*$"),/^$/,!1]];function V3(r,e,t,o){let n=r.bMarks[e]+r.tShift[e],u=r.eMarks[e];if(r.sCount[e]-r.blkIndent>=4||!r.md.options.html||r.src.charCodeAt(n)!==60)return!1;let a=r.src.slice(n,u),i=0;for(;i<gr.length&&!gr[i][0].test(a);i++);if(i===gr.length)return!1;if(o)return gr[i][2];let s=e+1;if(!gr[i][1].test(a)){for(;s<t&&!(r.sCount[s]<r.blkIndent);s++)if(n=r.bMarks[s]+r.tShift[s],u=r.eMarks[s],a=r.src.slice(n,u),gr[i][1].test(a)){a.length!==0&&s++;break}}r.line=s;const c=r.push("html_block","",0);return c.map=[e,s],c.content=r.getLines(e,s,r.blkIndent,!0),!0}function J3(r,e,t,o){let n=r.bMarks[e]+r.tShift[e],u=r.eMarks[e];if(r.sCount[e]-r.blkIndent>=4)return!1;let a=r.src.charCodeAt(n);if(a!==35||n>=u)return!1;let i=1;for(a=r.src.charCodeAt(++n);a===35&&n<u&&i<=6;)i++,a=r.src.charCodeAt(++n);if(i>6||n<u&&!Y(a))return!1;if(o)return!0;u=r.skipSpacesBack(u,n);const s=r.skipCharsBack(u,35,n);s>n&&Y(r.src.charCodeAt(s-1))&&(u=s),r.line=e+1;const c=r.push("heading_open","h"+String(i),1);c.markup="########".slice(0,i),c.map=[e,r.line];const l=r.push("inline","",0);l.content=r.src.slice(n,u).trim(),l.map=[e,r.line],l.children=[];const d=r.push("heading_close","h"+String(i),-1);return d.markup="########".slice(0,i),!0}function G3(r,e,t){const o=r.md.block.ruler.getRules("paragraph");if(r.sCount[e]-r.blkIndent>=4)return!1;const n=r.parentType;r.parentType="paragraph";let u=0,a,i=e+1;for(;i<t&&!r.isEmpty(i);i++){if(r.sCount[i]-r.blkIndent>3)continue;if(r.sCount[i]>=r.blkIndent){let h=r.bMarks[i]+r.tShift[i];const f=r.eMarks[i];if(h<f&&(a=r.src.charCodeAt(h),(a===45||a===61)&&(h=r.skipChars(h,a),h=r.skipSpaces(h),h>=f))){u=a===61?1:2;break}}if(r.sCount[i]<0)continue;let p=!1;for(let h=0,f=o.length;h<f;h++)if(o[h](r,i,t,!0)){p=!0;break}if(p)break}if(!u)return!1;const s=r.getLines(e,i,r.blkIndent,!1).trim();r.line=i+1;const c=r.push("heading_open","h"+String(u),1);c.markup=String.fromCharCode(a),c.map=[e,r.line];const l=r.push("inline","",0);l.content=s,l.map=[e,r.line-1],l.children=[];const d=r.push("heading_close","h"+String(u),-1);return d.markup=String.fromCharCode(a),r.parentType=n,!0}function X3(r,e,t){const o=r.md.block.ruler.getRules("paragraph"),n=r.parentType;let u=e+1;for(r.parentType="paragraph";u<t&&!r.isEmpty(u);u++){if(r.sCount[u]-r.blkIndent>3||r.sCount[u]<0)continue;let c=!1;for(let l=0,d=o.length;l<d;l++)if(o[l](r,u,t,!0)){c=!0;break}if(c)break}const a=r.getLines(e,u,r.blkIndent,!1).trim();r.line=u;const i=r.push("paragraph_open","p",1);i.map=[e,r.line];const s=r.push("inline","",0);return s.content=a,s.map=[e,r.line],s.children=[],r.push("paragraph_close","p",-1),r.parentType=n,!0}const Mt=[["table",S3,["paragraph","reference"]],["code",A3],["fence",T3,["paragraph","reference","blockquote","list"]],["blockquote",D3,["paragraph","reference","blockquote","list"]],["hr",R3,["paragraph","reference","blockquote","list"]],["list",P3,["paragraph","reference","blockquote"]],["reference",B3],["html_block",V3,["paragraph","reference","blockquote"]],["heading",J3,["paragraph","reference","blockquote"]],["lheading",G3],["paragraph",X3]];function go(){this.ruler=new ie;for(let r=0;r<Mt.length;r++)this.ruler.push(Mt[r][0],Mt[r][1],{alt:(Mt[r][2]||[]).slice()})}go.prototype.tokenize=function(r,e,t){const o=this.ruler.getRules(""),n=o.length,u=r.md.options.maxNesting;let a=e,i=!1;for(;a<t&&(r.line=a=r.skipEmptyLines(a),!(a>=t||r.sCount[a]<r.blkIndent));){if(r.level>=u){r.line=t;break}const s=r.line;let c=!1;for(let l=0;l<n;l++)if(c=o[l](r,a,t,!1),c){if(s>=r.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");r.tight=!i,r.isEmpty(r.line-1)&&(i=!0),a=r.line,a<t&&r.isEmpty(a)&&(i=!0,a++,r.line=a)}};go.prototype.parse=function(r,e,t,o){if(!r)return;const n=new this.State(r,e,t,o);this.tokenize(n,n.line,n.lineMax)};go.prototype.State=Me;function Et(r,e,t,o){this.src=r,this.env=t,this.md=e,this.tokens=o,this.tokens_meta=Array(o.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Et.prototype.pushPending=function(){const r=new Te("text","",0);return r.content=this.pending,r.level=this.pendingLevel,this.tokens.push(r),this.pending="",r};Et.prototype.push=function(r,e,t){this.pending&&this.pushPending();const o=new Te(r,e,t);let n=null;return t<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,t>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],n={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(n),o};Et.prototype.scanDelims=function(r,e){const t=this.posMax,o=this.src.charCodeAt(r),n=r>0?this.src.charCodeAt(r-1):32;let u=r;for(;u<t&&this.src.charCodeAt(u)===o;)u++;const a=u-r,i=u<t?this.src.charCodeAt(u):32,s=st(n)||it(String.fromCharCode(n)),c=st(i)||it(String.fromCharCode(i)),l=at(n),d=at(i),p=!d&&(!c||l||s),h=!l&&(!s||d||c);return{can_open:p&&(e||!h||s),can_close:h&&(e||!p||c),length:a}};Et.prototype.Token=Te;function Z3(r){switch(r){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function K3(r,e){let t=r.pos;for(;t<r.posMax&&!Z3(r.src.charCodeAt(t));)t++;return t===r.pos?!1:(e||(r.pending+=r.src.slice(r.pos,t)),r.pos=t,!0)}const Q3=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function e_(r,e){if(!r.md.options.linkify||r.linkLevel>0)return!1;const t=r.pos,o=r.posMax;if(t+3>o||r.src.charCodeAt(t)!==58||r.src.charCodeAt(t+1)!==47||r.src.charCodeAt(t+2)!==47)return!1;const n=r.pending.match(Q3);if(!n)return!1;const u=n[1],a=r.md.linkify.matchAtStart(r.src.slice(t-u.length));if(!a)return!1;let i=a.url;if(i.length<=u.length)return!1;i=i.replace(/\*+$/,"");const s=r.md.normalizeLink(i);if(!r.md.validateLink(s))return!1;if(!e){r.pending=r.pending.slice(0,-u.length);const c=r.push("link_open","a",1);c.attrs=[["href",s]],c.markup="linkify",c.info="auto";const l=r.push("text","",0);l.content=r.md.normalizeLinkText(i);const d=r.push("link_close","a",-1);d.markup="linkify",d.info="auto"}return r.pos+=i.length-u.length,!0}function r_(r,e){let t=r.pos;if(r.src.charCodeAt(t)!==10)return!1;const o=r.pending.length-1,n=r.posMax;if(!e)if(o>=0&&r.pending.charCodeAt(o)===32)if(o>=1&&r.pending.charCodeAt(o-1)===32){let u=o-1;for(;u>=1&&r.pending.charCodeAt(u-1)===32;)u--;r.pending=r.pending.slice(0,u),r.push("hardbreak","br",0)}else r.pending=r.pending.slice(0,-1),r.push("softbreak","br",0);else r.push("softbreak","br",0);for(t++;t<n&&Y(r.src.charCodeAt(t));)t++;return r.pos=t,!0}const On=[];for(let r=0;r<256;r++)On.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(r){On[r.charCodeAt(0)]=1});function t_(r,e){let t=r.pos;const o=r.posMax;if(r.src.charCodeAt(t)!==92||(t++,t>=o))return!1;let n=r.src.charCodeAt(t);if(n===10){for(e||r.push("hardbreak","br",0),t++;t<o&&(n=r.src.charCodeAt(t),!!Y(n));)t++;return r.pos=t,!0}let u=r.src[t];if(n>=55296&&n<=56319&&t+1<o){const i=r.src.charCodeAt(t+1);i>=56320&&i<=57343&&(u+=r.src[t+1],t++)}const a="\\"+u;if(!e){const i=r.push("text_special","",0);n<256&&On[n]!==0?i.content=u:i.content=a,i.markup=a,i.info="escape"}return r.pos=t+1,!0}function o_(r,e){let t=r.pos;if(r.src.charCodeAt(t)!==96)return!1;const n=t;t++;const u=r.posMax;for(;t<u&&r.src.charCodeAt(t)===96;)t++;const a=r.src.slice(n,t),i=a.length;if(r.backticksScanned&&(r.backticks[i]||0)<=n)return e||(r.pending+=a),r.pos+=i,!0;let s=t,c;for(;(c=r.src.indexOf("`",s))!==-1;){for(s=c+1;s<u&&r.src.charCodeAt(s)===96;)s++;const l=s-c;if(l===i){if(!e){const d=r.push("code_inline","code",0);d.markup=a,d.content=r.src.slice(t,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return r.pos=s,!0}r.backticks[l]=c}return r.backticksScanned=!0,e||(r.pending+=a),r.pos+=i,!0}function n_(r,e){const t=r.pos,o=r.src.charCodeAt(t);if(e||o!==126)return!1;const n=r.scanDelims(r.pos,!0);let u=n.length;const a=String.fromCharCode(o);if(u<2)return!1;let i;u%2&&(i=r.push("text","",0),i.content=a,u--);for(let s=0;s<u;s+=2)i=r.push("text","",0),i.content=a+a,r.delimiters.push({marker:o,length:0,token:r.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return r.pos+=n.length,!0}function Su(r,e){let t;const o=[],n=e.length;for(let u=0;u<n;u++){const a=e[u];if(a.marker!==126||a.end===-1)continue;const i=e[a.end];t=r.tokens[a.token],t.type="s_open",t.tag="s",t.nesting=1,t.markup="~~",t.content="",t=r.tokens[i.token],t.type="s_close",t.tag="s",t.nesting=-1,t.markup="~~",t.content="",r.tokens[i.token-1].type==="text"&&r.tokens[i.token-1].content==="~"&&o.push(i.token-1)}for(;o.length;){const u=o.pop();let a=u+1;for(;a<r.tokens.length&&r.tokens[a].type==="s_close";)a++;a--,u!==a&&(t=r.tokens[a],r.tokens[a]=r.tokens[u],r.tokens[u]=t)}}function u_(r){const e=r.tokens_meta,t=r.tokens_meta.length;Su(r,r.delimiters);for(let o=0;o<t;o++)e[o]&&e[o].delimiters&&Su(r,e[o].delimiters)}const $i={tokenize:n_,postProcess:u_};function a_(r,e){const t=r.pos,o=r.src.charCodeAt(t);if(e||o!==95&&o!==42)return!1;const n=r.scanDelims(r.pos,o===42);for(let u=0;u<n.length;u++){const a=r.push("text","",0);a.content=String.fromCharCode(o),r.delimiters.push({marker:o,length:n.length,token:r.tokens.length-1,end:-1,open:n.can_open,close:n.can_close})}return r.pos+=n.length,!0}function Au(r,e){const t=e.length;for(let o=t-1;o>=0;o--){const n=e[o];if(n.marker!==95&&n.marker!==42||n.end===-1)continue;const u=e[n.end],a=o>0&&e[o-1].end===n.end+1&&e[o-1].marker===n.marker&&e[o-1].token===n.token-1&&e[n.end+1].token===u.token+1,i=String.fromCharCode(n.marker),s=r.tokens[n.token];s.type=a?"strong_open":"em_open",s.tag=a?"strong":"em",s.nesting=1,s.markup=a?i+i:i,s.content="";const c=r.tokens[u.token];c.type=a?"strong_close":"em_close",c.tag=a?"strong":"em",c.nesting=-1,c.markup=a?i+i:i,c.content="",a&&(r.tokens[e[o-1].token].content="",r.tokens[e[n.end+1].token].content="",o--)}}function i_(r){const e=r.tokens_meta,t=r.tokens_meta.length;Au(r,r.delimiters);for(let o=0;o<t;o++)e[o]&&e[o].delimiters&&Au(r,e[o].delimiters)}const Pi={tokenize:a_,postProcess:i_};function s_(r,e){let t,o,n,u,a="",i="",s=r.pos,c=!0;if(r.src.charCodeAt(r.pos)!==91)return!1;const l=r.pos,d=r.posMax,p=r.pos+1,h=r.md.helpers.parseLinkLabel(r,r.pos,!0);if(h<0)return!1;let f=h+1;if(f<d&&r.src.charCodeAt(f)===40){for(c=!1,f++;f<d&&(t=r.src.charCodeAt(f),!(!Y(t)&&t!==10));f++);if(f>=d)return!1;if(s=f,n=r.md.helpers.parseLinkDestination(r.src,f,r.posMax),n.ok){for(a=r.md.normalizeLink(n.str),r.md.validateLink(a)?f=n.pos:a="",s=f;f<d&&(t=r.src.charCodeAt(f),!(!Y(t)&&t!==10));f++);if(n=r.md.helpers.parseLinkTitle(r.src,f,r.posMax),f<d&&s!==f&&n.ok)for(i=n.str,f=n.pos;f<d&&(t=r.src.charCodeAt(f),!(!Y(t)&&t!==10));f++);}(f>=d||r.src.charCodeAt(f)!==41)&&(c=!0),f++}if(c){if(typeof r.env.references>"u")return!1;if(f<d&&r.src.charCodeAt(f)===91?(s=f+1,f=r.md.helpers.parseLinkLabel(r,f),f>=0?o=r.src.slice(s,f++):f=h+1):f=h+1,o||(o=r.src.slice(p,h)),u=r.env.references[po(o)],!u)return r.pos=l,!1;a=u.href,i=u.title}if(!e){r.pos=p,r.posMax=h;const m=r.push("link_open","a",1),_=[["href",a]];m.attrs=_,i&&_.push(["title",i]),r.linkLevel++,r.md.inline.tokenize(r),r.linkLevel--,r.push("link_close","a",-1)}return r.pos=f,r.posMax=d,!0}function c_(r,e){let t,o,n,u,a,i,s,c,l="";const d=r.pos,p=r.posMax;if(r.src.charCodeAt(r.pos)!==33||r.src.charCodeAt(r.pos+1)!==91)return!1;const h=r.pos+2,f=r.md.helpers.parseLinkLabel(r,r.pos+1,!1);if(f<0)return!1;if(u=f+1,u<p&&r.src.charCodeAt(u)===40){for(u++;u<p&&(t=r.src.charCodeAt(u),!(!Y(t)&&t!==10));u++);if(u>=p)return!1;for(c=u,i=r.md.helpers.parseLinkDestination(r.src,u,r.posMax),i.ok&&(l=r.md.normalizeLink(i.str),r.md.validateLink(l)?u=i.pos:l=""),c=u;u<p&&(t=r.src.charCodeAt(u),!(!Y(t)&&t!==10));u++);if(i=r.md.helpers.parseLinkTitle(r.src,u,r.posMax),u<p&&c!==u&&i.ok)for(s=i.str,u=i.pos;u<p&&(t=r.src.charCodeAt(u),!(!Y(t)&&t!==10));u++);else s="";if(u>=p||r.src.charCodeAt(u)!==41)return r.pos=d,!1;u++}else{if(typeof r.env.references>"u")return!1;if(u<p&&r.src.charCodeAt(u)===91?(c=u+1,u=r.md.helpers.parseLinkLabel(r,u),u>=0?n=r.src.slice(c,u++):u=f+1):u=f+1,n||(n=r.src.slice(h,f)),a=r.env.references[po(n)],!a)return r.pos=d,!1;l=a.href,s=a.title}if(!e){o=r.src.slice(h,f);const m=[];r.md.inline.parse(o,r.md,r.env,m);const _=r.push("image","img",0),k=[["src",l],["alt",""]];_.attrs=k,_.children=m,_.content=o,s&&k.push(["title",s])}return r.pos=u,r.posMax=p,!0}const l_=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,d_=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function f_(r,e){let t=r.pos;if(r.src.charCodeAt(t)!==60)return!1;const o=r.pos,n=r.posMax;for(;;){if(++t>=n)return!1;const a=r.src.charCodeAt(t);if(a===60)return!1;if(a===62)break}const u=r.src.slice(o+1,t);if(d_.test(u)){const a=r.md.normalizeLink(u);if(!r.md.validateLink(a))return!1;if(!e){const i=r.push("link_open","a",1);i.attrs=[["href",a]],i.markup="autolink",i.info="auto";const s=r.push("text","",0);s.content=r.md.normalizeLinkText(u);const c=r.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return r.pos+=u.length+2,!0}if(l_.test(u)){const a=r.md.normalizeLink("mailto:"+u);if(!r.md.validateLink(a))return!1;if(!e){const i=r.push("link_open","a",1);i.attrs=[["href",a]],i.markup="autolink",i.info="auto";const s=r.push("text","",0);s.content=r.md.normalizeLinkText(u);const c=r.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return r.pos+=u.length+2,!0}return!1}function h_(r){return/^<a[>\s]/i.test(r)}function p_(r){return/^<\/a\s*>/i.test(r)}function g_(r){const e=r|32;return e>=97&&e<=122}function m_(r,e){if(!r.md.options.html)return!1;const t=r.posMax,o=r.pos;if(r.src.charCodeAt(o)!==60||o+2>=t)return!1;const n=r.src.charCodeAt(o+1);if(n!==33&&n!==63&&n!==47&&!g_(n))return!1;const u=r.src.slice(o).match(q3);if(!u)return!1;if(!e){const a=r.push("html_inline","",0);a.content=u[0],h_(a.content)&&r.linkLevel++,p_(a.content)&&r.linkLevel--}return r.pos+=u[0].length,!0}const b_=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,__=/^&([a-z][a-z0-9]{1,31});/i;function x_(r,e){const t=r.pos,o=r.posMax;if(r.src.charCodeAt(t)!==38||t+1>=o)return!1;if(r.src.charCodeAt(t+1)===35){const u=r.src.slice(t).match(b_);if(u){if(!e){const a=u[1][0].toLowerCase()==="x"?parseInt(u[1].slice(1),16):parseInt(u[1],10),i=r.push("text_special","",0);i.content=Ln(a)?ro(a):ro(65533),i.markup=u[0],i.info="entity"}return r.pos+=u[0].length,!0}}else{const u=r.src.slice(t).match(__);if(u){const a=wi(u[0]);if(a!==u[0]){if(!e){const i=r.push("text_special","",0);i.content=a,i.markup=u[0],i.info="entity"}return r.pos+=u[0].length,!0}}}return!1}function Tu(r){const e={},t=r.length;if(!t)return;let o=0,n=-2;const u=[];for(let a=0;a<t;a++){const i=r[a];if(u.push(0),(r[o].marker!==i.marker||n!==i.token-1)&&(o=a),n=i.token,i.length=i.length||0,!i.close)continue;e.hasOwnProperty(i.marker)||(e[i.marker]=[-1,-1,-1,-1,-1,-1]);const s=e[i.marker][(i.open?3:0)+i.length%3];let c=o-u[o]-1,l=c;for(;c>s;c-=u[c]+1){const d=r[c];if(d.marker===i.marker&&d.open&&d.end<0){let p=!1;if((d.close||i.open)&&(d.length+i.length)%3===0&&(d.length%3!==0||i.length%3!==0)&&(p=!0),!p){const h=c>0&&!r[c-1].open?u[c-1]+1:0;u[a]=a-c+h,u[c]=h,i.open=!1,d.end=a,d.close=!1,l=-1,n=-2;break}}}l!==-1&&(e[i.marker][(i.open?3:0)+(i.length||0)%3]=l)}}function y_(r){const e=r.tokens_meta,t=r.tokens_meta.length;Tu(r.delimiters);for(let o=0;o<t;o++)e[o]&&e[o].delimiters&&Tu(e[o].delimiters)}function k_(r){let e,t,o=0;const n=r.tokens,u=r.tokens.length;for(e=t=0;e<u;e++)n[e].nesting<0&&o--,n[e].level=o,n[e].nesting>0&&o++,n[e].type==="text"&&e+1<u&&n[e+1].type==="text"?n[e+1].content=n[e].content+n[e+1].content:(e!==t&&(n[t]=n[e]),t++);e!==t&&(n.length=t)}const Bo=[["text",K3],["linkify",e_],["newline",r_],["escape",t_],["backticks",o_],["strikethrough",$i.tokenize],["emphasis",Pi.tokenize],["link",s_],["image",c_],["autolink",f_],["html_inline",m_],["entity",x_]],Io=[["balance_pairs",y_],["strikethrough",$i.postProcess],["emphasis",Pi.postProcess],["fragments_join",k_]];function St(){this.ruler=new ie;for(let r=0;r<Bo.length;r++)this.ruler.push(Bo[r][0],Bo[r][1]);this.ruler2=new ie;for(let r=0;r<Io.length;r++)this.ruler2.push(Io[r][0],Io[r][1])}St.prototype.skipToken=function(r){const e=r.pos,t=this.ruler.getRules(""),o=t.length,n=r.md.options.maxNesting,u=r.cache;if(typeof u[e]<"u"){r.pos=u[e];return}let a=!1;if(r.level<n){for(let i=0;i<o;i++)if(r.level++,a=t[i](r,!0),r.level--,a){if(e>=r.pos)throw new Error("inline rule didn't increment state.pos");break}}else r.pos=r.posMax;a||r.pos++,u[e]=r.pos};St.prototype.tokenize=function(r){const e=this.ruler.getRules(""),t=e.length,o=r.posMax,n=r.md.options.maxNesting;for(;r.pos<o;){const u=r.pos;let a=!1;if(r.level<n){for(let i=0;i<t;i++)if(a=e[i](r,!1),a){if(u>=r.pos)throw new Error("inline rule didn't increment state.pos");break}}if(a){if(r.pos>=o)break;continue}r.pending+=r.src[r.pos++]}r.pending&&r.pushPending()};St.prototype.parse=function(r,e,t,o){const n=new this.State(r,e,t,o);this.tokenize(n);const u=this.ruler2.getRules(""),a=u.length;for(let i=0;i<a;i++)u[i](n)};St.prototype.State=Et;function v_(r){const e={};r=r||{},e.src_Any=xi.source,e.src_Cc=yi.source,e.src_Z=vi.source,e.src_P=In.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const t="[><]";return e.src_pseudo_letter="(?:(?!"+t+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+t+"|"+e.src_ZPCc+")(?!"+(r["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+t+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(r["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+t+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function rn(r){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(o){r[o]=t[o]})}),r}function mo(r){return Object.prototype.toString.call(r)}function C_(r){return mo(r)==="[object String]"}function w_(r){return mo(r)==="[object Object]"}function E_(r){return mo(r)==="[object RegExp]"}function Du(r){return mo(r)==="[object Function]"}function S_(r){return r.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Bi={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function A_(r){return Object.keys(r||{}).reduce(function(e,t){return e||Bi.hasOwnProperty(t)},!1)}const T_={"http:":{validate:function(r,e,t){const o=r.slice(e);return t.re.http||(t.re.http=new RegExp("^\\/\\/"+t.re.src_auth+t.re.src_host_port_strict+t.re.src_path,"i")),t.re.http.test(o)?o.match(t.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(r,e,t){const o=r.slice(e);return t.re.no_http||(t.re.no_http=new RegExp("^"+t.re.src_auth+"(?:localhost|(?:(?:"+t.re.src_domain+")\\.)+"+t.re.src_domain_root+")"+t.re.src_port+t.re.src_host_terminator+t.re.src_path,"i")),t.re.no_http.test(o)?e>=3&&r[e-3]===":"||e>=3&&r[e-3]==="/"?0:o.match(t.re.no_http)[0].length:0}},"mailto:":{validate:function(r,e,t){const o=r.slice(e);return t.re.mailto||(t.re.mailto=new RegExp("^"+t.re.src_email_name+"@"+t.re.src_host_strict,"i")),t.re.mailto.test(o)?o.match(t.re.mailto)[0].length:0}}},D_="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",R_="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function $_(r){r.__index__=-1,r.__text_cache__=""}function P_(r){return function(e,t){const o=e.slice(t);return r.test(o)?o.match(r)[0].length:0}}function Ru(){return function(r,e){e.normalize(r)}}function to(r){const e=r.re=v_(r.__opts__),t=r.__tlds__.slice();r.onCompile(),r.__tlds_replaced__||t.push(D_),t.push(e.src_xn),e.src_tlds=t.join("|");function o(i){return i.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(o(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(o(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(o(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(o(e.tpl_host_fuzzy_test),"i");const n=[];r.__compiled__={};function u(i,s){throw new Error('(LinkifyIt) Invalid schema "'+i+'": '+s)}Object.keys(r.__schemas__).forEach(function(i){const s=r.__schemas__[i];if(s===null)return;const c={validate:null,link:null};if(r.__compiled__[i]=c,w_(s)){E_(s.validate)?c.validate=P_(s.validate):Du(s.validate)?c.validate=s.validate:u(i,s),Du(s.normalize)?c.normalize=s.normalize:s.normalize?u(i,s):c.normalize=Ru();return}if(C_(s)){n.push(i);return}u(i,s)}),n.forEach(function(i){r.__compiled__[r.__schemas__[i]]&&(r.__compiled__[i].validate=r.__compiled__[r.__schemas__[i]].validate,r.__compiled__[i].normalize=r.__compiled__[r.__schemas__[i]].normalize)}),r.__compiled__[""]={validate:null,normalize:Ru()};const a=Object.keys(r.__compiled__).filter(function(i){return i.length>0&&r.__compiled__[i]}).map(S_).join("|");r.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","i"),r.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","ig"),r.re.schema_at_start=RegExp("^"+r.re.schema_search.source,"i"),r.re.pretest=RegExp("("+r.re.schema_test.source+")|("+r.re.host_fuzzy_test.source+")|@","i"),$_(r)}function B_(r,e){const t=r.__index__,o=r.__last_index__,n=r.__text_cache__.slice(t,o);this.schema=r.__schema__.toLowerCase(),this.index=t+e,this.lastIndex=o+e,this.raw=n,this.text=n,this.url=n}function tn(r,e){const t=new B_(r,e);return r.__compiled__[t.schema].normalize(t,r),t}function he(r,e){if(!(this instanceof he))return new he(r,e);e||A_(r)&&(e=r,r={}),this.__opts__=rn({},Bi,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=rn({},T_,r),this.__compiled__={},this.__tlds__=R_,this.__tlds_replaced__=!1,this.re={},to(this)}he.prototype.add=function(e,t){return this.__schemas__[e]=t,to(this),this};he.prototype.set=function(e){return this.__opts__=rn(this.__opts__,e),this};he.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,o,n,u,a,i,s,c,l;if(this.re.schema_test.test(e)){for(s=this.re.schema_search,s.lastIndex=0;(t=s.exec(e))!==null;)if(u=this.testSchemaAt(e,t[2],s.lastIndex),u){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+u;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(o=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(a=o.index+o[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=o.index+o[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=e.indexOf("@"),l>=0&&(n=e.match(this.re.email_fuzzy))!==null&&(a=n.index+n[1].length,i=n.index+n[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=i))),this.__index__>=0};he.prototype.pretest=function(e){return this.re.pretest.test(e)};he.prototype.testSchemaAt=function(e,t,o){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,o,this):0};he.prototype.match=function(e){const t=[];let o=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(tn(this,o)),o=this.__last_index__);let n=o?e.slice(o):e;for(;this.test(n);)t.push(tn(this,o)),n=n.slice(this.__last_index__),o+=this.__last_index__;return t.length?t:null};he.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const o=this.testSchemaAt(e,t[2],t[0].length);return o?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o,tn(this,0)):null};he.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(o,n,u){return o!==u[n-1]}).reverse(),to(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,to(this),this)};he.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};he.prototype.onCompile=function(){};const Cr=2147483647,Ie=36,Nn=1,ct=26,I_=38,F_=700,Ii=72,Fi=128,Li="-",L_=/^xn--/,M_=/[^\0-\x7F]/,O_=/[\x2E\u3002\uFF0E\uFF61]/g,N_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Fo=Ie-Nn,Fe=Math.floor,Lo=String.fromCharCode;function je(r){throw new RangeError(N_[r])}function U_(r,e){const t=[];let o=r.length;for(;o--;)t[o]=e(r[o]);return t}function Mi(r,e){const t=r.split("@");let o="";t.length>1&&(o=t[0]+"@",r=t[1]),r=r.replace(O_,".");const n=r.split("."),u=U_(n,e).join(".");return o+u}function Oi(r){const e=[];let t=0;const o=r.length;for(;t<o;){const n=r.charCodeAt(t++);if(n>=55296&&n<=56319&&t<o){const u=r.charCodeAt(t++);(u&64512)==56320?e.push(((n&1023)<<10)+(u&1023)+65536):(e.push(n),t--)}else e.push(n)}return e}const z_=r=>String.fromCodePoint(...r),Y_=function(r){return r>=48&&r<58?26+(r-48):r>=65&&r<91?r-65:r>=97&&r<123?r-97:Ie},$u=function(r,e){return r+22+75*(r<26)-((e!=0)<<5)},Ni=function(r,e,t){let o=0;for(r=t?Fe(r/F_):r>>1,r+=Fe(r/e);r>Fo*ct>>1;o+=Ie)r=Fe(r/Fo);return Fe(o+(Fo+1)*r/(r+I_))},Ui=function(r){const e=[],t=r.length;let o=0,n=Fi,u=Ii,a=r.lastIndexOf(Li);a<0&&(a=0);for(let i=0;i<a;++i)r.charCodeAt(i)>=128&&je("not-basic"),e.push(r.charCodeAt(i));for(let i=a>0?a+1:0;i<t;){const s=o;for(let l=1,d=Ie;;d+=Ie){i>=t&&je("invalid-input");const p=Y_(r.charCodeAt(i++));p>=Ie&&je("invalid-input"),p>Fe((Cr-o)/l)&&je("overflow"),o+=p*l;const h=d<=u?Nn:d>=u+ct?ct:d-u;if(p<h)break;const f=Ie-h;l>Fe(Cr/f)&&je("overflow"),l*=f}const c=e.length+1;u=Ni(o-s,c,s==0),Fe(o/c)>Cr-n&&je("overflow"),n+=Fe(o/c),o%=c,e.splice(o++,0,n)}return String.fromCodePoint(...e)},zi=function(r){const e=[];r=Oi(r);const t=r.length;let o=Fi,n=0,u=Ii;for(const s of r)s<128&&e.push(Lo(s));const a=e.length;let i=a;for(a&&e.push(Li);i<t;){let s=Cr;for(const l of r)l>=o&&l<s&&(s=l);const c=i+1;s-o>Fe((Cr-n)/c)&&je("overflow"),n+=(s-o)*c,o=s;for(const l of r)if(l<o&&++n>Cr&&je("overflow"),l===o){let d=n;for(let p=Ie;;p+=Ie){const h=p<=u?Nn:p>=u+ct?ct:p-u;if(d<h)break;const f=d-h,m=Ie-h;e.push(Lo($u(h+f%m,0))),d=Fe(f/m)}e.push(Lo($u(d,0))),u=Ni(n,c,i===a),n=0,++i}++n,++o}return e.join("")},H_=function(r){return Mi(r,function(e){return L_.test(e)?Ui(e.slice(4).toLowerCase()):e})},j_=function(r){return Mi(r,function(e){return M_.test(e)?"xn--"+zi(e):e})},Yi={version:"2.3.1",ucs2:{decode:Oi,encode:z_},decode:Ui,encode:zi,toASCII:j_,toUnicode:H_},q_={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},W_={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},V_={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},J_={default:q_,zero:W_,commonmark:V_},G_=/^(vbscript|javascript|file|data):/,X_=/^data:image\/(gif|png|jpeg|webp);/;function Z_(r){const e=r.trim().toLowerCase();return G_.test(e)?X_.test(e):!0}const Hi=["http:","https:","mailto:"];function K_(r){const e=Bn(r,!0);if(e.hostname&&(!e.protocol||Hi.indexOf(e.protocol)>=0))try{e.hostname=Yi.toASCII(e.hostname)}catch{}return wt(Pn(e))}function Q_(r){const e=Bn(r,!0);if(e.hostname&&(!e.protocol||Hi.indexOf(e.protocol)>=0))try{e.hostname=Yi.toUnicode(e.hostname)}catch{}return Or(Pn(e),Or.defaultChars+"%")}function pe(r,e){if(!(this instanceof pe))return new pe(r,e);e||Fn(r)||(e=r||{},r="default"),this.inline=new St,this.block=new go,this.core=new Mn,this.renderer=new jr,this.linkify=new he,this.validateLink=Z_,this.normalizeLink=K_,this.normalizeLinkText=Q_,this.utils=r3,this.helpers=ho({},u3),this.options={},this.configure(r),e&&this.set(e)}pe.prototype.set=function(r){return ho(this.options,r),this};pe.prototype.configure=function(r){const e=this;if(Fn(r)){const t=r;if(r=J_[t],!r)throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!r)throw new Error("Wrong `markdown-it` preset, can't be empty");return r.options&&e.set(r.options),r.components&&Object.keys(r.components).forEach(function(t){r.components[t].rules&&e[t].ruler.enableOnly(r.components[t].rules),r.components[t].rules2&&e[t].ruler2.enableOnly(r.components[t].rules2)}),this};pe.prototype.enable=function(r,e){let t=[];Array.isArray(r)||(r=[r]),["core","block","inline"].forEach(function(n){t=t.concat(this[n].ruler.enable(r,!0))},this),t=t.concat(this.inline.ruler2.enable(r,!0));const o=r.filter(function(n){return t.indexOf(n)<0});if(o.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+o);return this};pe.prototype.disable=function(r,e){let t=[];Array.isArray(r)||(r=[r]),["core","block","inline"].forEach(function(n){t=t.concat(this[n].ruler.disable(r,!0))},this),t=t.concat(this.inline.ruler2.disable(r,!0));const o=r.filter(function(n){return t.indexOf(n)<0});if(o.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+o);return this};pe.prototype.use=function(r){const e=[this].concat(Array.prototype.slice.call(arguments,1));return r.apply(r,e),this};pe.prototype.parse=function(r,e){if(typeof r!="string")throw new Error("Input data should be a String");const t=new this.core.State(r,this,e);return this.core.process(t),t.tokens};pe.prototype.render=function(r,e){return e=e||{},this.renderer.render(this.parse(r,e),this.options,e)};pe.prototype.parseInline=function(r,e){const t=new this.core.State(r,this,e);return t.inlineMode=!0,this.core.process(t),t.tokens};pe.prototype.renderInline=function(r,e){return e=e||{},this.renderer.render(this.parseInline(r,e),this.options,e)};const e5=pe({html:!0,breaks:!0,linkify:!0}),r5=`
 **NexTavern** 

 NEXWORLD  AI 

- ****
- **AI**
- ****
- **DnD ** D20 ... 
- ****

<div style="display: flex; justify-content: center; width: 100%; margin: 1.5rem 0;">
<a href="https://nexworld.wiki/tavern/" style="display: inline-block; margin: 12px auto; padding: 10px 24px; background: #6366f1; color: white; border-radius: 6px; text-decoration: none; font-weight: 500; transition: opacity 0.2s;"> NexTavern</a>
</div>

##### 

- **[ NexTavern](https://nexworld.wiki/tavern)**:  AI 
- **[NEXWORLD ](https://nexworld.wiki)**:  NEXWORLD 
- **[](https://nexworld.wiki/blog/why-nextavern-is-different)**:  NexTavern 

---

* AI *
`.trim(),ji=Z({name:"AppTavernView",setup(){return()=>E(fr,{header:"NexTavern",class:"my-3"},{default:()=>[E("div",{class:["stack-v"]},[E("div",{class:"markdown-body mx-auto",innerHTML:e5.render(r5.trim())})])]})}}),t5=Z({name:"AppGameView",setup(){Ur();const r=un(A.cloneDeep(_i)),e=Hb();e.setupInheritedTalentWatcher(r);const t=jb(r,e.lifeWrapper),o=l=>{r.page=l,l===""&&e.start(r,t.selectedTalents.value)},n=async()=>{await e.step(r,t.supplierForm,t.storyBoxRef,()=>e.stopAuto(r),()=>e.makeLifeSummary(r))},u=()=>{e.toggleAuto(r,()=>e.startAuto(r,n),()=>e.stopAuto(r))},a=()=>{e.clearData(r)},i=(l,d)=>e.computeOKVal(l,d,r,t.propertyPoints.value,t.restPropertyPoints.value),s=()=>Ub(r.page),c=()=>{const l=s(),d={demoData:r,lifeWrapper:e.lifeWrapper,selectedTalents:t.selectedTalents.value,propertyPoints:t.propertyPoints.value,restPropertyPoints:t.restPropertyPoints.value,onPageChange:o,onStep:n,onToggleAuto:u,onClearData:a,onComputeOKVal:i};switch(l){case"":return E(Gb,{lifeWrapper:e.lifeWrapper,onPageChange:o});case"":return E(Qb,{onPageChange:o});case"":return E(r2,{demoData:r,lifeWrapper:e.lifeWrapper,onPageChange:o});case"":return E(o2,{demoData:r,lifeWrapper:e.lifeWrapper,selectedTalents:t.selectedTalents.value,onPageChange:o});case"":return E(u2,d);case"":return E(d2,{demoData:r,onPageChange:o,onStep:n,onToggleAuto:u,ref:p=>{p!=null&&p.storyBoxRef&&(t.storyBoxRef.value=p.storyBoxRef)}});case"":return E(p2,{demoData:r,lifeWrapper:e.lifeWrapper,selectedTalents:t.selectedTalents.value,onPageChange:o,onClearData:a});default:return E("div",{class:"stack-h"},[])}};return()=>E("div",{},[E(fr,{header:s()??"",class:"my-1.5rem! min-h-60vh! col"},{default:()=>E("div",{class:"stack-v"},[c()])}),E(ji),null])}}),o5=Z({name:"NoteEditor",props:["note","idx"],emits:["modifyNoteContent","deleteNote"],setup(r,{emit:e}){var c,l;const t=nn("tooltip"),o=ye(),n=d=>{o.value.toggle(d)},u=ye(!1),a=ye((c=r==null?void 0:r.note)==null?void 0:c.title),i=ye((l=r==null?void 0:r.note)==null?void 0:l.content),s=ye([{label:"",icon:"pi pi-pencil",command:()=>{u.value=!0}},{label:"",icon:"pi pi-trash",command:()=>{var d;e("deleteNote",{id:(d=r==null?void 0:r.note)==null?void 0:d.id})}}]);return()=>{var d,p,h;return E(fr,{key:`note[${r==null?void 0:r.idx}][${(d=r==null?void 0:r.note)==null?void 0:d.id}]`,header:`[${(p=r==null?void 0:r.note)==null?void 0:p.id}] ${((h=r==null?void 0:r.note)==null?void 0:h.title)??""}`},{default:()=>{var f;return E("div",{},[u.value?null:E("pre",{},(f=r==null?void 0:r.note)==null?void 0:f.content),u.value?E("div",{class:"my-3 flex flex-col flex-wrap gap-2 flex-content-around"},[E(Zu,{fluid:!0,modelValue:a.value,"onUpdate:modelValue":m=>{a.value=m}}),E(xs,{fluid:!0,rows:4,modelValue:i.value,"onUpdate:modelValue":m=>{i.value=m}})]):null,u.value?E("div",{class:"mt-3 flex flex-row flex-wrap gap-2 flex-content-around"},[E(Ee,{class:"ml-auto",label:"",severity:"secondary",size:"small",onClick:()=>{var m;e("modifyNoteContent",{shadow:{id:(m=r==null?void 0:r.note)==null?void 0:m.id},content:i.value,title:a.value,callback:_=>{_===0&&(u.value=!1)}})}}),E(Ee,{label:"",severity:"secondary",size:"small",onClick:()=>{u.value=!1}})]):null])},icons:()=>{var f;return[rt(E(Ee,{icon:"pi pi-pencil",severity:"secondary",rounded:!0,text:!0,onClick:()=>{u.value=!0}}),[[t,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]]),rt(E(Ee,{icon:"pi pi-trash",severity:"secondary",rounded:!0,text:!0,onClick:()=>{var m;e("deleteNote",{id:(m=r==null?void 0:r.note)==null?void 0:m.id})}}),[[t,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]]),rt(E(Ee,{icon:"pi pi-cog",severity:"secondary",rounded:!0,text:!0,onClick:n}),[[t,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]]),E(_s,{ref:o,id:`menu-of-note[${r==null?void 0:r.idx}][${(f=r==null?void 0:r.note)==null?void 0:f.id}]`,model:s.value,popup:!0})]}})}}}),n5=on("notesStore",{state:()=>({notes:[]}),getters:{count:r=>r.notes.length,maxId:r=>{var e;return((e=A.maxBy(r.notes,"id"))==null?void 0:e.id)??0}},actions:{addNote(r){r.id=this.maxId+1,r.timestamp=Date.now(),this.notes.unshift(r)},addNoteByContent(r,e){const t={content:r,title:e,id:this.maxId+1,timestamp:Date.now()};this.notes.unshift(t)},removeNote(r){A.remove(this.notes,r)},modifyNoteContent(r,e,t,o){console.log({shadow:r,title:t,content:e});const n=this.notes.find(u=>A.isMatch(u,r));if(n){const u=this.notes.indexOf(n),a={...A.cloneDeep(n),content:e,title:t};this.notes.splice(u,1,a),o==null||o(0)}else o==null||o(-1)}},persist:{serializer:{deserialize:Qe.parse,serialize:Qe.stringify}}}),u5=Z({name:"AppNotesView",setup(){const r=Ur(),e=nn("tooltip"),t=n5(),{addNote:o,removeNote:n,modifyNoteContent:u}=t,{notes:a,count:i}=Nu(t);return()=>E(fr,{header:` ${i.value} `,toggleable:!0,class:"my-3"},{default:()=>[E("div",{class:["flex flex-row flex-items-center flex-wrap gap-2 flex-content-around flex-justify-around"]},[rt(E(Ee,{label:"",onClick:()=>{o({content:""})}}),[[e,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]])]),E(ys,{value:a.value,dataKey:"id",paginator:!0,rows:20},{empty:()=>E("div",{class:"my-3"},[""]),list:s=>s.items.map((c,l)=>E(o5,{class:"my-3",note:c,idx:l,key:`note[${l}][${c.id}]`,onDeleteNote:d=>{n(d)},onModifyNoteContent:({shadow:d,content:p,title:h,callback:f})=>{console.log({shadow:d,content:p,title:h,callback:f}),u(d,p,h,m=>{m===0||r.add({severity:"error",summary:"",detail:`${m}
${JSON.stringify(d)}`,life:3e3}),f==null||f(m)})}}))})]})}}),a5=pe({breaks:!0,linkify:!0}),i5=`
###   AI 

 ** AI ** (Life Restart Simulator AI Edition) [NEXWORLD](https://nexworld.wiki) [](https://github.com/VickScarlet/lifeRestart)

 (LLM) 

####  

- ** AI **AI 
- ** ** AI 
- ** **IndexedDB
- ** ** DeepSeekOpenAI  AI 
- ** ** Vue 3PrimeVue 4  UnoCSS 

####   (Roadmap)

- [x]  AI 
- [x]  API 
- [x]  (IndexedDB)
- [ ] 

####  

- **[NexWorld ](https://nexworld.wiki)**:  AI 
- **[GitHub ](https://github.com/nex-world/lifeRestart-AI)**: 

---

* AI *
`,s5=Z({name:"AppAboutView",setup(){return()=>E(fr,{header:"",class:"my-3"},{default:()=>[E("div",{class:["stack-v"]},[E("div",{class:"markdown-body",innerHTML:a5.render(i5.trim())})])]})}}),Pu=[{name:"DeepSeek",type:"ChatSupplier",desc:"DeepSeek",docUrl:"https://platform.deepseek.com/docs",baseUrl:"https://api.deepseek.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://help.aliyun.com/zh/model-studio/user-guide/multi-round-conversation?spm=a2c4g.11186623.help-menu-2400256.d_1_0_0_4.1b54b0a8Obvgrf",baseUrl:"https://dashscope.aliyuncs.com/compatible-mode/v1",defaultModel:"deepseek-v3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://doc.zhizengzeng.com/",baseUrl:"https://api.zhizengzeng.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://docs.siliconflow.cn/",baseUrl:"https://api.siliconflow.cn/v1",defaultModel:"deepseek-ai/DeepSeek-V3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"ZhiPu",type:"ChatSupplier",desc:"",docUrl:"https://open.bigmodel.cn/dev/api",baseUrl:"https://open.bigmodel.cn/api/paas/v4",defaultModel:"glm-4",chatUrl:"/chat/completions",modelsUrl:"/models",models:[{id:"glm-4"},{id:"glm-4-air"},{id:"glm-4-flash"},{id:"glm-3-turbo"}]},{name:"Moonshot",type:"ChatSupplier",desc:"Moonshot",docUrl:"https://platform.moonshot.cn/docs/api-reference",baseUrl:"https://api.moonshot.cn/v1",defaultModel:"moonshot-v1-8k",chatUrl:"/chat/completions",modelsUrl:"/models",balanceUrl:"/users/me/balance",countTokenUrl:"/tokenizers/estimate-token-count"},{name:"OpenAI",type:"ChatSupplier",desc:"OpenAI",docUrl:"https://platform.openai.com/docs/api-reference/chat",baseUrl:"https://api.openai.com/v1",defaultModel:"gpt-3.5-turbo",chatUrl:"/chat/completions",modelsUrl:"/models",notes:`
    https://cookbook.openai.com/examples/how_to_count_tokens_with_tiktoken
    `.trim()},{name:"",type:"ChatSupplier",desc:"",docUrl:"",baseUrl:"https://api.132999.xyz/v1",defaultModel:"gpt-3.5-turbo",chatUrl:"/chat/completions",modelsUrl:"/models"}],Bu={label:"[[<DEFAULT>]]"},c5=Z({setup(){const r=un({selectedSupplier:Pu[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),e=Xe(()=>{var u,a,i;const n={name:(u=r.selectedSupplier)==null?void 0:u.defaultModel};return((i=r.selectedModelDict[(a=r.selectedSupplier)==null?void 0:a.name])==null?void 0:i.name)==Bu.label?n:r.selectedModelDict[r.selectedSupplier.name]??n}),t=Xe(()=>{var n;return r.supplierModelsDict[(n=r.selectedSupplier)==null?void 0:n.name]??[]}),o=Xe(()=>[{name:Bu.label},...t.value.map(n=>({name:(n==null?void 0:n.label)??(n==null?void 0:n.name)??(n==null?void 0:n.id)}))]);return Vt(async()=>{const n=await $n("supplierForm");n!=null&&Object.assign(r,n)}),()=>[E(fr,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var n;return E("div",{class:"stack-v"},[E(Yn,{name:"supplier",options:Pu,optionLabel:"name",placeholder:"",fluid:!0,modelValue:r.selectedSupplier,"onUpdate:modelValue":u=>{r.selectedSupplier=u}}),E(Zu,{type:"password",name:"apiKey",placeholder:"API Key",fluid:!0,modelValue:r.apiKeyDict[(n=r.selectedSupplier)==null?void 0:n.name],"onUpdate:modelValue":u=>{r.apiKeyDict[r.selectedSupplier.name]=u,Qt("supplierForm",r)}}),E("div",{class:"stack-h w-full"},[E(Yn,{name:"model",options:o.value,optionLabel:"name",placeholder:"",class:"grow-1",modelValue:e.value,"onUpdate:modelValue":u=>{r.selectedModelDict[r.selectedSupplier.name]=u,Qt("supplierForm",r)}}),E(j,{icon:"pi pi-trash",label:"",command:()=>{Sb(r.selectedSupplier,r)}})]),E(j,{size:"small",icon:"pi pi-trash",label:"debug",command:()=>{console.log({supplierForm:r,selectedModel:e.value})}})])}})]}}),l5=[{path:"/:pathMatch(.*)*",name:"404",component:K1},{path:"/",redirect:"/game"},{path:"/",name:"app-root",component:em,children:[{path:"config",name:"app-config",component:c5},{path:"game",name:"app-game",component:t5},{path:"tavern",name:"app-tavern",component:ji},{path:"about",name:"app-about",component:s5},{path:"notes",name:"app-notes",component:u5}]}],d5=os({history:ns(),routes:l5}),f5=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,h5=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,p5=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function g5(r,e){if(r==="__proto__"||r==="constructor"&&e&&typeof e=="object"&&"prototype"in e){m5(r);return}return e}function m5(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function b5(r,e={}){if(typeof r!="string")return r;const t=r.trim();if(r[0]==='"'&&r.endsWith('"')&&!r.includes("\\"))return t.slice(1,-1);if(t.length<=9){const o=t.toLowerCase();if(o==="true")return!0;if(o==="false")return!1;if(o==="undefined")return;if(o==="null")return null;if(o==="nan")return Number.NaN;if(o==="infinity")return Number.POSITIVE_INFINITY;if(o==="-infinity")return Number.NEGATIVE_INFINITY}if(!p5.test(r)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(f5.test(r)||h5.test(r)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,g5)}return JSON.parse(r)}catch(o){if(e.strict)throw o;return r}}function _5(r,e){if(r==null)return;let t=r;for(let o=0;o<e.length;o++){if(t==null||t[e[o]]==null)return;t=t[e[o]]}return t}function Un(r,e,t){if(t.length===0)return e;const o=t[0];return t.length>1&&(e=Un(typeof r!="object"||r===null||!Object.prototype.hasOwnProperty.call(r,o)?Number.isInteger(Number(t[1]))?[]:{}:r[o],e,Array.prototype.slice.call(t,1))),Number.isInteger(Number(o))&&Array.isArray(r)?r.slice()[o]:Object.assign({},r,{[o]:e})}function qi(r,e){if(r==null||e.length===0)return r;if(e.length===1){if(r==null)return r;if(Number.isInteger(e[0])&&Array.isArray(r))return Array.prototype.slice.call(r,0).splice(e[0],1);const t={};for(const o in r)t[o]=r[o];return delete t[e[0]],t}if(r[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(r))return Array.prototype.concat.call([],r);const t={};for(const o in r)t[o]=r[o];return t}return Un(r,qi(r[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function Wi(r,e){return e.map(t=>t.split(".")).map(t=>[t,_5(r,t)]).filter(t=>t[1]!==void 0).reduce((t,o)=>Un(t,o[1],o[0]),{})}function Vi(r,e){return e.map(t=>t.split(".")).reduce((t,o)=>qi(t,o),r)}function Iu(r,{storage:e,serializer:t,key:o,debug:n,pick:u,omit:a,beforeHydrate:i,afterHydrate:s},c,l=!0){try{l&&(i==null||i(c));const d=e.getItem(o);if(d){const p=t.deserialize(d),h=u?Wi(p,u):p,f=a?Vi(h,a):h;r.$patch(f)}l&&(s==null||s(c))}catch(d){n&&console.error("[pinia-plugin-persistedstate]",d)}}function Fu(r,{storage:e,serializer:t,key:o,debug:n,pick:u,omit:a}){try{const i=u?Wi(r,u):r,s=a?Vi(i,a):i,c=t.serialize(s);e.setItem(o,c)}catch(i){n&&console.error("[pinia-plugin-persistedstate]",i)}}function x5(r,e,t){const{pinia:o,store:n,options:{persist:u=t}}=r;if(!u)return;if(!(n.$id in o.state.value)){const s=o._s.get(n.$id.replace("__hot:",""));s&&Promise.resolve().then(()=>s.$persist());return}const i=(Array.isArray(u)?u:u===!0?[{}]:[u]).map(e);n.$hydrate=({runHooks:s=!0}={})=>{i.forEach(c=>{Iu(n,c,r,s)})},n.$persist=()=>{i.forEach(s=>{Fu(n.$state,s)})},i.forEach(s=>{Iu(n,s,r),n.$subscribe((c,l)=>Fu(l,s),{detached:!0})})}function y5(r={}){return function(e){x5(e,t=>({key:(r.key?r.key:o=>o)(t.key??e.store.$id),debug:t.debug??r.debug??!1,serializer:t.serializer??r.serializer??{serialize:o=>JSON.stringify(o),deserialize:o=>b5(o)},storage:t.storage??r.storage??window.localStorage,beforeHydrate:t.beforeHydrate,afterHydrate:t.afterHydrate,pick:t.pick,omit:t.omit}),r.auto??!1)}}var k5=y5();const Ji=us();Ji.use(k5);const v5=as({legacy:!1,locale:"zh",fallbackLocale:"en",messages:{en:{message:{hello:"hello world"}},zh:{message:{hello:""}}}}),Ye=is(Rs);Ye.use(ks,{ripple:!0,theme:{preset:Z1,options:{prefix:"p",darkModeSelector:`.${Mo}`,cssLayer:!1}}});Ye.use(d5);Ye.use(Ji);Ye.use(vs);Ye.use(Cs);Ye.use(ws);Ye.use(v5);Ye.directive("tooltip",Es);Ye.mount("#app");
