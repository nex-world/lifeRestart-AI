var Zi=Object.defineProperty;var Hn=r=>{throw TypeError(r)};var Ki=(r,e,t)=>e in r?Zi(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Re=(r,e,t)=>Ki(r,typeof e!="symbol"?e+"":e,t),_o=(r,e,t)=>e.has(r)||Hn("Cannot "+t);var _=(r,e,t)=>(_o(r,e,"read from private field"),t?t.call(r):e.get(r)),B=(r,e,t)=>e.has(r)?Hn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),D=(r,e,t,o)=>(_o(r,e,"write to private field"),o?o.call(r,t):e.set(r,t),t),qr=(r,e,t)=>(_o(r,e,"access private method"),t);import{L as nn,b as ke,C as Ze,M as Z,N as Qi,O as w,R as Nu,P as Uu,Q as es,S as zu,w as Yu,U as rs,V as ts,l as rt,i as un,G as os,e as Gt,W as ns,D as an,X as us,f as V,h as z,s as te,Y as L,o as N,z as xe,F as Ke,x as Qe,c as Ge,t as ie,a as Rt,q as Ut,y as zt,Z as as,_ as is,$ as ss,a0 as cs,a1 as ls}from"./vue-DnG2Dh_j.js";import{l as Hu,D as sn,a as ju}from"./tools2-lgeZpPOr.js";import{l as er,z as qu,Y as Wu,F as Vu,p as Ju,n as Gu,m as Xu,a as Xt,c as Zu}from"./tools1-DFG1XKPM.js";import{j as Ku}from"./jschardet-B-gmbDrM.js";import{a as A,l as Ne}from"./lodash-DR2CJvQY.js";import{s as ds,a as fs,b as hs,d as ps,c as rr,e as Se,f as gs,g as ms,h as bs,i as _s,u as hr,j as ys,k as yo,l as xs,m as ks,n as Qu,o as vs,p as Cs,q as jn,P as ws,T as Es,D as Ss,C as As,r as Ts}from"./primevue-DG2Bb9vc.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const u of n)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const u={};return n.integrity&&(u.integrity=n.integrity),n.referrerPolicy&&(u.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?u.credentials="include":n.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(n){if(n.ep)return;n.ep=!0;const u=t(n);fetch(n.href,u)}})();const Oo="my-app-dark",ea=nn("darkMode",()=>{const r=ke(Oo),e=ke(!1),t=Ze(()=>`.${r.value}`),o=Ze(()=>document.documentElement.classList.contains(Oo)),n=()=>{document.documentElement.classList.add(r.value),e.value=!0},u=()=>{document.documentElement.classList.remove(r.value),e.value=!1};return{className:r,isOn:e,darkModeClass:t,isDarkMode:o,turnOn:n,turnOff:u,toggle:()=>{document.documentElement.classList.toggle(r.value),e.value=!e.value},turn:()=>{e.value?n():u()}}},{persist:{serializer:{deserialize:er.parse,serialize:er.stringify},pick:["isOn"]}}),Ds={locale:"en",fallbackLocale:"en",availableLocales:["en","zh"]},Rs={state:()=>A.cloneDeep(Ds),getters:{},actions:{setLocale(r,e){var t;r=(r??"").toLowerCase(),(t=this.availableLocales)!=null&&t.includes(r)||(r=this.locale),e!=null&&(e.value=r),this.locale=r}},persist:{serializer:{deserialize:er.parse,serialize:er.stringify}}},$s=nn("systemSettingsStore",Rs),Ps=Z({setup(){const r=ea(),{turn:e}=r,t=$s(),{setLocale:o}=t;return Qi(()=>{e(),o()}),()=>[w(Nu),w(ds),w(fs),w(hs)]}});window.toolPack={_:A,axios:ju,clipboard:Zu,Dexie:sn,jschardet:Ku,json5:Xt,JSON5:Xt,localforage:Hu,lodash:A,Lodash:A,md5:Xu,nanoid:Gu,pako:Ju,saveAs:Vu.saveAs,yaml:Wu,zipson:qu};window._=A;window.axios=ju;window.clipboard=Zu;window.Dexie=sn;window.jschardet=Ku;window.json5=Xt;window.JSON5=Xt;window.localforage=Hu;window.lodash=A;window.Lodash=A;window.md5=Xu;window.nanoid=Gu;window.pako=Ju;window.saveAs=Vu.saveAs;window.yaml=Wu;window.zipson=qu;const Bs=Z({setup(){return()=>w(Ps)}});var Is=(...r)=>ps(...r),Fs={transitionDuration:"{transition.duration}"},Ls={borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},Ms={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},Os={borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"},Ns={root:Fs,panel:Ls,header:Ms,content:Os},Us={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},zs={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},Ys={padding:"{list.padding}",gap:"{list.gap}"},Hs={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},js={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},qs={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Ws={borderRadius:"{border.radius.sm}"},Vs={padding:"{list.option.padding}"},Js={light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}},Gs={root:Us,overlay:zs,list:Ys,option:Hs,optionGroup:js,dropdown:qs,chip:Ws,emptyMessage:Vs,colorScheme:Js},Xs={width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},Zs={size:"1rem"},Ks={borderColor:"{content.background}",offset:"-0.75rem"},Qs={width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},ec={width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}},rc={root:Xs,icon:Zs,group:Ks,lg:Qs,xl:ec},tc={borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},oc={size:"0.5rem"},nc={fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},uc={fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},ac={fontSize:"1rem",minWidth:"2rem",height:"2rem"},ic={light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},sc={root:tc,dot:oc,sm:nc,lg:uc,xl:ac,colorScheme:ic},cc={borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},lc={transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}},dc={primitive:cc,semantic:lc},fc={borderRadius:"{content.border.radius}"},hc={root:fc},pc={padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},gc={color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},mc={color:"{navigation.item.icon.color}"},bc={root:pc,item:gc,separator:mc},_c={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}",iconOnlyWidth:"2rem"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}",iconOnlyWidth:"3rem"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},yc={light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}},xc={root:_c,colorScheme:yc},kc={background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},vc={padding:"1.25rem",gap:"0.5rem"},Cc={gap:"0.5rem"},wc={fontSize:"1.25rem",fontWeight:"500"},Ec={color:"{text.muted.color}"},Sc={root:kc,body:vc,caption:Cc,title:wc,subtitle:Ec},Ac={transitionDuration:"{transition.duration}"},Tc={gap:"0.25rem"},Dc={padding:"1rem",gap:"0.5rem"},Rc={width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},$c={light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}},Pc={root:Ac,content:Tc,indicatorList:Dc,indicator:Rc,colorScheme:$c},Bc={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},Ic={width:"2.5rem",color:"{form.field.icon.color}"},Fc={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},Lc={padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},Mc={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},Oc={color:"{form.field.icon.color}"},Nc={root:Bc,dropdown:Ic,overlay:Fc,list:Lc,option:Mc,clearIcon:Oc},Uc={borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},zc={size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}},Yc={root:Uc,icon:zc},Hc={borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},jc={width:"2rem",height:"2rem"},qc={size:"1rem"},Wc={size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},Vc={light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}},Jc={root:Hc,image:jc,icon:qc,removeIcon:Wc,colorScheme:Vc},Gc={transitionDuration:"{transition.duration}"},Xc={width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Zc={shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},Kc={light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}},Qc={root:Gc,preview:Xc,panel:Zc,colorScheme:Kc},el={size:"2rem",color:"{overlay.modal.color}"},rl={gap:"1rem"},tl={icon:el,content:rl},ol={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},nl={padding:"{overlay.popover.padding}",gap:"1rem"},ul={size:"1.5rem",color:"{overlay.popover.color}"},al={gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"},il={root:ol,content:nl,icon:ul,footer:al},sl={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},cl={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},ll={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},dl={mobileIndent:"1rem"},fl={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},hl={borderColor:"{content.border.color}"},pl={root:sl,list:cl,item:ll,submenu:dl,submenuIcon:fl,separator:hl},gl={transitionDuration:"{transition.duration}"},ml={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},bl={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},_l={fontWeight:"600"},yl={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},xl={borderColor:"{datatable.border.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},kl={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},vl={fontWeight:"600"},Cl={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},wl={color:"{primary.color}"},El={width:"0.5rem"},Sl={width:"1px",color:"{primary.color}"},Al={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},Tl={size:"2rem"},Dl={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Rl={inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},$l={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},Pl={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},Bl={light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},Il={root:gl,header:ml,headerCell:bl,columnTitle:_l,row:yl,bodyCell:xl,footerCell:kl,columnFooter:vl,footer:Cl,dropPoint:wl,columnResizer:El,resizeIndicator:Sl,sortIcon:Al,loadingIcon:Tl,rowToggleButton:Dl,filter:Rl,paginatorTop:$l,paginatorBottom:Pl,colorScheme:Bl},Fl={borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},Ll={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},Ml={background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},Ol={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},Nl={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},Ul={borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"},zl={root:Fl,header:Ll,content:Ml,footer:Ol,paginatorTop:Nl,paginatorBottom:Ul},Yl={transitionDuration:"{transition.duration}"},Hl={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},jl={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},ql={gap:"0.5rem",fontWeight:"500"},Wl={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Vl={color:"{form.field.icon.color}"},Jl={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},Gl={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},Xl={borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},Zl={margin:"0.5rem 0 0 0"},Kl={padding:"0.25rem",fontWeight:"500",color:"{content.color}"},Ql={hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},e0={margin:"0.5rem 0 0 0"},r0={padding:"0.375rem",borderRadius:"{content.border.radius}"},t0={margin:"0.5rem 0 0 0"},o0={padding:"0.375rem",borderRadius:"{content.border.radius}"},n0={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},u0={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},a0={light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}},i0={root:Yl,panel:Hl,header:jl,title:ql,dropdown:Wl,inputIcon:Vl,selectMonth:Jl,selectYear:Gl,group:Xl,dayView:Zl,weekDay:Kl,date:Ql,monthView:e0,month:r0,yearView:t0,year:o0,buttonbar:n0,timePicker:u0,colorScheme:a0},s0={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},c0={padding:"{overlay.modal.padding}",gap:"0.5rem"},l0={fontSize:"1.25rem",fontWeight:"600"},d0={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},f0={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"},h0={root:s0,header:c0,title:l0,content:d0,footer:f0},p0={borderColor:"{content.border.color}"},g0={background:"{content.background}",color:"{text.color}"},m0={margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},b0={margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}},_0={root:p0,content:g0,horizontal:m0,vertical:b0},y0={background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},x0={borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},k0={root:y0,item:x0},v0={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},C0={padding:"{overlay.modal.padding}"},w0={fontSize:"1.5rem",fontWeight:"600"},E0={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},S0={padding:"{overlay.modal.padding}"},A0={root:v0,header:C0,title:w0,content:E0,footer:S0},T0={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},D0={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},R0={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},$0={focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},P0={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},B0={toolbar:T0,toolbarItem:D0,overlay:R0,overlayOption:$0,content:P0},I0={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},F0={background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},L0={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},M0={padding:"0"},O0={root:I0,legend:F0,toggleIcon:L0,content:M0},N0={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},U0={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},z0={highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},Y0={padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},H0={gap:"0.5rem"},j0={height:"0.25rem"},q0={gap:"0.5rem"},W0={root:N0,header:U0,content:z0,file:Y0,fileList:H0,progressbar:j0,basic:q0},V0={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},J0={active:{top:"-1.25rem"}},G0={input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},X0={borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}},Z0={root:V0,over:J0,in:G0,on:X0},K0={borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},Q0={background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ed={size:"1.5rem"},rd={background:"{content.background}",padding:"1rem 0.25rem"},td={size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},od={size:"1rem"},nd={background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},ud={gap:"0.5rem",padding:"1rem"},ad={width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},id={background:"rgba(0, 0, 0, 0.5)"},sd={background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},cd={size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ld={size:"1.5rem"},dd={light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}},fd={root:K0,navButton:Q0,navIcon:ed,thumbnailsContent:rd,thumbnailNavButton:td,thumbnailNavButtonIcon:od,caption:nd,indicatorList:ud,indicatorButton:ad,insetIndicatorList:id,insetIndicatorButton:sd,closeButton:cd,closeButtonIcon:ld,colorScheme:dd},hd={color:"{form.field.icon.color}"},pd={icon:hd},gd={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},md={paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},bd={root:gd,input:md},_d={transitionDuration:"{transition.duration}"},yd={icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},xd={position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},kd={hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},vd={root:_d,preview:yd,toolbar:xd,action:kd},Cd={size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},wd={handle:Cd},Ed={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},Sd={fontWeight:"500"},Ad={size:"1rem"},Td={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}},Dd={root:Ed,text:Sd,icon:Ad,colorScheme:Td},Rd={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},$d={hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"},Pd={root:Rd,display:$d},Bd={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},Id={borderRadius:"{border.radius.sm}"},Fd={light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}},Ld={root:Bd,chip:Id,colorScheme:Fd},Md={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"},Od={addon:Md},Nd={transitionDuration:"{transition.duration}"},Ud={width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},zd={light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}},Yd={root:Nd,button:Ud,colorScheme:zd},Hd={gap:"0.5rem"},jd={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}},qd={root:Hd,input:jd},Wd={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},Vd={root:Wd},Jd={transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Gd={background:"{primary.color}"},Xd={background:"{content.border.color}"},Zd={color:"{text.muted.color}"},Kd={root:Jd,value:Gd,range:Xd,text:Zd},Qd={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},ef={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},rf={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},tf={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},of={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},nf={padding:"{list.option.padding}"},uf={light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}},af={root:Qd,list:ef,option:rf,optionGroup:tf,checkmark:of,emptyMessage:nf,colorScheme:uf},sf={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},cf={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},lf={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},df={padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},ff={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},hf={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},pf={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},gf={borderColor:"{content.border.color}"},mf={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},bf={root:sf,baseItem:cf,item:lf,overlay:df,submenu:ff,submenuLabel:hf,submenuIcon:pf,separator:gf,mobileButton:mf},_f={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},yf={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},xf={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},kf={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},vf={borderColor:"{content.border.color}"},Cf={root:_f,list:yf,item:xf,submenuLabel:kf,separator:vf},wf={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},Ef={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},Sf={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},Af={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},Tf={borderColor:"{content.border.color}"},Df={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Rf={root:wf,baseItem:Ef,item:Sf,submenu:Af,separator:Tf,mobileButton:Df},$f={borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},Pf={padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},Bf={fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},If={size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},Ff={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},Lf={size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},Mf={root:{borderWidth:"1px"}},Of={content:{padding:"0"}},Nf={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}},Uf={root:$f,content:Pf,text:Bf,icon:If,closeButton:Ff,closeIcon:Lf,outlined:Mf,simple:Of,colorScheme:Nf},zf={borderRadius:"{content.border.radius}",gap:"1rem"},Yf={background:"{content.border.color}",size:"0.5rem"},Hf={gap:"0.5rem"},jf={size:"0.5rem"},qf={size:"1rem"},Wf={verticalGap:"0.5rem",horizontalGap:"1rem"},Vf={root:zf,meters:Yf,label:Hf,labelMarker:jf,labelIcon:qf,labelList:Wf},Jf={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},Gf={width:"2.5rem",color:"{form.field.icon.color}"},Xf={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},Zf={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},Kf={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},Qf={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},eh={color:"{form.field.icon.color}"},rh={borderRadius:"{border.radius.sm}"},th={padding:"{list.option.padding}"},oh={root:Jf,dropdown:Gf,overlay:Xf,list:Zf,option:Kf,optionGroup:Qf,chip:rh,clearIcon:eh,emptyMessage:th},nh={gap:"1.125rem"},uh={gap:"0.5rem"},ah={root:nh,controls:uh},ih={gutter:"0.75rem",transitionDuration:"{transition.duration}"},sh={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},ch={background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},lh={color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"},dh={root:ih,node:sh,nodeToggleButton:ch,connector:lh},fh={outline:{width:"2px",color:"{content.background}"}},hh={root:fh},ph={padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},gh={background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},mh={color:"{text.muted.color}"},bh={maxWidth:"2.5rem"},_h={root:ph,navButton:gh,currentPageReport:mh,jumpToPageInput:bh},yh={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},xh={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},kh={padding:"0.375rem 1.125rem"},vh={fontWeight:"600"},Ch={padding:"0 1.125rem 1.125rem 1.125rem"},wh={padding:"0 1.125rem 1.125rem 1.125rem"},Eh={root:yh,header:xh,toggleableHeader:kh,title:vh,content:Ch,footer:wh},Sh={gap:"0.5rem",transitionDuration:"{transition.duration}"},Ah={background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},Th={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},Dh={indent:"1rem"},Rh={color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"},$h={root:Sh,panel:Ah,item:Th,submenu:Dh,submenuIcon:Rh},Ph={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},Bh={color:"{form.field.icon.color}"},Ih={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},Fh={gap:"0.5rem"},Lh={light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}},Mh={meter:Ph,icon:Bh,overlay:Ih,content:Fh,colorScheme:Lh},Oh={gap:"1.125rem"},Nh={gap:"0.5rem"},Uh={root:Oh,controls:Nh},zh={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},Yh={padding:"{overlay.popover.padding}"},Hh={root:zh,content:Yh},jh={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},qh={background:"{primary.color}"},Wh={color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"},Vh={root:jh,value:qh,label:Wh},Jh={light:{root:{colorOne:"{red.500}",colorTwo:"{blue.500}",colorThree:"{green.500}",colorFour:"{yellow.500}"}},dark:{root:{colorOne:"{red.400}",colorTwo:"{blue.400}",colorThree:"{green.400}",colorFour:"{yellow.400}"}}},Gh={colorScheme:Jh},Xh={width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},Zh={size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}},Kh={root:Xh,icon:Zh},Qh={gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ep={size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"},rp={root:Qh,icon:ep},tp={light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}},op={colorScheme:tp},np={transitionDuration:"{transition.duration}"},up={size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},ap={light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}},ip={root:np,bar:up,colorScheme:ap},sp={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},cp={width:"2.5rem",color:"{form.field.icon.color}"},lp={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},dp={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},fp={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},hp={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},pp={color:"{form.field.icon.color}"},gp={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},mp={padding:"{list.option.padding}"},bp={root:sp,dropdown:cp,overlay:lp,list:dp,option:fp,optionGroup:hp,clearIcon:pp,checkmark:gp,emptyMessage:mp},_p={borderRadius:"{form.field.border.radius}"},yp={light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}},xp={root:_p,colorScheme:yp},kp={borderRadius:"{content.border.radius}"},vp={light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}},Cp={root:kp,colorScheme:vp},wp={transitionDuration:"{transition.duration}"},Ep={background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},Sp={background:"{primary.color}"},Ap={width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Tp={light:{handle:{content:{background:"{surface.0}"}}},dark:{handle:{content:{background:"{surface.950}"}}}},Dp={root:wp,track:Ep,range:Sp,handle:Ap,colorScheme:Tp},Rp={gap:"0.5rem",transitionDuration:"{transition.duration}"},$p={root:Rp},Pp={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"},Bp={root:Pp},Ip={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},Fp={background:"{content.border.color}"},Lp={size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Mp={root:Ip,gutter:Fp,handle:Lp},Op={transitionDuration:"{transition.duration}"},Np={background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},Up={padding:"0.5rem",gap:"1rem"},zp={padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},Yp={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},Hp={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},jp={padding:"0.875rem 0.5rem 1.125rem 0.5rem"},qp={background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"},Wp={root:Op,separator:Np,step:Up,stepHeader:zp,stepTitle:Yp,stepNumber:Hp,steppanels:jp,steppanel:qp},Vp={transitionDuration:"{transition.duration}"},Jp={background:"{content.border.color}"},Gp={borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},Xp={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},Zp={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},Kp={root:Vp,separator:Jp,itemLink:Gp,itemLabel:Xp,itemNumber:Zp},Qp={transitionDuration:"{transition.duration}"},eg={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},rg={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},tg={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},og={height:"1px",bottom:"-1px",background:"{primary.color}"},ng={root:Qp,tablist:eg,item:rg,itemIcon:tg,activeBar:og},ug={transitionDuration:"{transition.duration}"},ag={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},ig={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},sg={background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},cg={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},lg={height:"1px",bottom:"-1px",background:"{primary.color}"},dg={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},fg={root:ug,tablist:ag,tab:ig,tabpanel:sg,navButton:cg,activeBar:lg,colorScheme:dg},hg={transitionDuration:"{transition.duration}"},pg={background:"{content.background}",borderColor:"{content.border.color}"},gg={borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},mg={background:"{content.background}",color:"{content.color}"},bg={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},_g={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},yg={root:hg,tabList:pg,tab:gg,tabPanel:mg,navButton:bg,colorScheme:_g},xg={fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},kg={size:"0.75rem"},vg={light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},Cg={root:xg,icon:kg,colorScheme:vg},wg={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},Eg={gap:"0.25rem"},Sg={margin:"2px 0"},Ag={root:wg,prompt:Eg,commandResponse:Sg},Tg={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},Dg={root:Tg},Rg={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},$g={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},Pg={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},Bg={mobileIndent:"1rem"},Ig={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},Fg={borderColor:"{content.border.color}"},Lg={root:Rg,list:$g,item:Pg,submenu:Bg,submenuIcon:Ig,separator:Fg},Mg={minHeight:"5rem"},Og={eventContent:{padding:"1rem 0"}},Ng={eventContent:{padding:"0 1rem"}},Ug={size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},zg={color:"{content.border.color}",size:"2px"},Yg={event:Mg,horizontal:Og,vertical:Ng,eventMarker:Ug,eventConnector:zg},Hg={width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},jg={size:"1.125rem"},qg={padding:"{overlay.popover.padding}",gap:"0.5rem"},Wg={gap:"0.5rem"},Vg={fontWeight:"500",fontSize:"1rem"},Jg={fontWeight:"500",fontSize:"0.875rem"},Gg={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},Xg={size:"1rem"},Zg={light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}},Kg={root:Hg,icon:jg,content:qg,text:Wg,summary:Vg,detail:Jg,closeButton:Gg,closeIcon:Xg,colorScheme:Zg},Qg={padding:"0.25rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.25rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.25rem"}},e1={disabledColor:"{form.field.disabled.color}"},r1={padding:"0.25rem 0.75rem",borderRadius:"{content.border.radius}",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)",sm:{padding:"0.25rem 0.75rem"},lg:{padding:"0.25rem 0.75rem"}},t1={light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}},o1={root:Qg,icon:e1,content:r1,colorScheme:t1},n1={width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},u1={borderRadius:"50%",size:"1rem"},a1={light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}},i1={root:n1,handle:u1,colorScheme:a1},s1={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"},c1={root:s1},l1={maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},d1={light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}},f1={root:l1,colorScheme:d1},h1={background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},p1={padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},g1={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},m1={borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},b1={size:"2rem"},_1={margin:"0 0 0.5rem 0"},y1={root:h1,node:p1,nodeIcon:g1,nodeToggleButton:m1,loadingIcon:b1,filter:_1},x1={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},k1={width:"2.5rem",color:"{form.field.icon.color}"},v1={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},C1={padding:"{list.padding}"},w1={padding:"{list.option.padding}"},E1={borderRadius:"{border.radius.sm}"},S1={color:"{form.field.icon.color}"},A1={root:x1,dropdown:k1,overlay:v1,tree:C1,emptyMessage:w1,chip:E1,clearIcon:S1},T1={transitionDuration:"{transition.duration}"},D1={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},R1={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},$1={fontWeight:"600"},P1={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},B1={borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},I1={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},F1={fontWeight:"600"},L1={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},M1={width:"0.5rem"},O1={width:"1px",color:"{primary.color}"},N1={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},U1={size:"2rem"},z1={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},Y1={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},H1={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},j1={light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},q1={root:T1,header:D1,headerCell:R1,columnTitle:$1,row:P1,bodyCell:B1,footerCell:I1,columnFooter:F1,footer:L1,columnResizer:M1,resizeIndicator:O1,sortIcon:N1,loadingIcon:U1,nodeToggleButton:z1,paginatorTop:Y1,paginatorBottom:H1,colorScheme:j1},W1={mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}},V1={loader:W1},J1=Object.defineProperty,G1=Object.defineProperties,X1=Object.getOwnPropertyDescriptors,qn=Object.getOwnPropertySymbols,Z1=Object.prototype.hasOwnProperty,K1=Object.prototype.propertyIsEnumerable,Wn=(r,e,t)=>e in r?J1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Vn,Q1=(Vn=((r,e)=>{for(var t in e||(e={}))Z1.call(e,t)&&Wn(r,t,e[t]);if(qn)for(var t of qn(e))K1.call(e,t)&&Wn(r,t,e[t]);return r})({},dc),G1(Vn,X1({components:{accordion:Ns,autocomplete:Gs,avatar:rc,badge:sc,blockui:hc,breadcrumb:bc,button:xc,card:Sc,carousel:Pc,cascadeselect:Nc,checkbox:Yc,chip:Jc,colorpicker:Qc,confirmdialog:tl,confirmpopup:il,contextmenu:pl,datatable:Il,dataview:zl,datepicker:i0,dialog:h0,divider:_0,dock:k0,drawer:A0,editor:B0,fieldset:O0,fileupload:W0,floatlabel:Z0,galleria:fd,iconfield:pd,iftalabel:bd,image:vd,imagecompare:wd,inlinemessage:Dd,inplace:Pd,inputchips:Ld,inputgroup:Od,inputnumber:Yd,inputotp:qd,inputtext:Vd,knob:Kd,listbox:af,megamenu:bf,menu:Cf,menubar:Rf,message:Uf,metergroup:Vf,multiselect:oh,orderlist:ah,organizationchart:dh,overlaybadge:hh,paginator:_h,panel:Eh,panelmenu:$h,password:Mh,picklist:Uh,popover:Hh,progressbar:Vh,progressspinner:Gh,radiobutton:Kh,rating:rp,ripple:op,scrollpanel:ip,select:bp,selectbutton:xp,skeleton:Cp,slider:Dp,speeddial:$p,splitbutton:Bp,splitter:Mp,stepper:Wp,steps:Kp,tabmenu:ng,tabs:fg,tabview:yg,tag:Cg,terminal:Ag,textarea:Dg,tieredmenu:Lg,timeline:Yg,toast:Kg,togglebutton:o1,toggleswitch:i1,toolbar:c1,tooltip:f1,tree:y1,treeselect:A1,treetable:q1,virtualscroller:V1}})));const em=Is(Q1,{semantic:{primary:{50:"{indigo.50}",100:"{indigo.100}",200:"{indigo.200}",300:"{indigo.300}",400:"{indigo.400}",500:"{indigo.500}",600:"{indigo.600}",700:"{indigo.700}",800:"{indigo.800}",900:"{indigo.900}",950:"{indigo.950}"}}}),rm=Z({name:"NotFoundView",setup(){const r=Uu();return()=>w("div",{class:"container"},[w("div",{class:["my-4rem"]}),w(rr,{header:"404",toggleable:!0,class:"my-3"},{default:()=>[w("div",{class:["flex flex-row flex-items-center flex-wrap gap-2 flex-content-around flex-justify-around"]},[w(Se,{label:"go app",onClick:()=>{r.push({name:"app"})}}),w(Se,{label:"go home",onClick:()=>{r.push({name:"home"})}}),w(Se,{label:"go root",onClick:()=>{r.push({name:"root"})}})])]})])}}),tm="AI",om=Z({name:"AppView",setup(){const{locale:r}=es({useScope:"global"});console.log({i18nLocale:r.value});const e=ea(),{toggle:t}=e,{isOn:o}=zu(e),n=ke([{label:"",name:"app-config",icon:"pi pi-cog"},{label:"",name:"app-game",icon:"pi pi-play-circle"},{label:"",name:"app-tavern",icon:"pi pi-star"},{label:"",name:"app-about",icon:"pi pi-book"}]),u=ke(n.value[0].label),a=Uu(),i=ts();return Yu(()=>i.name,()=>{u.value=`${String(i.name??"")}`},{immediate:!0}),()=>{var s;return w("div",{class:["--bg-var-p-zinc-800 overflow-auto","md:px-0.5rem md:py-0.75rem h-100dvh w-100dvw","stack-v"]},[w(gs,{class:["md:max-w-768px md:mx-auto w-100%","border-none! bg-transparent!"],breakpoint:"0px",model:[((s=window==null?void 0:window.location)==null?void 0:s.hostname)!="localhost"?null:{label:"Dev Ref",icon:"pi pi-external-link",items:[{label:"Dexie",items:[{label:"Dexie",url:"https://dexie.org",target:"_blank"},{label:"Design",url:"https://dexie.org/docs/Tutorial/Design",target:"_blank"},{label:"Version.stores()",url:"https://dexie.org/docs/Version/Version.stores()",target:"_blank"},{label:"IDB",url:"https://juejin.cn/post/7025592963002531871",target:"_blank"},{label:"supported-operations",url:"https://github.com/dexie/Dexie.js#supported-operations",target:"_blank"},{label:"Tutorial/Vue",url:"https://dexie.org/docs/Tutorial/Vue",target:"_blank"},{label:"liveQuery()",url:"https://dexie.org/docs/liveQuery()",target:"_blank"},{label:"version()",url:"https://dexie.org/docs/Dexie/Dexie.version()",target:"_blank"}]},{label:"D3",items:[{label:"d3-dispatch",url:"https://d3js.org/d3-dispatch",target:"_blank"}]},{label:"vue-icons",url:"https://vue-icons.kalimah-apps.com/getting-started.html",target:"_blank"},{label:"Prime Icons",url:"https://primevue.org/icons/",target:"_blank"},{label:"UnoCSS",url:"https://unocss.dev/interactive/",target:"_blank"},{label:"Vue I18n",url:"https://vue-i18n.intlify.dev/guide/advanced/composition.html",target:"_blank"},{label:"VueUse",url:"https://vueuse.org/",target:"_blank"},{label:"Vue Router",url:"https://router.vuejs.org/zh/guide/",target:"_blank"},{label:"Pinia",url:"https://pinia.vuejs.org/zh/core-concepts/",target:"_blank"},{label:"Pinia Persisted",url:"https://prazdevs.github.io/pinia-plugin-persistedstate/guide/config.html",target:"_blank"},{label:"zipson",url:"https://jgranstrom.github.io/zipson/",target:"_blank"},{label:"vue render func",url:"https://cn.vuejs.org/guide/extras/render-function.html",target:"_blank"},{label:"vuejs.org",url:"https://vuejs.org/",target:"_blank"},{label:"vuejs.dev",url:"https://vuejs.dev/",target:"_blank"},{label:"Dexie.js",url:"https://dexie.org/docs/Tutorial/Vue",target:"_blank"},{label:"test",url:"#daf/ewf/2efw3?asd:df=w23?df"}]},{label:"",icon:"pi pi-globe",url:"https://liferestart.syaro.io/public/index.html",target:"_blank"},{label:"",icon:"pi pi-star",url:"https://nexworld.wiki",target:"_blank"},{label:"GitHub",icon:"pi pi-github",url:"https://github.com/nex-world/lifeRestart-AI",target:"_blank"},{label:"theme",icon:`pi pi-${o.value?"moon":"sun"}`,command:()=>{t()}}].filter(c=>c!=null),pt:{rootList:{class:"ml-auto!"}}},{start:()=>w("span",{class:"font-bold mx-0.5rem"},tm)}),w("div",{class:["--md:rounded-0.5rem --md:border-2 md:max-w-768px md:mx-auto","w-100% --p-0.75rem bg-var-p-panel-background border-var-p-panel-border-color","bg-transparent! [background:transparent]!"],style:{"--p-panel-background":"transparent","--p-tabs-tablist-background":"transparent"}},[w(ms,{class:"bg-transparent!",value:u.value,scrollable:!0},{default:()=>w(bs,{class:"bg-transparent!",pt:{tabList:{class:"bg-transparent! [background:transparent]!"}}},{default:()=>n.value.map(c=>w(_s,{class:"bg-transparent!",key:c.label,value:c.name,onClick:()=>{a.hasRoute(c==null?void 0:c.name)&&a.push({name:c.name})}},{default:()=>w("span",{class:"inline-flex flex-row flex-items-center gap-2"},[w("i",{class:c.icon}),w("span",{},c.label)])}))})})]),w("div",{class:["md:rounded-0.5rem md:border-3 md:max-w-768px md:mx-auto","w-100% p-0.75rem bg-var-p-panel-background border-var-p-panel-border-color overflow-auto","grow-1"]},[w(Nu,null,{default:({Component:c})=>w(rs,null,{default:()=>w(c)})})])])}}}),j=Z({name:"ToolButton",props:["label","tip","command","class","tooltipProps","direction","focus"],setup(r){const e=un("tooltip");return()=>{const{label:t,tip:o,command:n,class:u,tooltipProps:a,direction:i,focus:s,...c}=r;return o!=null&&o.length?rt(w(Se,{label:t,severity:"secondary",onClick:n,outlined:!0,...c,class:["p-var-p-button-padding-y!",u]}),[[e,{value:o??t,showDelay:300,hideDelay:300,...a},i??"bottom",{[i??"bottom"]:!0,focus:s}]]):w(Se,{label:t,severity:"secondary",onClick:n,outlined:!0,...c,class:["p-var-p-button-padding-y!",u]})}}});function ra(r){return A.cloneDeep(r)}function nm(...r){return Math.max(...A.flatten(r))}function um(...r){return Math.min(...A.flatten(r))}function am(...r){return A.sum(A.flatten(r))}function im(...r){const e=A.flatten(r);return A.sum(e)/e.length}function ta(r){const e=A.sumBy(r,([,o])=>o);let t=Math.random()*e;for(const[o,n]of r)if(t-=n,t<0)return o;return r[r.length-1][0]}function sm(r){return A.sample(r)}function No(r,e){const t={};return r.forEach((o,n)=>{t[n.toString()]=e(o)}),t}function cm(r,e){A.forEach(r,(t,o)=>{r[o]=e(o,t)})}function lm(r,e){return A.mapValues(r,(t,o)=>e(o,t))}function dm(r,e){A.assign(r,e)}function oa(r,e){return A.forEach(e,(t,o)=>{A.isFunction(t)?r[o]=t():A.isObject(t)&&!A.isArray(t)?(r[o]=r[o]||{},oa(r[o],t)):r[o]=t}),r}function fm(r,e){return A.get(r,e)}function hm(r,...e){const t=o=>(n,u)=>{var i;const a=A.get(o,u);return A.isObject(a)?JSON.stringify(a):A.isString(a)||A.isNumber(a)||A.isBoolean(a)?a:((i=a==null?void 0:a.toString)==null?void 0:i.call(a))||n};return e.length===0?r:e.length===1&&A.isObject(e[0])&&!A.isArray(e[0])?r.replace(/{(.+?)}/g,t(e[0])):r.replace(/{(\d+)}/g,t(e))}const pm=Object.freeze(Object.defineProperty({__proto__:null,average:im,clone:ra,deepGet:fm,deepMapSet:oa,format:hm,getConvertedMap:lm,getListValuesMap:No,listRandom:sm,mapConvert:cm,mapSet:dm,max:nm,min:um,sum:am,weightRandom:ta},Symbol.toStringTag,{value:"Module"}));function gm(r){const e=[],t=r.length,o=[];o.unshift(e);let n=0;const u=a=>{const i=r.substring(n,a).trim();n=a,i&&o[0].push(i)};for(let a=0;a<t;a++)switch(r[a]){case" ":continue;case"(":{u(a),n++;const i=[];o[0].push(i),o.unshift(i);break}case")":u(a),n++,o.shift();break;case"|":case"&":u(a),u(a+1);break;default:continue}return u(t),e}function na(r,e){const t=gm(e);return Vr(r,t)}function Vr(r,e){if(!Array.isArray(e))return mm(r,e);if(e.length===0)return!0;if(e.length===1)return Vr(r,e[0]);let t=Vr(r,e[0]);for(let o=1;o<e.length;o+=2)switch(e[o]){case"&":t&&(t=Vr(r,e[o+1]));break;case"|":if(t)return!0;t=Vr(r,e[o+1]);break;default:return!1}return t}function mm(r,e){const t=e.length;let o=e.search(/[><!?=]/);const n=e.substring(0,o),u=e.substring(o,o+=e[o+1]==="="?2:1),a=e.substring(o,t),i=r.get(n),s=a[0]==="["?JSON.parse(a):Number(a);switch(u){case">":return i>s;case"<":return i<s;case">=":return i>=s;case"<=":return i<=s;case"=":return Array.isArray(i)?i.includes(s):i==s;case"!=":return Array.isArray(i)?!i.includes(s):i!=s;case"?":if(Array.isArray(i)){for(const c of i)if(s.includes(c))return!0;return!1}return s.includes(i);case"!":if(Array.isArray(i)){for(const c of i)if(s.includes(c))return!1;return!0}return!s.includes(i);default:return!1}}function bm(r){const t=/AGE\?\[([0-9,]+)\]/.exec(r);return t==null?1:t[1].split(",").length}const _m=Object.freeze(Object.defineProperty({__proto__:null,checkCondition:na,extractMaxTriggers:bm},Symbol.toStringTag,{value:"Module"}));var Er,Sr,U,ft,ht;class ym{constructor(e){B(this,Er);B(this,Sr,{});B(this,U,{});B(this,ft,{});B(this,ht,{});Re(this,"TYPES",{AGE:"AGE",CHR:"CHR",INT:"INT",STR:"STR",MNY:"MNY",SPR:"SPR",LIF:"LIF",TLT:"TLT",EVT:"EVT",TMS:"TMS",LAGE:"LAGE",HAGE:"HAGE",LCHR:"LCHR",HCHR:"HCHR",LINT:"LINT",HINT:"HINT",LSTR:"LSTR",HSTR:"HSTR",LMNY:"LMNY",HMNY:"HMNY",LSPR:"LSPR",HSPR:"HSPR",SUM:"SUM",EXT:"EXT",ATLT:"ATLT",AEVT:"AEVT",ACHV:"ACHV",CTLT:"CTLT",CEVT:"CEVT",CACHV:"CACHV",TTLT:"TTLT",TEVT:"TEVT",TACHV:"TACHV",REVT:"REVT",RTLT:"RTLT",RACHV:"RACHV",RDM:"RDM"});Re(this,"SPECIAL",{RDM:[]});D(this,Er,e),this.SPECIAL.RDM=[this.TYPES.CHR,this.TYPES.INT,this.TYPES.STR,this.TYPES.MNY,this.TYPES.SPR]}get util(){return _(this,Er).function(_(this,Er).Function.UTIL)}initial({age:e,total:t}){D(this,Sr,{});for(const o in e){const{event:n,talent:u}=e[o];let a=[];Array.isArray(n)?a=n.map(s=>{if(Array.isArray(s))return s;const c=`${s}`.split("*").map(d=>Number(d));return c.length===1&&c.push(1),c}):a=(n||"").split(",").filter(Boolean).map(c=>{const d=`${c}`.split("*").map(l=>Number(l));return d.length===1&&d.push(1),d});let i=[];Array.isArray(u)?i=u.map(s=>Number(s)):i=(u||"").split(",").filter(Boolean).map(c=>Number(c)),_(this,Sr)[o]={event:a,talent:i}}D(this,ft,t)}config({judge:e={}}){D(this,ht,e)}restart(e){D(this,U,{[this.TYPES.AGE]:-1,[this.TYPES.CHR]:0,[this.TYPES.INT]:0,[this.TYPES.STR]:0,[this.TYPES.MNY]:0,[this.TYPES.SPR]:0,[this.TYPES.LIF]:1,[this.TYPES.TLT]:[],[this.TYPES.EVT]:[],[this.TYPES.LAGE]:1/0,[this.TYPES.LCHR]:1/0,[this.TYPES.LINT]:1/0,[this.TYPES.LSTR]:1/0,[this.TYPES.LSPR]:1/0,[this.TYPES.LMNY]:1/0,[this.TYPES.HAGE]:-1/0,[this.TYPES.HCHR]:-1/0,[this.TYPES.HINT]:-1/0,[this.TYPES.HSTR]:-1/0,[this.TYPES.HMNY]:-1/0,[this.TYPES.HSPR]:-1/0});for(const t in e)this.change(t,e[t])}restartLastStep(){_(this,U)[this.TYPES.LAGE]=this.get(this.TYPES.AGE),_(this,U)[this.TYPES.LCHR]=this.get(this.TYPES.CHR),_(this,U)[this.TYPES.LINT]=this.get(this.TYPES.INT),_(this,U)[this.TYPES.LSTR]=this.get(this.TYPES.STR),_(this,U)[this.TYPES.LSPR]=this.get(this.TYPES.SPR),_(this,U)[this.TYPES.LMNY]=this.get(this.TYPES.MNY),_(this,U)[this.TYPES.HAGE]=this.get(this.TYPES.AGE),_(this,U)[this.TYPES.HCHR]=this.get(this.TYPES.CHR),_(this,U)[this.TYPES.HINT]=this.get(this.TYPES.INT),_(this,U)[this.TYPES.HSTR]=this.get(this.TYPES.STR),_(this,U)[this.TYPES.HMNY]=this.get(this.TYPES.MNY),_(this,U)[this.TYPES.HSPR]=this.get(this.TYPES.SPR)}get(e){switch(e){case this.TYPES.AGE:case this.TYPES.CHR:case this.TYPES.INT:case this.TYPES.STR:case this.TYPES.MNY:case this.TYPES.SPR:case this.TYPES.LIF:case this.TYPES.TLT:case this.TYPES.EVT:return Ne.cloneDeep(_(this,U)[e]);case this.TYPES.LAGE:case this.TYPES.LCHR:case this.TYPES.LINT:case this.TYPES.LSTR:case this.TYPES.LMNY:case this.TYPES.LSPR:return Ne.min([_(this,U)[e],this.get(this.fallback(e))]);case this.TYPES.HAGE:case this.TYPES.HCHR:case this.TYPES.HINT:case this.TYPES.HSTR:case this.TYPES.HMNY:case this.TYPES.HSPR:return Ne.max([_(this,U)[e],this.get(this.fallback(e))]);case this.TYPES.SUM:{const t=this.get(this.TYPES.HAGE),o=this.get(this.TYPES.HCHR),n=this.get(this.TYPES.HINT),u=this.get(this.TYPES.HSTR),a=this.get(this.TYPES.HMNY),i=this.get(this.TYPES.HSPR);return Math.floor(Ne.sum([o,n,u,a,i])*2+t/2)}case this.TYPES.TMS:return this.lsGet("times")||0;case this.TYPES.EXT:return this.lsGet("extendTalent")||null;case this.TYPES.ATLT:case this.TYPES.AEVT:case this.TYPES.ACHV:return this.lsGet(e)||[];case this.TYPES.CTLT:case this.TYPES.CEVT:case this.TYPES.CACHV:return this.get(this.fallback(e)).length;case this.TYPES.TTLT:case this.TYPES.TEVT:case this.TYPES.TACHV:return _(this,ft)[e];case this.TYPES.RTLT:case this.TYPES.REVT:case this.TYPES.RACHV:{const t=this.fallback(e);return this.get(t[0])/this.get(t[1])}default:return 0}}fallback(e){switch(e){case this.TYPES.LAGE:case this.TYPES.HAGE:return this.TYPES.AGE;case this.TYPES.LCHR:case this.TYPES.HCHR:return this.TYPES.CHR;case this.TYPES.LINT:case this.TYPES.HINT:return this.TYPES.INT;case this.TYPES.LSTR:case this.TYPES.HSTR:return this.TYPES.STR;case this.TYPES.LMNY:case this.TYPES.HMNY:return this.TYPES.MNY;case this.TYPES.LSPR:case this.TYPES.HSPR:return this.TYPES.SPR;case this.TYPES.CTLT:return this.TYPES.ATLT;case this.TYPES.CEVT:return this.TYPES.AEVT;case this.TYPES.CACHV:return this.TYPES.ACHV;case this.TYPES.LIF:return this.TYPES.LIF;case this.TYPES.RTLT:return[this.TYPES.CTLT,this.TYPES.TTLT];case this.TYPES.REVT:return[this.TYPES.CEVT,this.TYPES.TEVT];case this.TYPES.RACHV:return[this.TYPES.CACHV,this.TYPES.TACHV];default:return}}set(e,t){switch(e){case this.TYPES.AGE:case this.TYPES.CHR:case this.TYPES.INT:case this.TYPES.STR:case this.TYPES.MNY:case this.TYPES.SPR:case this.TYPES.LIF:case this.TYPES.TLT:case this.TYPES.EVT:this.hl(e,_(this,U)[e]=Ne.cloneDeep(t)),this.achieve(e,t);return;case this.TYPES.TMS:this.lsSet("times",parseInt(t)||0);return;case this.TYPES.EXT:this.lsSet("extendTalent",t);return;default:return}}getProperties(){return Ne.cloneDeep({[this.TYPES.AGE]:this.get(this.TYPES.AGE),[this.TYPES.CHR]:this.get(this.TYPES.CHR),[this.TYPES.INT]:this.get(this.TYPES.INT),[this.TYPES.STR]:this.get(this.TYPES.STR),[this.TYPES.MNY]:this.get(this.TYPES.MNY),[this.TYPES.SPR]:this.get(this.TYPES.SPR)})}change(e,t){if(console.log("change",e,t),Array.isArray(t)){for(const o of t)this.change(e,Number(o));return}switch(e){case this.TYPES.AGE:case this.TYPES.CHR:case this.TYPES.INT:case this.TYPES.STR:case this.TYPES.MNY:case this.TYPES.SPR:case this.TYPES.LIF:{this.hl(e,_(this,U)[e]+=Number(t));return}case this.TYPES.TLT:case this.TYPES.EVT:{const o=_(this,U)[e];if(Number(t)<0){const n=o.indexOf(t);n!==-1&&o.splice(n,1)}o.includes(t)||o.push(t),this.achieve(e,t);return}case this.TYPES.TMS:{this.set(e,this.get(e)+parseInt(String(t)));return}default:return}}hookSpecial(e){switch(e){case this.TYPES.RDM:return this.util.listRandom(this.SPECIAL.RDM);default:return e}}effect(e){for(const t in e)this.change(this.hookSpecial(t),Number(e[t]))}judge(e){const t=this.get(e),o=_(this,ht)[e];if(!o)return;let n=o.length;const u=()=>Math.max(Math.min(t,10),0)/10;for(;n--;){const[a,i,s]=o[n];if(!n||a===void 0||t>=a)return{prop:e,value:t,judge:s,grade:i,progress:u()}}}isEnd(){return this.get(this.TYPES.LIF)<1}ageNext(){this.change(this.TYPES.AGE,1);const e=this.get(this.TYPES.AGE),{event:t,talent:o}=this.getAgeData(e);return{age:e,event:t,talent:o}}getAgeData(e){return Ne.cloneDeep(_(this,Sr)[e]||{event:[],talent:[]})}hl(e,t){let o;switch(e){case this.TYPES.AGE:o=[this.TYPES.LAGE,this.TYPES.HAGE];break;case this.TYPES.CHR:o=[this.TYPES.LCHR,this.TYPES.HCHR];break;case this.TYPES.INT:o=[this.TYPES.LINT,this.TYPES.HINT];break;case this.TYPES.STR:o=[this.TYPES.LSTR,this.TYPES.HSTR];break;case this.TYPES.MNY:o=[this.TYPES.LMNY,this.TYPES.HMNY];break;case this.TYPES.SPR:o=[this.TYPES.LSPR,this.TYPES.HSPR];break;default:return}const[n,u]=o;_(this,U)[n]=Ne.min([_(this,U)[n],t]),_(this,U)[u]=Ne.max([_(this,U)[u],t])}achieve(e,t){let o;switch(e){case this.TYPES.ACHV:{const u=this.lsGet(e);this.lsSet(e,(u||[]).concat([[t,Date.now()]]));return}case this.TYPES.TLT:o=this.TYPES.ATLT;break;case this.TYPES.EVT:o=this.TYPES.AEVT;break;default:return}const n=this.lsGet(o)||[];this.lsSet(o,Array.from(new Set(n.concat(t||[]).flat())))}lsGet(e){const t=localStorage.getItem(e);if(!(t===null||t==="undefined"))return JSON.parse(t)}lsSet(e,t){localStorage.setItem(e,JSON.stringify(t))}}Er=new WeakMap,Sr=new WeakMap,U=new WeakMap,ft=new WeakMap,ht=new WeakMap;var Ve,ir,Ou;let xm=(Ou=class{constructor(e){B(this,Ve);B(this,ir);D(this,Ve,e),D(this,ir,{})}initial({events:e}){D(this,ir,e);for(const t in e){const o=e[t];o.branch&&(o.branch=o.branch.map(n=>(n=n.split(":"),n[1]=Number(n[1]),n)))}return this.count}get count(){return Object.keys(_(this,ir)).length}check(e){const{include:t,exclude:o,NoRandom:n}=this.get(e);return n||o&&_(this,Ve).check(o)?!1:t?_(this,Ve).check(t):!0}get(e){const t=_(this,ir)[e];if(!t)throw new Error(`[ERROR] No Event[${e}]`);return _(this,Ve).clone(t)}information(e){const{event:t}=this.get(e);return{description:t}}do(e){const{effect:t,branch:o,event:n,postEvent:u,grade:a}=this.get(e);if(o){for(const[i,s]of o)if(_(this,Ve).check(i))return{effect:t,next:s,description:n,grade:a}}return{effect:t,postEvent:u,description:n,grade:a}}},Ve=new WeakMap,ir=new WeakMap,Ou);const km=r=>{let e=Math.floor(Math.random()*r.total);return(e-=r[3])<0?3:(e-=r[2])<0?2:e-r[1]<0?1:0};var re,_e,Ar,Tr,sr,no,ua;class vm{constructor(e,{talentPullCount:t=10,talentRate:o={1:100,2:10,3:1,total:1e3},additions:n={}}={}){B(this,no);B(this,re);B(this,_e,{});B(this,Ar);B(this,Tr);B(this,sr);D(this,re,e),D(this,Ar,t),D(this,Tr,o),D(this,sr,n)}initial({talents:e}){D(this,_e,e);const t=_(this,re).function(_(this,re).Function.CONDITION).extractMaxTriggers;for(const o in e){const n=e[o];if(n.id=Number(o),n.grade=Number(n.grade),n.max_triggers=t(n.condition),n.replacement)for(const u in n.replacement){const a={};for(let i of n.replacement[u])i=`${i}`.split("*"),a[i[0]||0]=Number(i[1])||1;n.replacement[u]=a}}return this.count}config({talentPullCount:e=10,talentRate:t={1:100,2:10,3:1,total:1e3},additions:o={}}={}){D(this,Ar,e),D(this,Tr,t),D(this,sr,o)}get count(){return Object.keys(_(this,_e)).length}check(e){const{condition:t}=this.get(e);return _(this,re).check(_(this,no,ua),t)}get(e){const t=_(this,_e)[e];if(!t)throw new Error(`[ERROR] No Talent[${e}]`);return _(this,re).clone(t)}information(e){const{grade:t,name:o,description:n}=this.get(e);return{grade:t,name:o,description:n}}exclude(e,t){const{exclude:o}=this.get(t);if(!o)return null;for(const n of e)for(const u of o)if(n==u)return n;return null}getAddition(e,t){if(!_(this,sr)[e])return{};for(const[o,n]of _(this,sr)[e])if(t>=o)return n;return{}}getRate(e={}){const t=_(this,re).clone(_(this,Tr)),o={1:1,2:1,3:1};Object.keys(e).forEach(n=>{const u=this.getAddition(n,e[n]);for(const a in u)o[a]+=u[a]});for(const n in o)t[n]*=o[n];return t}talentRandom(e,t){const o=this.getRate(t),n={};for(const u in _(this,_e)){const{id:a,grade:i,name:s,description:c,exclusive:d}=_(this,_e)[u];if(!d){if(a==e){e={grade:i,name:s,description:c,id:a};continue}n[i]?n[i].push({grade:i,name:s,description:c,id:a}):n[i]=[{grade:i,name:s,description:c,id:a}]}}return new Array(_(this,Ar)).fill(1).map((u,a)=>{if(!a&&e)return e;let i=km(o);for(;n[i].length==0;)i--;const s=n[i].length,c=Math.floor(Math.random()*s)%s;return n[i].splice(c,1)[0]})}random(e){const t=Object.keys(_(this,_e)).filter(o=>!_(this,_e)[o].exclusive);return new Array(e).fill(1).map(()=>t.splice(Math.floor(Math.random()*t.length)%t.length,1)[0])}allocationAddition(e){if(Array.isArray(e)){let t=0;for(const o of e)t+=this.allocationAddition(o);return t}return Number(this.get(e).status)||0}do(e){const{effect:t,condition:o,grade:n,name:u,description:a}=this.get(e);return o&&!_(this,re).check(o)?null:{effect:t,grade:n,name:u,description:a}}replace(e){const t=(i,s)=>{const{replacement:c}=this.get(i);if(!c)return null;const d=[];if(c.grade&&this.forEach(({id:l,grade:f,exclusive:p})=>{p||c.grade[f]&&(this.exclude(s,l)||d.push([l,c.grade[f]]))}),c.talent)for(const l in c.talent){const f=Number(l);this.exclude(s,f)||d.push([l,c.talent[l]])}return d},o=_(this,re).function(_(this,re).Function.UTIL).weightRandom,n=(i,s)=>{const c=t(i,s);if(!c)return i;const d=o(c);return n(d,s.concat(d))},u=_(this,re).clone(e),a={};for(const i of e){const s=n(i,u);s!=i&&(a[i]=s,u.push(s))}return a}forEach(e){if(typeof e=="function")for(const t in _(this,_e))e(_(this,re).clone(_(this,_e)[t]),t)}}re=new WeakMap,_e=new WeakMap,Ar=new WeakMap,Tr=new WeakMap,sr=new WeakMap,no=new WeakSet,ua=function(){return _(this,re).request(_(this,re).Module.PROPERTY)};var Ye,cr,lr,Jr;class Cm{constructor(e){B(this,lr);Re(this,"Opportunity",{START:"START",TRAJECTORY:"TRAJECTORY",SUMMARY:"SUMMARY",END:"END"});B(this,Ye);B(this,cr,{});D(this,Ye,e)}initial(e){return D(this,cr,e.achievements),this.count}get count(){return Object.keys(_(this,cr)).length}list(){return Object.values(_(this,cr)).map(({id:e,name:t,opportunity:o,description:n,hide:u,grade:a})=>({id:e,name:t,opportunity:o,description:n,hide:u,grade:a,isAchieved:this.isAchieved(e)}))}get(e){const t=_(this,cr)[e];if(!t)throw new Error(`[ERROR] No Achievement[${e}]`);return _(this,Ye).clone(t)}check(e){const{condition:t}=this.get(e);return _(this,Ye).check(t)}isAchieved(e){for(const[t]of _(this,lr,Jr).get(_(this,lr,Jr).TYPES.ACHV)||[])if(t==e)return!0;return!1}achieve(e){this.list().filter(({isAchieved:t})=>!t).filter(({opportunity:t})=>t==e).filter(({id:t})=>this.check(t)).forEach(({id:t})=>{_(this,lr,Jr).achieve(_(this,lr,Jr).TYPES.ACHV,t),_(this,Ye).$$event("achievement",this.get(t))})}}Ye=new WeakMap,cr=new WeakMap,lr=new WeakSet,Jr=function(){return _(this,Ye).request(_(this,Ye).Module.PROPERTY)};var ye,dr,pt,Dr,fe,Rr,Ee,Je,gt,he,Yt,aa,Uo,ia;class wm{constructor(e){B(this,he);B(this,ye);B(this,dr,{});B(this,pt,0);B(this,Dr,0);B(this,fe,null);B(this,Rr,[]);B(this,Ee,null);B(this,Je);B(this,gt);D(this,ye,e)}initial({characters:e}){D(this,dr,e);const t=localStorage.getItem("uniqueWaTaShi");return t!=null&&t!=="undefined"&&D(this,Ee,JSON.parse(t)),this.count}get count(){return Object.keys(_(this,dr)).length}config({characterPullCount:e=3,rateableKnife:t=10,propertyWeight:o,talentWeight:n}={}){D(this,pt,e),D(this,Dr,t),D(this,Je,o),D(this,gt,n)}generateUnique(){if(_(this,Ee))return _(this,he,Yt);const e=_(this,he,Uo),{CHR:t,INT:o,STR:n,MNY:u}=_(this,ye).PropertyTypes;return D(this,he,{property:{[t]:e(_(this,Je)),[o]:e(_(this,Je)),[n]:e(_(this,Je)),[u]:e(_(this,Je))},talent:_(this,ye).request(_(this,ye).Module.TALENT).random(e(_(this,gt)))},aa),_(this,he,Yt)}random(){return{unique:_(this,he,Yt),normal:qr(this,he,ia).call(this)}}}ye=new WeakMap,dr=new WeakMap,pt=new WeakMap,Dr=new WeakMap,fe=new WeakMap,Rr=new WeakMap,Ee=new WeakMap,Je=new WeakMap,gt=new WeakMap,he=new WeakSet,Yt=function(){if(_(this,Ee))return _(this,ye).clone(_(this,Ee));const e=Date.now();if(_(this,Rr).push(e),_(this,Rr).length<10)return null;const t=_(this,Rr).shift()||0;return e-t>1e4?null:{unique:!0,generate:!1}},aa=function(e){D(this,Ee,_(this,ye).clone(e)),_(this,Ee).unique=!0,_(this,Ee).generate=!0,localStorage.setItem("uniqueWaTaShi",JSON.stringify(_(this,Ee)))},Uo=function(){return _(this,ye).function(_(this,ye).Function.UTIL).weightRandom},ia=function(){if(!_(this,fe)){D(this,fe,{});for(const n in _(this,dr))_(this,fe)[n]=1}const e=[],t=_(this,he,Uo);new Array(_(this,pt)).fill(0).forEach(()=>{e.push(t(Object.keys(_(this,fe)).filter(n=>!e.includes(n)).map(n=>[n,_(this,fe)[n]])))});let o=1/0;for(const n in _(this,fe)){if(e.includes(n)){o=Math.min(o,_(this,fe)[n]);continue}o=Math.min(o,++_(this,fe)[n])}if(o>_(this,Dr))for(const n in _(this,fe))_(this,fe)[n]-=_(this,Dr);return e.map(n=>_(this,ye).clone(_(this,dr)[n]))};var $r,Pr,Br,Ir,Fr,Lr,mt,bt,_t,yt,xt,fr,zo,sa;class Em{constructor(){B(this,fr);Re(this,"Module",{PROPERTY:"PROPERTY",TALENT:"TALENT",EVENT:"EVENT",ACHIEVEMENT:"ACHIEVEMENT",CHARACTER:"CHARACTER"});Re(this,"Function",{CONDITION:"CONDITION",UTIL:"UTIL"});B(this,$r);B(this,Pr);B(this,Br);B(this,Ir);B(this,Fr);B(this,Lr);B(this,mt,20);B(this,bt,3);B(this,_t,[0,10]);B(this,yt,{});B(this,xt,{});Re(this,"$$eventMap",new Map);Re(this,"$$event",(e,t)=>{const o=this.$$eventMap.get(e);o&&o.forEach(n=>n==null?void 0:n(t))});Re(this,"$$on",(e,t)=>{let o=this.$$eventMap.get(e);o||(o=new Set,this.$$eventMap.set(e,o)),o.add(t)});Re(this,"$$off",(e,t)=>{const o=this.$$eventMap.get(e);o&&o.delete(t)});D(this,$r,new ym(this)),D(this,Pr,new xm(this)),D(this,Br,new vm(this)),D(this,Ir,new Cm(this)),D(this,Fr,new wm(this)),D(this,Lr,{})}get _property(){return _(this,$r)}set _property(e){D(this,$r,e)}get _event(){return _(this,Pr)}set _event(e){D(this,Pr,e)}get _talent(){return _(this,Br)}set _talent(e){D(this,Br,e)}get _achievement(){return _(this,Ir)}set _achievement(e){D(this,Ir,e)}get _character(){return _(this,Fr)}set _character(e){D(this,Fr,e)}get _triggerTalents(){return _(this,Lr)}set _triggerTalents(e){D(this,Lr,e)}get _defaultPropertyPoints(){return _(this,mt)}set _defaultPropertyPoints(e){D(this,mt,e)}get _talentSelectLimit(){return _(this,bt)}set _talentSelectLimit(e){D(this,bt,e)}get _propertyAllocateLimit(){return _(this,_t)}set _propertyAllocateLimit(e){D(this,_t,e)}get _defaultProperties(){return _(this,yt)}set _defaultProperties(e){D(this,yt,e)}get _initialData(){return _(this,xt)}set _initialData(e){D(this,xt,e)}async initial(e){const[t,o,n,u,a]=await Promise.all([e("age"),e("talents"),e("events"),e("achievement"),e("character")]),i=this._achievement.initial({achievements:u}),s=this._event.initial({events:n}),c=this._talent.initial({talents:o}),d={[this.PropertyTypes.TACHV]:i,[this.PropertyTypes.TEVT]:s,[this.PropertyTypes.TTLT]:c};this._property.initial({age:t,total:d}),this._character.initial({characters:a})}config({defaultPropertyPoints:e=20,talentSelectLimit:t=3,propertyAllocateLimit:o=[0,10],defaultProperties:n={},talentConfig:u,propertyConfig:a,characterConfig:i}={}){this._defaultPropertyPoints=e,this._talentSelectLimit=t,this._propertyAllocateLimit=o,this._defaultProperties=n,this._talent.config(u),this._property.config(a),this._character.config(i)}request(e){return A.get({[this.Module.ACHIEVEMENT]:this._achievement,[this.Module.CHARACTER]:this._character,[this.Module.EVENT]:this._event,[this.Module.PROPERTY]:this._property,[this.Module.TALENT]:this._talent},e,null)}function(e){return{[this.Function.CONDITION]:_m,[this.Function.UTIL]:pm}[e]}check(e){return na(this._property,e)}clone(...e){return ra(...e)}remake(e){return this._initialData=A.cloneDeep(this._defaultProperties),this._initialData.TLT=A.cloneDeep(e),this._triggerTalents={},this.talentReplace(this._initialData.TLT)}start(e){A.forEach(e,(t,o)=>{this._initialData[o]=A.cloneDeep(t)}),this._property.restart(this._initialData),this.doTalent(),this._property.restartLastStep(),this._achievement.achieve(this.AchievementOpportunity.START)}getPropertyPoints(){return this._defaultPropertyPoints+this._talent.allocationAddition(this._initialData.TLT)}getTalentCurrentTriggerCount(e){return this._triggerTalents[e]||0}next(){const{age:e,event:t,talent:o}=this._property.ageNext(),n=this.doTalent(o),u=this.doEvent(this.random(t)),a=this._property.isEnd(),i=A.flatten([n,u]);return this._achievement.achieve(this.AchievementOpportunity.TRAJECTORY),{age:e,content:i,isEnd:a}}talentReplace(e){const t=this._talent.replace(e),o=[];return A.forEach(t,(n,u)=>{e.push(n);const a=this._talent.get(u),i=this._talent.get(n);o.push({type:"talentReplace",source:a,target:i})}),o}doTalent(e){e&&this._property.change(this.PropertyTypes.TLT,e),e=this._property.get(this.PropertyTypes.TLT).filter(o=>this.getTalentCurrentTriggerCount(o)<this._talent.get(o).max_triggers);const t=[];for(const o of e){const n=this._talent.do(o);if(!n)continue;this._triggerTalents[o]=this.getTalentCurrentTriggerCount(String(o))+1;const{effect:u,name:a,description:i,grade:s}=n;t.push({type:this.PropertyTypes.TLT,name:a,grade:s,description:i}),u&&this._property.effect(u)}return t}doEvent(e){const{effect:t,next:o,description:n,postEvent:u,grade:a}=this._event.do(String(e));this._property.change(this.PropertyTypes.EVT,e),this._property.effect(t);const i={type:this.PropertyTypes.EVT,description:n,postEvent:u,grade:a};return o?A.flatten([i,this.doEvent(o)]):[i]}random(e){return ta(e.filter(([t])=>this._event.check(String(t))))}talentRandom(){return this._talent.talentRandom(this.lastExtendTalent,qr(this,fr,sa).call(this,this.PropertyTypes.TMS,this.PropertyTypes.CACHV))}characterRandom(){const e=this._character.random(),t=o=>{o.talent=o.talent.map(n=>this._talent.get(n))};return e.normal.forEach(t),e.unique&&e.unique.talent&&t(e.unique),e}talentExtend(e){this._property.set(this.PropertyTypes.EXT,e)}exclude(e,t){return this._talent.exclude(e,t)}generateUnique(){this._character.generateUnique()}get lastExtendTalent(){return this._property.get(this.PropertyTypes.EXT)}get summary(){this._achievement.achieve(this.AchievementOpportunity.SUMMARY);const e=this.PropertyTypes;return qr(this,fr,zo).call(this,e.SUM,e.HAGE,e.HCHR,e.HINT,e.HSTR,e.HMNY,e.HSPR)}get statistics(){const e=this.PropertyTypes;return qr(this,fr,zo).call(this,e.TMS,e.CACHV,e.RTLT,e.REVT)}get achievements(){const e={};return this._property.get(this.PropertyTypes.ACHV).forEach(([t,o])=>{e[t]=o}),this._achievement.list().sort(({id:t,grade:o,hide:n},{id:u,grade:a,hide:i})=>{const s=e[t],c=e[u];return s&&c?c-s:!s&&!c?n&&i?a-o:n?1:i?-1:a-o:s?-1:1})}get PropertyTypes(){return this._property.TYPES}get AchievementOpportunity(){return this._achievement.Opportunity}get talentSelectLimit(){return this._talentSelectLimit}get propertyAllocateLimit(){return A.cloneDeep(this._propertyAllocateLimit)}get properties(){return this._property.getProperties()}get times(){return this._property.get(this.PropertyTypes.TMS)||0}set times(e){this._property.set(this.PropertyTypes.TMS,e),this._achievement.achieve(this.AchievementOpportunity.END)}}$r=new WeakMap,Pr=new WeakMap,Br=new WeakMap,Ir=new WeakMap,Fr=new WeakMap,Lr=new WeakMap,mt=new WeakMap,bt=new WeakMap,_t=new WeakMap,yt=new WeakMap,xt=new WeakMap,fr=new WeakSet,zo=function(...e){return No(A.flatten(e),t=>this._property.judge(t))},sa=function(...e){return No(A.flatten(e),t=>this._property.get(t))};const Sm={defaultPropertyPoints:20,talentSelectLimit:3,propertyAllocateLimit:[0,10],defaultProperties:{SPR:5},talentConfig:{talentPullCount:10,talentRate:{1:100,2:10,3:1,total:1e3},additions:{TMS:[[10,{2:1}],[30,{2:2}],[50,{2:3}],[70,{2:4}],[100,{2:5}]],CACHV:[[10,{2:1}],[30,{2:2}],[50,{2:3}],[70,{2:4}],[100,{2:5}]]}},propertyConfig:{judge:{RTLT:[[0,0],[.3,1],[.6,2],[.9,3]],REVT:[[0,0],[.2,1],[.4,2],[.6,3]],TMS:[[0,0,"UI_Remake_Times_Judge_Level_0"],[10,1,"UI_Remake_Times_Judge_Level_1"],[30,1,"UI_Remake_Times_Judge_Level_2"],[50,2,"UI_Remake_Times_Judge_Level_3"],[70,2,"UI_Remake_Times_Judge_Level_4"],[100,3,"UI_Remake_Times_Judge_Level_5"]],CACHV:[[0,0,"UI_Achievement_Count_Judge_Level_0"],[10,1,"UI_Achievement_Count_Judge_Level_1"],[30,1,"UI_Achievement_Count_Judge_Level_2"],[50,2,"UI_Achievement_Count_Judge_Level_3"],[70,2,"UI_Achievement_Count_Judge_Level_4"],[100,3,"UI_Achievement_Count_Judge_Level_5"]],HCHR:[[0,0,"UI_Judge_Level_0"],[1,0,"UI_Judge_Level_1"],[2,0,"UI_Judge_Level_2"],[4,0,"UI_Judge_Level_3"],[7,1,"UI_Judge_Level_4"],[9,2,"UI_Judge_Level_5"],[11,3,"UI_Judge_Level_6"]],HMNY:[[0,0,"UI_Judge_Level_0"],[1,0,"UI_Judge_Level_1"],[2,0,"UI_Judge_Level_2"],[4,0,"UI_Judge_Level_3"],[7,1,"UI_Judge_Level_4"],[9,2,"UI_Judge_Level_5"],[11,3,"UI_Judge_Level_6"]],HSPR:[[0,0,"UI_Spirit_Judge_Level_0"],[1,0,"UI_Spirit_Judge_Level_1"],[2,0,"UI_Spirit_Judge_Level_2"],[4,0,"UI_Spirit_Judge_Level_3"],[7,1,"UI_Spirit_Judge_Level_4"],[9,2,"UI_Spirit_Judge_Level_5"],[11,3,"UI_Spirit_Judge_Level_6"]],HINT:[[0,0,"UI_Judge_Level_0"],[1,0,"UI_Judge_Level_1"],[2,0,"UI_Judge_Level_2"],[4,0,"UI_Judge_Level_3"],[7,1,"UI_Judge_Level_4"],[9,2,"UI_Judge_Level_5"],[11,3,"UI_Judge_Level_6"],[21,3,"UI_Intelligence_Judge_Level_7"],[131,3,"UI_Intelligence_Judge_Level_8"],[501,3,"UI_Intelligence_Judge_Level_9"]],HSTR:[[0,0,"UI_Judge_Level_0"],[1,0,"UI_Judge_Level_1"],[2,0,"UI_Judge_Level_2"],[4,0,"UI_Judge_Level_3"],[7,1,"UI_Judge_Level_4"],[9,2,"UI_Judge_Level_5"],[11,3,"UI_Judge_Level_6"],[21,3,"UI_Strength_Judge_Level_7"],[101,3,"UI_Strength_Judge_Level_8"],[401,3,"UI_Strength_Judge_Level_9"],[1001,3,"UI_Strength_Judge_Level_10"],[2001,3,"UI_Strength_Judge_Level_11"]],HAGE:[[0,0,"UI_AGE_Judge_Level_0"],[1,0,"UI_AGE_Judge_Level_1"],[10,0,"UI_AGE_Judge_Level_2"],[18,0,"UI_AGE_Judge_Level_3"],[40,0,"UI_AGE_Judge_Level_4"],[60,1,"UI_AGE_Judge_Level_5"],[70,1,"UI_AGE_Judge_Level_6"],[80,2,"UI_AGE_Judge_Level_7"],[90,2,"UI_AGE_Judge_Level_8"],[95,3,"UI_AGE_Judge_Level_9"],[100,3,"UI_AGE_Judge_Level_10"],[500,3,"UI_AGE_Judge_Level_11"]],SUM:[[0,0,"UI_Judge_Level_0"],[41,0,"UI_Judge_Level_1"],[50,0,"UI_Judge_Level_2"],[60,0,"UI_Judge_Level_3"],[80,1,"UI_Judge_Level_4"],[100,2,"UI_Judge_Level_5"],[110,3,"UI_Judge_Level_6"],[120,3,"UI_Judge_Level_7"]]}},characterConfig:{characterPullCount:3,rateableKnife:10,propertyWeight:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,5],[7,4],[8,3],[9,2],[10,1]],talentWeight:[[1,1],[2,2],[3,3],[4,2],[5,1]]}},Yo="RFC3986",Ho={RFC1738:r=>String(r).replace(/%20/g,"+"),RFC3986:r=>String(r)},Am="RFC1738",Tm=Array.isArray,$e=(()=>{const r=[];for(let e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r})(),xo=1024,Dm=(r,e,t,o,n)=>{if(r.length===0)return r;let u=r;if(typeof r=="symbol"?u=Symbol.prototype.toString.call(r):typeof r!="string"&&(u=String(r)),t==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(i){return"%26%23"+parseInt(i.slice(2),16)+"%3B"});let a="";for(let i=0;i<u.length;i+=xo){const s=u.length>=xo?u.slice(i,i+xo):u,c=[];for(let d=0;d<s.length;++d){let l=s.charCodeAt(d);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||n===Am&&(l===40||l===41)){c[c.length]=s.charAt(d);continue}if(l<128){c[c.length]=$e[l];continue}if(l<2048){c[c.length]=$e[192|l>>6]+$e[128|l&63];continue}if(l<55296||l>=57344){c[c.length]=$e[224|l>>12]+$e[128|l>>6&63]+$e[128|l&63];continue}d+=1,l=65536+((l&1023)<<10|s.charCodeAt(d)&1023),c[c.length]=$e[240|l>>18]+$e[128|l>>12&63]+$e[128|l>>6&63]+$e[128|l&63]}a+=c.join("")}return a};function Rm(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))}function Jn(r,e){if(Tm(r)){const t=[];for(let o=0;o<r.length;o+=1)t.push(e(r[o]));return t}return e(r)}const $m=Object.prototype.hasOwnProperty,ca={brackets(r){return String(r)+"[]"},comma:"comma",indices(r,e){return String(r)+"["+e+"]"},repeat(r){return String(r)}},Pe=Array.isArray,Pm=Array.prototype.push,la=function(r,e){Pm.apply(r,Pe(e)?e:[e])},Bm=Date.prototype.toISOString,W={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Dm,encodeValuesOnly:!1,format:Yo,formatter:Ho[Yo],indices:!1,serializeDate(r){return Bm.call(r)},skipNulls:!1,strictNullHandling:!1};function Im(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"}const ko={};function da(r,e,t,o,n,u,a,i,s,c,d,l,f,p,h,g,b,k){let m=r,x=k,y=0,E=!1;for(;(x=x.get(ko))!==void 0&&!E;){const $=x.get(r);if(y+=1,typeof $<"u"){if($===y)throw new RangeError("Cyclic object value");E=!0}typeof x.get(ko)>"u"&&(y=0)}if(typeof c=="function"?m=c(e,m):m instanceof Date?m=f==null?void 0:f(m):t==="comma"&&Pe(m)&&(m=Jn(m,function($){return $ instanceof Date?f==null?void 0:f($):$})),m===null){if(u)return s&&!g?s(e,W.encoder,b,"key",p):e;m=""}if(Im(m)||Rm(m)){if(s){const $=g?e:s(e,W.encoder,b,"key",p);return[(h==null?void 0:h($))+"="+(h==null?void 0:h(s(m,W.encoder,b,"value",p)))]}return[(h==null?void 0:h(e))+"="+(h==null?void 0:h(String(m)))]}const v=[];if(typeof m>"u")return v;let C;if(t==="comma"&&Pe(m))g&&s&&(m=Jn(m,s)),C=[{value:m.length>0?m.join(",")||null:void 0}];else if(Pe(c))C=c;else{const $=Object.keys(m);C=d?$.sort(d):$}const R=i?String(e).replace(/\./g,"%2E"):String(e),T=o&&Pe(m)&&m.length===1?R+"[]":R;if(n&&Pe(m)&&m.length===0)return T+"[]";for(let $=0;$<C.length;++$){const P=C[$],ue=typeof P=="object"&&typeof P.value<"u"?P.value:m[P];if(a&&ue===null)continue;const ve=l&&i?P.replace(/\./g,"%2E"):P,be=Pe(m)?typeof t=="function"?t(T,ve):T:T+(l?"."+ve:"["+ve+"]");k.set(r,y);const ne=new WeakMap;ne.set(ko,k),la(v,da(ue,be,t,o,n,u,a,i,t==="comma"&&g&&Pe(m)?null:s,c,d,l,f,p,h,g,b,ne))}return v}function Fm(r=W){if(typeof r.allowEmptyArrays<"u"&&typeof r.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof r.encodeDotInKeys<"u"&&typeof r.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(r.encoder!==null&&typeof r.encoder<"u"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=r.charset||W.charset;if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let t=Yo;if(typeof r.format<"u"){if(!$m.call(Ho,r.format))throw new TypeError("Unknown format option provided.");t=r.format}const o=Ho[t];let n=W.filter;(typeof r.filter=="function"||Pe(r.filter))&&(n=r.filter);let u;if(r.arrayFormat&&r.arrayFormat in ca?u=r.arrayFormat:"indices"in r?u=r.indices?"indices":"repeat":u=W.arrayFormat,"commaRoundTrip"in r&&typeof r.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof r.allowDots>"u"?r.encodeDotInKeys?!0:W.allowDots:!!r.allowDots;return{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:W.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof r.allowEmptyArrays=="boolean"?!!r.allowEmptyArrays:W.allowEmptyArrays,arrayFormat:u,charset:e,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:W.charsetSentinel,commaRoundTrip:!!r.commaRoundTrip,delimiter:typeof r.delimiter>"u"?W.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:W.encode,encodeDotInKeys:typeof r.encodeDotInKeys=="boolean"?r.encodeDotInKeys:W.encodeDotInKeys,encoder:typeof r.encoder=="function"?r.encoder:W.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:W.encodeValuesOnly,filter:n,format:t,formatter:o,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:W.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:W.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:W.strictNullHandling}}function Lm(r,e={}){let t=r;const o=Fm(e);let n,u;typeof o.filter=="function"?(u=o.filter,t=u("",t)):Pe(o.filter)&&(u=o.filter,n=u);const a=[];if(typeof t!="object"||t===null)return"";const i=ca[o.arrayFormat],s=i==="comma"&&o.commaRoundTrip;n||(n=Object.keys(t)),o.sort&&n.sort(o.sort);const c=new WeakMap;for(let f=0;f<n.length;++f){const p=n[f];o.skipNulls&&t[p]===null||la(a,da(t[p],p,i,s,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,c))}const d=a.join(o.delimiter);let l=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?l+="utf8=%26%2310003%3B&":l+="utf8=%E2%9C%93&"),d.length>0?l+d:""}const br="4.85.4";let Gn=!1,tt,fa,ha,jo,pa,ga,ma,ba,_a;function Mm(r,e={auto:!1}){if(Gn)throw new Error(`you must \`import 'openai/shims/${r.kind}'\` before importing anything else from openai`);if(tt)throw new Error(`can't \`import 'openai/shims/${r.kind}'\` after \`import 'openai/shims/${tt}'\``);Gn=e.auto,tt=r.kind,fa=r.fetch,ha=r.FormData,jo=r.File,pa=r.ReadableStream,ga=r.getMultipartRequestOptions,ma=r.getDefaultAgent,ba=r.fileFromPath,_a=r.isFsReadStream}class Om{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function Nm({manuallyImported:r}={}){const e=r?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let t,o,n,u;try{t=fetch,o=Request,n=Response,u=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:t,Request:o,Response:n,Headers:u,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,i)=>({...i,body:new Om(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}tt||Mm(Nm(),{auto:!0});class I extends Error{}class Q extends I{constructor(e,t,o,n){super(`${Q.makeMessage(e,t,o)}`),this.status=e,this.headers=n,this.request_id=n==null?void 0:n["x-request-id"],this.error=t;const u=t;this.code=u==null?void 0:u.code,this.param=u==null?void 0:u.param,this.type=u==null?void 0:u.type}static makeMessage(e,t,o){const n=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):o;return e&&n?`${e} ${n}`:e?`${e} status code (no body)`:n||"(no status code or body)"}static generate(e,t,o,n){if(!e||!n)return new uo({message:o,cause:Wo(t)});const u=t==null?void 0:t.error;return e===400?new ya(e,u,o,n):e===401?new xa(e,u,o,n):e===403?new ka(e,u,o,n):e===404?new va(e,u,o,n):e===409?new Ca(e,u,o,n):e===422?new wa(e,u,o,n):e===429?new Ea(e,u,o,n):e>=500?new Sa(e,u,o,n):new Q(e,u,o,n)}}class Ae extends Q{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class uo extends Q{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class cn extends uo{constructor({message:e}={}){super({message:e??"Request timed out."})}}class ya extends Q{}class xa extends Q{}class ka extends Q{}class va extends Q{}class Ca extends Q{}class wa extends Q{}class Ea extends Q{}class Sa extends Q{}class Aa extends I{constructor(){super("Could not parse response content as the length limit was reached")}}class Ta extends I{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var $t=function(r,e,t,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},nr=function(r,e,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(r):o?o.value:e.get(r)},le;class ao{constructor(){le.set(this,void 0),this.buffer=new Uint8Array,$t(this,le,null,"f")}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let o=new Uint8Array(this.buffer.length+t.length);o.set(this.buffer),o.set(t,this.buffer.length),this.buffer=o;const n=[];let u;for(;(u=Um(this.buffer,nr(this,le,"f")))!=null;){if(u.carriage&&nr(this,le,"f")==null){$t(this,le,u.index,"f");continue}if(nr(this,le,"f")!=null&&(u.index!==nr(this,le,"f")+1||u.carriage)){n.push(this.decodeText(this.buffer.slice(0,nr(this,le,"f")-1))),this.buffer=this.buffer.slice(nr(this,le,"f")),$t(this,le,null,"f");continue}const a=nr(this,le,"f")!==null?u.preceding-1:u.preceding,i=this.decodeText(this.buffer.slice(0,a));n.push(i),this.buffer=this.buffer.slice(u.index),$t(this,le,null,"f")}return n}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new I(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new I(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new I("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}le=new WeakMap;ao.NEWLINE_CHARS=new Set([`
`,"\r"]);ao.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Um(r,e){for(let n=e??0;n<r.length;n++){if(r[n]===10)return{preceding:n,index:n+1,carriage:!1};if(r[n]===13)return{preceding:n,index:n+1,carriage:!0}}return null}function zm(r){for(let o=0;o<r.length-1;o++){if(r[o]===10&&r[o+1]===10||r[o]===13&&r[o+1]===13)return o+2;if(r[o]===13&&r[o+1]===10&&o+3<r.length&&r[o+2]===13&&r[o+3]===10)return o+4}return-1}function Da(r){if(r[Symbol.asyncIterator])return r;const e=r.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Ie{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let o=!1;async function*n(){if(o)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let u=!1;try{for await(const a of Ym(e,t))if(!u){if(a.data.startsWith("[DONE]")){u=!0;continue}if(a.event===null){let i;try{i=JSON.parse(a.data)}catch(s){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),s}if(i&&i.error)throw new Q(void 0,i.error,void 0,void 0);yield i}else{let i;try{i=JSON.parse(a.data)}catch(s){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),s}if(a.event=="error")throw new Q(void 0,i.error,i.message,void 0);yield{event:a.event,data:i}}}u=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{u||t.abort()}}return new Ie(n,t)}static fromReadableStream(e,t){let o=!1;async function*n(){const a=new ao,i=Da(e);for await(const s of i)for(const c of a.decode(s))yield c;for(const s of a.flush())yield s}async function*u(){if(o)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let a=!1;try{for await(const i of n())a||i&&(yield JSON.parse(i));a=!0}catch(i){if(i instanceof Error&&i.name==="AbortError")return;throw i}finally{a||t.abort()}}return new Ie(u,t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],o=this.iterator(),n=u=>({next:()=>{if(u.length===0){const a=o.next();e.push(a),t.push(a)}return u.shift()}});return[new Ie(()=>n(e),this.controller),new Ie(()=>n(t),this.controller)]}toReadableStream(){const e=this;let t;const o=new TextEncoder;return new pa({async start(){t=e[Symbol.asyncIterator]()},async pull(n){try{const{value:u,done:a}=await t.next();if(a)return n.close();const i=o.encode(JSON.stringify(u)+`
`);n.enqueue(i)}catch(u){n.error(u)}},async cancel(){var n;await((n=t.return)==null?void 0:n.call(t))}})}}async function*Ym(r,e){if(!r.body)throw e.abort(),new I("Attempted to iterate over a response with no body");const t=new jm,o=new ao,n=Da(r.body);for await(const u of Hm(n))for(const a of o.decode(u)){const i=t.decode(a);i&&(yield i)}for(const u of o.flush()){const a=t.decode(u);a&&(yield a)}}async function*Hm(r){let e=new Uint8Array;for await(const t of r){if(t==null)continue;const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let n=new Uint8Array(e.length+o.length);n.set(e),n.set(o,e.length),e=n;let u;for(;(u=zm(e))!==-1;)yield e.slice(0,u),e=e.slice(u)}e.length>0&&(yield e)}class jm{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,o,n]=qm(e,":");return n.startsWith(" ")&&(n=n.substring(1)),t==="event"?this.event=n:t==="data"&&this.data.push(n),null}}function qm(r,e){const t=r.indexOf(e);return t!==-1?[r.substring(0,t),e,r.substring(t+e.length)]:[r,"",""]}const Ra=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function",$a=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&io(r),io=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",Wm=r=>$a(r)||Ra(r)||_a(r);async function Pa(r,e,t){var n;if(r=await r,$a(r))return r;if(Ra(r)){const u=await r.blob();e||(e=new URL(r.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=io(u)?[await u.arrayBuffer()]:[u];return new jo(a,e,t)}const o=await Vm(r);if(e||(e=Gm(r)??"unknown_file"),!(t!=null&&t.type)){const u=(n=o[0])==null?void 0:n.type;typeof u=="string"&&(t={...t,type:u})}return new jo(o,e,t)}async function Vm(r){var t;let e=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)e.push(r);else if(io(r))e.push(await r.arrayBuffer());else if(Xm(r))for await(const o of r)e.push(o);else throw new Error(`Unexpected data type: ${typeof r}; constructor: ${(t=r==null?void 0:r.constructor)==null?void 0:t.name}; props: ${Jm(r)}`);return e}function Jm(r){return`[${Object.getOwnPropertyNames(r).map(t=>`"${t}"`).join(", ")}]`}function Gm(r){var e;return vo(r.name)||vo(r.filename)||((e=vo(r.path))==null?void 0:e.split(/[\\/]/).pop())}const vo=r=>{if(typeof r=="string")return r;if(typeof Buffer<"u"&&r instanceof Buffer)return String(r)},Xm=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function",Xn=r=>r&&typeof r=="object"&&r.body&&r[Symbol.toStringTag]==="MultipartBody",Mr=async r=>{const e=await Zm(r.body);return ga(e,r)},Zm=async r=>{const e=new ha;return await Promise.all(Object.entries(r||{}).map(([t,o])=>qo(e,t,o))),e},qo=async(r,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")r.append(e,String(t));else if(Wm(t)){const o=await Pa(t);r.append(e,o)}else if(Array.isArray(t))await Promise.all(t.map(o=>qo(r,e+"[]",o)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([o,n])=>qo(r,`${e}[${o}]`,n)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}};var xr={},Km=function(r,e,t,o,n){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(r,t),t},Qm=function(r,e,t,o){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(r):o?o.value:e.get(r)},Pt;async function Ba(r){const{response:e}=r;if(r.options.stream)return kr("response",e.status,e.url,e.headers,e.body),r.options.__streamClass?r.options.__streamClass.fromSSEResponse(e,r.controller):Ie.fromSSEResponse(e,r.controller);if(e.status===204)return null;if(r.options.__binaryResponse)return e;const t=e.headers.get("content-type");if((t==null?void 0:t.includes("application/json"))||(t==null?void 0:t.includes("application/vnd.api+json"))){const u=await e.json();return kr("response",e.status,e.url,e.headers,u),Ia(u,e)}const n=await e.text();return kr("response",e.status,e.url,e.headers,n),n}function Ia(r,e){return!r||typeof r!="object"||Array.isArray(r)?r:Object.defineProperty(r,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class so extends Promise{constructor(e,t=Ba){super(o=>{o(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new so(this.responsePromise,async t=>Ia(e(await this.parseResponse(t),t),t.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class eb{constructor({baseURL:e,maxRetries:t=2,timeout:o=6e5,httpAgent:n,fetch:u}){this.baseURL=e,this.maxRetries=Co("maxRetries",t),this.timeout=Co("timeout",o),this.httpAgent=n,this.fetch=u??fa}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...ab(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${lb()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,o){return this.request(Promise.resolve(o).then(async n=>{const u=n&&io(n==null?void 0:n.body)?new DataView(await n.body.arrayBuffer()):(n==null?void 0:n.body)instanceof DataView?n.body:(n==null?void 0:n.body)instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n==null?void 0:n.body)?new DataView(n.body.buffer):n==null?void 0:n.body;return{method:e,path:t,...n,body:u}}))}getAPIList(e,t,o){return this.requestAPIList(t,{method:"get",path:e,...o})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){var h;e={...e};const{method:o,path:n,query:u,headers:a={}}=e,i=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Xn(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,s=this.calculateContentLength(i),c=this.buildURL(n,u);"timeout"in e&&Co("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const d=e.httpAgent??this.httpAgent??ma(c),l=e.timeout+1e3;typeof((h=d==null?void 0:d.options)==null?void 0:h.timeout)=="number"&&l>(d.options.timeout??0)&&(d.options.timeout=l),this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const f=this.buildHeaders({options:e,headers:a,contentLength:s,retryCount:t});return{req:{method:o,...i&&{body:i},headers:f,...d&&{agent:d},signal:e.signal??null},url:c,timeout:e.timeout}}buildHeaders({options:e,headers:t,contentLength:o,retryCount:n}){const u={};o&&(u["content-length"]=o);const a=this.defaultHeaders(e);return eu(u,a),eu(u,t),Xn(e.body)&&tt!=="node"&&delete u["content-type"],It(a,"x-stainless-retry-count")===void 0&&It(t,"x-stainless-retry-count")===void 0&&(u["x-stainless-retry-count"]=String(n)),It(a,"x-stainless-timeout")===void 0&&It(t,"x-stainless-timeout")===void 0&&e.timeout&&(u["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(u,t),u}async prepareOptions(e){}async prepareRequest(e,{url:t,options:o}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(t=>[...t])):{...e}:{}}makeStatusError(e,t,o,n){return Q.generate(e,t,o,n)}request(e,t=null){return new so(this.makeRequest(e,t))}async makeRequest(e,t){var l,f;const o=await e,n=o.maxRetries??this.maxRetries;t==null&&(t=n),await this.prepareOptions(o);const{req:u,url:a,timeout:i}=this.buildRequest(o,{retryCount:n-t});if(await this.prepareRequest(u,{url:a,options:o}),kr("request",a,o,u.headers),(l=o.signal)!=null&&l.aborted)throw new Ae;const s=new AbortController,c=await this.fetchWithTimeout(a,u,i,s).catch(Wo);if(c instanceof Error){if((f=o.signal)!=null&&f.aborted)throw new Ae;if(t)return this.retryRequest(o,t);throw c.name==="AbortError"?new cn:new uo({cause:c})}const d=tb(c.headers);if(!c.ok){if(t&&this.shouldRetry(c)){const m=`retrying, ${t} attempts remaining`;return kr(`response (error; ${m})`,c.status,a,d),this.retryRequest(o,t,d)}const p=await c.text().catch(m=>Wo(m).message),h=ib(p),g=h?void 0:p;throw kr(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,c.status,a,d,g),this.makeStatusError(c.status,h,g,d)}return{response:c,options:o,controller:s}}requestAPIList(e,t){const o=this.makeRequest(t,null);return new rb(this,o,e)}buildURL(e,t){const o=cb(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),n=this.defaultQuery();return La(n)||(t={...n,...t}),typeof t=="object"&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}stringifyQuery(e){return Object.entries(e).filter(([t,o])=>typeof o<"u").map(([t,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(t)}=`;throw new I(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,o,n){const{signal:u,...a}=t||{};u&&u.addEventListener("abort",()=>n.abort());const i=setTimeout(()=>n.abort(),o),s={signal:n.signal,...a};return s.method&&(s.method=s.method.toUpperCase()),this.fetch.call(void 0,e,s).finally(()=>{clearTimeout(i)})}shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,o){let n;const u=o==null?void 0:o["retry-after-ms"];if(u){const i=parseFloat(u);Number.isNaN(i)||(n=i)}const a=o==null?void 0:o["retry-after"];if(a&&!n){const i=parseFloat(a);Number.isNaN(i)?n=Date.parse(a)-Date.now():n=i*1e3}if(!(n&&0<=n&&n<60*1e3)){const i=e.maxRetries??this.maxRetries;n=this.calculateDefaultRetryTimeoutMillis(t,i)}return await kt(n),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const u=t-e,a=Math.min(.5*Math.pow(2,u),8),i=1-Math.random()*.25;return a*i*1e3}getUserAgent(){return`${this.constructor.name}/JS ${br}`}}class Fa{constructor(e,t,o,n){Pt.set(this,void 0),Km(this,Pt,e),this.options=n,this.response=t,this.body=o}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new I("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&typeof t.query=="object")t.query={...t.query,...e.params};else if("url"in e){const o=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[n,u]of o)e.url.searchParams.set(n,u);t.query=void 0,t.path=e.url.toString()}return await Qm(this,Pt,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Pt=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class rb extends so{constructor(e,t,o){super(t,async n=>new o(e,n.response,await Ba(n),n.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}}const tb=r=>new Proxy(Object.fromEntries(r.entries()),{get(e,t){const o=t.toString();return e[o.toLowerCase()]||e[o]}}),ob={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},oe=r=>typeof r=="object"&&r!==null&&!La(r)&&Object.keys(r).every(e=>Ma(ob,e)),nb=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":br,"X-Stainless-OS":Kn(Deno.build.os),"X-Stainless-Arch":Zn(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":br,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":br,"X-Stainless-OS":Kn(process.platform),"X-Stainless-Arch":Zn(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const r=ub();return r?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":br,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${r.browser}`,"X-Stainless-Runtime-Version":r.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":br,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ub(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of r){const o=t.exec(navigator.userAgent);if(o){const n=o[1]||0,u=o[2]||0,a=o[3]||0;return{browser:e,version:`${n}.${u}.${a}`}}}return null}const Zn=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",Kn=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let Qn;const ab=()=>Qn??(Qn=nb()),ib=r=>{try{return JSON.parse(r)}catch{return}},sb=/^[a-z][a-z0-9+.-]*:/i,cb=r=>sb.test(r),kt=r=>new Promise(e=>setTimeout(e,r)),Co=(r,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new I(`${r} must be an integer`);if(e<0)throw new I(`${r} must be a positive integer`);return e},Wo=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null)try{return new Error(JSON.stringify(r))}catch{}return new Error(r)},Bt=r=>{var e,t,o,n;if(typeof process<"u")return((e=xr==null?void 0:xr[r])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(n=(o=(t=Deno.env)==null?void 0:t.get)==null?void 0:o.call(t,r))==null?void 0:n.trim()};function La(r){if(!r)return!0;for(const e in r)return!1;return!0}function Ma(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function eu(r,e){for(const t in e){if(!Ma(e,t))continue;const o=t.toLowerCase();if(!o)continue;const n=e[t];n===null?delete r[o]:n!==void 0&&(r[o]=n)}}const ru=new Set(["authorization","api-key"]);function kr(r,...e){if(typeof process<"u"&&(xr==null?void 0:xr.DEBUG)==="true"){const t=e.map(o=>{if(!o)return o;if(o.headers){const u={...o,headers:{...o.headers}};for(const a in o.headers)ru.has(a.toLowerCase())&&(u.headers[a]="REDACTED");return u}let n=null;for(const u in o)ru.has(u.toLowerCase())&&(n??(n={...o}),n[u]="REDACTED");return n??o});console.log(`OpenAI:DEBUG:${r}`,...t)}}const lb=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)}),db=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",fb=r=>typeof(r==null?void 0:r.get)=="function",It=(r,e)=>{var o;const t=e.toLowerCase();if(fb(r)){const n=((o=e[0])==null?void 0:o.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(u,a,i)=>a+i.toUpperCase());for(const u of[e,t,e.toUpperCase(),n]){const a=r.get(u);if(a)return a}}for(const[n,u]of Object.entries(r))if(n.toLowerCase()===t)return Array.isArray(u)?(u.length<=1||console.warn(`Received ${u.length} entries for the ${e} header, using the first entry.`),u[0]):u};function wo(r){return r!=null&&typeof r=="object"&&!Array.isArray(r)}class hb extends Fa{constructor(e,t,o,n){super(e,t,o,n),this.data=o.data||[],this.object=o.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class me extends Fa{constructor(e,t,o,n){super(e,t,o,n),this.data=o.data||[],this.has_more=o.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var o;const e=this.getPaginatedItems();if(!e.length)return null;const t=(o=e[e.length-1])==null?void 0:o.id;return t?{params:{after:t}}:null}}class M{constructor(e){this._client=e}}let Oa=class extends M{list(e,t={},o){return oe(t)?this.list(e,{},t):this._client.getAPIList(`/chat/completions/${e}/messages`,pb,{query:t,...o})}},co=class extends M{constructor(){super(...arguments),this.messages=new Oa(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(`/chat/completions/${e}`,t)}update(e,t,o){return this._client.post(`/chat/completions/${e}`,{body:t,...o})}list(e={},t){return oe(e)?this.list({},e):this._client.getAPIList("/chat/completions",lo,{query:e,...t})}del(e,t){return this._client.delete(`/chat/completions/${e}`,t)}};class lo extends me{}class pb extends me{}co.ChatCompletionsPage=lo;co.Messages=Oa;let fo=class extends M{constructor(){super(...arguments),this.completions=new co(this._client)}};fo.Completions=co;fo.ChatCompletionsPage=lo;class Na extends M{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:{Accept:"application/octet-stream",...t==null?void 0:t.headers},__binaryResponse:!0})}}class Ua extends M{create(e,t){return this._client.post("/audio/transcriptions",Mr({body:e,...t,__metadata:{model:e.model}}))}}class za extends M{create(e,t){return this._client.post("/audio/translations",Mr({body:e,...t,__metadata:{model:e.model}}))}}class vt extends M{constructor(){super(...arguments),this.transcriptions=new Ua(this._client),this.translations=new za(this._client),this.speech=new Na(this._client)}}vt.Transcriptions=Ua;vt.Translations=za;vt.Speech=Na;class ln extends M{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(e={},t){return oe(e)?this.list({},e):this._client.getAPIList("/batches",dn,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class dn extends me{}ln.BatchesPage=dn;class fn extends M{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,o){return this._client.post(`/assistants/${e}`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(e={},t){return oe(e)?this.list({},e):this._client.getAPIList("/assistants",hn,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class hn extends me{}fn.AssistantsPage=hn;function tu(r){return typeof r.parse=="function"}const vr=r=>(r==null?void 0:r.role)==="assistant",Ya=r=>(r==null?void 0:r.role)==="function",Ha=r=>(r==null?void 0:r.role)==="tool";var Ce=function(r,e,t,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},H=function(r,e,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(r):o?o.value:e.get(r)},Vo,Ht,jt,Gr,Xr,qt,Zr,ze,Kr,Zt,Kt,_r,ja;class qa{constructor(){Vo.add(this),this.controller=new AbortController,Ht.set(this,void 0),jt.set(this,()=>{}),Gr.set(this,()=>{}),Xr.set(this,void 0),qt.set(this,()=>{}),Zr.set(this,()=>{}),ze.set(this,{}),Kr.set(this,!1),Zt.set(this,!1),Kt.set(this,!1),_r.set(this,!1),Ce(this,Ht,new Promise((e,t)=>{Ce(this,jt,e,"f"),Ce(this,Gr,t,"f")}),"f"),Ce(this,Xr,new Promise((e,t)=>{Ce(this,qt,e,"f"),Ce(this,Zr,t,"f")}),"f"),H(this,Ht,"f").catch(()=>{}),H(this,Xr,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},H(this,Vo,"m",ja).bind(this))},0)}_connected(){this.ended||(H(this,jt,"f").call(this),this._emit("connect"))}get ended(){return H(this,Kr,"f")}get errored(){return H(this,Zt,"f")}get aborted(){return H(this,Kt,"f")}abort(){this.controller.abort()}on(e,t){return(H(this,ze,"f")[e]||(H(this,ze,"f")[e]=[])).push({listener:t}),this}off(e,t){const o=H(this,ze,"f")[e];if(!o)return this;const n=o.findIndex(u=>u.listener===t);return n>=0&&o.splice(n,1),this}once(e,t){return(H(this,ze,"f")[e]||(H(this,ze,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,o)=>{Ce(this,_r,!0,"f"),e!=="error"&&this.once("error",o),this.once(e,t)})}async done(){Ce(this,_r,!0,"f"),await H(this,Xr,"f")}_emit(e,...t){if(H(this,Kr,"f"))return;e==="end"&&(Ce(this,Kr,!0,"f"),H(this,qt,"f").call(this));const o=H(this,ze,"f")[e];if(o&&(H(this,ze,"f")[e]=o.filter(n=>!n.once),o.forEach(({listener:n})=>n(...t))),e==="abort"){const n=t[0];!H(this,_r,"f")&&!(o!=null&&o.length)&&Promise.reject(n),H(this,Gr,"f").call(this,n),H(this,Zr,"f").call(this,n),this._emit("end");return}if(e==="error"){const n=t[0];!H(this,_r,"f")&&!(o!=null&&o.length)&&Promise.reject(n),H(this,Gr,"f").call(this,n),H(this,Zr,"f").call(this,n),this._emit("end")}}_emitFinal(){}}Ht=new WeakMap,jt=new WeakMap,Gr=new WeakMap,Xr=new WeakMap,qt=new WeakMap,Zr=new WeakMap,ze=new WeakMap,Kr=new WeakMap,Zt=new WeakMap,Kt=new WeakMap,_r=new WeakMap,Vo=new WeakSet,ja=function(e){if(Ce(this,Zt,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Ae),e instanceof Ae)return Ce(this,Kt,!0,"f"),this._emit("abort",e);if(e instanceof I)return this._emit("error",e);if(e instanceof Error){const t=new I(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new I(String(e)))};function Wa(r){return(r==null?void 0:r.$brand)==="auto-parseable-response-format"}function Ct(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function gb(r,e){return!e||!Va(e)?{...r,choices:r.choices.map(t=>({...t,message:{...t.message,parsed:null,...t.message.tool_calls?{tool_calls:t.message.tool_calls}:void 0}}))}:pn(r,e)}function pn(r,e){const t=r.choices.map(o=>{var n;if(o.finish_reason==="length")throw new Aa;if(o.finish_reason==="content_filter")throw new Ta;return{...o,message:{...o.message,...o.message.tool_calls?{tool_calls:((n=o.message.tool_calls)==null?void 0:n.map(u=>bb(e,u)))??void 0}:void 0,parsed:o.message.content&&!o.message.refusal?mb(e,o.message.content):null}}});return{...r,choices:t}}function mb(r,e){var t,o;return((t=r.response_format)==null?void 0:t.type)!=="json_schema"?null:((o=r.response_format)==null?void 0:o.type)==="json_schema"?"$parseRaw"in r.response_format?r.response_format.$parseRaw(e):JSON.parse(e):null}function bb(r,e){var o;const t=(o=r.tools)==null?void 0:o.find(n=>{var u;return((u=n.function)==null?void 0:u.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Ct(t)?t.$parseRaw(e.function.arguments):t!=null&&t.function.strict?JSON.parse(e.function.arguments):null}}}function _b(r,e){var o;if(!r)return!1;const t=(o=r.tools)==null?void 0:o.find(n=>{var u;return((u=n.function)==null?void 0:u.name)===e.function.name});return Ct(t)||(t==null?void 0:t.function.strict)||!1}function Va(r){var e;return Wa(r.response_format)?!0:((e=r.tools)==null?void 0:e.some(t=>Ct(t)||t.type==="function"&&t.function.strict===!0))??!1}function yb(r){for(const e of r??[]){if(e.type!=="function")throw new I(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new I(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var ae=function(r,e,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(r):o?o.value:e.get(r)},ee,Jo,Qt,Go,Xo,Zo,Ja,Ko;const ou=10;class Ga extends qa{constructor(){super(...arguments),ee.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var o;this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=(o=e.choices[0])==null?void 0:o.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t){if(this._emit("message",e),(Ya(e)||Ha(e))&&e.content)this._emit("functionCallResult",e.content);else if(vr(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(vr(e)&&e.tool_calls)for(const o of e.tool_calls)o.type==="function"&&this._emit("functionCall",o.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new I("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),ae(this,ee,"m",Jo).call(this)}async finalMessage(){return await this.done(),ae(this,ee,"m",Qt).call(this)}async finalFunctionCall(){return await this.done(),ae(this,ee,"m",Go).call(this)}async finalFunctionCallResult(){return await this.done(),ae(this,ee,"m",Xo).call(this)}async totalUsage(){return await this.done(),ae(this,ee,"m",Zo).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=ae(this,ee,"m",Qt).call(this);t&&this._emit("finalMessage",t);const o=ae(this,ee,"m",Jo).call(this);o&&this._emit("finalContent",o);const n=ae(this,ee,"m",Go).call(this);n&&this._emit("finalFunctionCall",n);const u=ae(this,ee,"m",Xo).call(this);u!=null&&this._emit("finalFunctionCallResult",u),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",ae(this,ee,"m",Zo).call(this))}async _createChatCompletion(e,t,o){const n=o==null?void 0:o.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),ae(this,ee,"m",Ja).call(this,t);const u=await e.chat.completions.create({...t,stream:!1},{...o,signal:this.controller.signal});return this._connected(),this._addChatCompletion(pn(u,t))}async _runChatCompletion(e,t,o){for(const n of t.messages)this._addMessage(n,!1);return await this._createChatCompletion(e,t,o)}async _runFunctions(e,t,o){var f;const n="function",{function_call:u="auto",stream:a,...i}=t,s=typeof u!="string"&&(u==null?void 0:u.name),{maxChatCompletions:c=ou}=o||{},d={};for(const p of t.functions)d[p.name||p.function.name]=p;const l=t.functions.map(p=>({name:p.name||p.function.name,parameters:p.parameters,description:p.description}));for(const p of t.messages)this._addMessage(p,!1);for(let p=0;p<c;++p){const g=(f=(await this._createChatCompletion(e,{...i,function_call:u,functions:l,messages:[...this.messages]},o)).choices[0])==null?void 0:f.message;if(!g)throw new I("missing message in ChatCompletion response");if(!g.function_call)return;const{name:b,arguments:k}=g.function_call,m=d[b];if(m){if(s&&s!==b){const v=`Invalid function_call: ${JSON.stringify(b)}. ${JSON.stringify(s)} requested. Please try again`;this._addMessage({role:n,name:b,content:v});continue}}else{const v=`Invalid function_call: ${JSON.stringify(b)}. Available options are: ${l.map(C=>JSON.stringify(C.name)).join(", ")}. Please try again`;this._addMessage({role:n,name:b,content:v});continue}let x;try{x=tu(m)?await m.parse(k):k}catch(v){this._addMessage({role:n,name:b,content:v instanceof Error?v.message:String(v)});continue}const y=await m.function(x,this),E=ae(this,ee,"m",Ko).call(this,y);if(this._addMessage({role:n,name:b,content:E}),s)return}}async _runTools(e,t,o){var p,h,g;const n="tool",{tool_choice:u="auto",stream:a,...i}=t,s=typeof u!="string"&&((p=u==null?void 0:u.function)==null?void 0:p.name),{maxChatCompletions:c=ou}=o||{},d=t.tools.map(b=>{if(Ct(b)){if(!b.$callback)throw new I("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:b.$callback,name:b.function.name,description:b.function.description||"",parameters:b.function.parameters,parse:b.$parseRaw,strict:!0}}}return b}),l={};for(const b of d)b.type==="function"&&(l[b.function.name||b.function.function.name]=b.function);const f="tools"in t?d.map(b=>b.type==="function"?{type:"function",function:{name:b.function.name||b.function.function.name,parameters:b.function.parameters,description:b.function.description,strict:b.function.strict}}:b):void 0;for(const b of t.messages)this._addMessage(b,!1);for(let b=0;b<c;++b){const m=(h=(await this._createChatCompletion(e,{...i,tool_choice:u,tools:f,messages:[...this.messages]},o)).choices[0])==null?void 0:h.message;if(!m)throw new I("missing message in ChatCompletion response");if(!((g=m.tool_calls)!=null&&g.length))return;for(const x of m.tool_calls){if(x.type!=="function")continue;const y=x.id,{name:E,arguments:v}=x.function,C=l[E];if(C){if(s&&s!==E){const P=`Invalid tool_call: ${JSON.stringify(E)}. ${JSON.stringify(s)} requested. Please try again`;this._addMessage({role:n,tool_call_id:y,content:P});continue}}else{const P=`Invalid tool_call: ${JSON.stringify(E)}. Available options are: ${Object.keys(l).map(ue=>JSON.stringify(ue)).join(", ")}. Please try again`;this._addMessage({role:n,tool_call_id:y,content:P});continue}let R;try{R=tu(C)?await C.parse(v):v}catch(P){const ue=P instanceof Error?P.message:String(P);this._addMessage({role:n,tool_call_id:y,content:ue});continue}const T=await C.function(R,this),$=ae(this,ee,"m",Ko).call(this,T);if(this._addMessage({role:n,tool_call_id:y,content:$}),s)return}}}}ee=new WeakSet,Jo=function(){return ae(this,ee,"m",Qt).call(this).content??null},Qt=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(vr(t)){const{function_call:o,...n}=t,u={...n,content:t.content??null,refusal:t.refusal??null};return o&&(u.function_call=o),u}}throw new I("stream ended without producing a ChatCompletionMessage with role=assistant")},Go=function(){var e,t;for(let o=this.messages.length-1;o>=0;o--){const n=this.messages[o];if(vr(n)&&(n!=null&&n.function_call))return n.function_call;if(vr(n)&&((e=n==null?void 0:n.tool_calls)!=null&&e.length))return(t=n.tool_calls.at(-1))==null?void 0:t.function}},Xo=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Ya(t)&&t.content!=null||Ha(t)&&t.content!=null&&typeof t.content=="string"&&this.messages.some(o=>{var n;return o.role==="assistant"&&((n=o.tool_calls)==null?void 0:n.some(u=>u.type==="function"&&u.id===t.tool_call_id))}))return t.content}},Zo=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},Ja=function(e){if(e.n!=null&&e.n>1)throw new I("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Ko=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class nt extends Ga{static runFunctions(e,t,o){const n=new nt,u={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run(()=>n._runFunctions(e,t,u)),n}static runTools(e,t,o){const n=new nt,u={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run(()=>n._runTools(e,t,u)),n}_addMessage(e,t=!0){super._addMessage(e,t),vr(e)&&e.content&&this._emit("content",e.content)}}const Xa=1,Za=2,Ka=4,Qa=8,ei=16,ri=32,ti=64,oi=128,ni=256,ui=oi|ni,ai=ei|ri|ui|ti,ii=Xa|Za|ai,si=Ka|Qa,xb=ii|si,G={STR:Xa,NUM:Za,ARR:Ka,OBJ:Qa,NULL:ei,BOOL:ri,NAN:ti,INFINITY:oi,MINUS_INFINITY:ni,INF:ui,SPECIAL:ai,ATOM:ii,COLLECTION:si,ALL:xb};class kb extends Error{}class vb extends Error{}function Cb(r,e=G.ALL){if(typeof r!="string")throw new TypeError(`expecting str, got ${typeof r}`);if(!r.trim())throw new Error(`${r} is empty`);return wb(r.trim(),e)}const wb=(r,e)=>{const t=r.length;let o=0;const n=f=>{throw new kb(`${f} at position ${o}`)},u=f=>{throw new vb(`${f} at position ${o}`)},a=()=>(l(),o>=t&&n("Unexpected end of input"),r[o]==='"'?i():r[o]==="{"?s():r[o]==="["?c():r.substring(o,o+4)==="null"||G.NULL&e&&t-o<4&&"null".startsWith(r.substring(o))?(o+=4,null):r.substring(o,o+4)==="true"||G.BOOL&e&&t-o<4&&"true".startsWith(r.substring(o))?(o+=4,!0):r.substring(o,o+5)==="false"||G.BOOL&e&&t-o<5&&"false".startsWith(r.substring(o))?(o+=5,!1):r.substring(o,o+8)==="Infinity"||G.INFINITY&e&&t-o<8&&"Infinity".startsWith(r.substring(o))?(o+=8,1/0):r.substring(o,o+9)==="-Infinity"||G.MINUS_INFINITY&e&&1<t-o&&t-o<9&&"-Infinity".startsWith(r.substring(o))?(o+=9,-1/0):r.substring(o,o+3)==="NaN"||G.NAN&e&&t-o<3&&"NaN".startsWith(r.substring(o))?(o+=3,NaN):d()),i=()=>{const f=o;let p=!1;for(o++;o<t&&(r[o]!=='"'||p&&r[o-1]==="\\");)p=r[o]==="\\"?!p:!1,o++;if(r.charAt(o)=='"')try{return JSON.parse(r.substring(f,++o-Number(p)))}catch(h){u(String(h))}else if(G.STR&e)try{return JSON.parse(r.substring(f,o-Number(p))+'"')}catch{return JSON.parse(r.substring(f,r.lastIndexOf("\\"))+'"')}n("Unterminated string literal")},s=()=>{o++,l();const f={};try{for(;r[o]!=="}";){if(l(),o>=t&&G.OBJ&e)return f;const p=i();l(),o++;try{const h=a();Object.defineProperty(f,p,{value:h,writable:!0,enumerable:!0,configurable:!0})}catch(h){if(G.OBJ&e)return f;throw h}l(),r[o]===","&&o++}}catch{if(G.OBJ&e)return f;n("Expected '}' at end of object")}return o++,f},c=()=>{o++;const f=[];try{for(;r[o]!=="]";)f.push(a()),l(),r[o]===","&&o++}catch{if(G.ARR&e)return f;n("Expected ']' at end of array")}return o++,f},d=()=>{if(o===0){r==="-"&&G.NUM&e&&n("Not sure what '-' is");try{return JSON.parse(r)}catch(p){if(G.NUM&e)try{return r[r.length-1]==="."?JSON.parse(r.substring(0,r.lastIndexOf("."))):JSON.parse(r.substring(0,r.lastIndexOf("e")))}catch{}u(String(p))}}const f=o;for(r[o]==="-"&&o++;r[o]&&!",]}".includes(r[o]);)o++;o==t&&!(G.NUM&e)&&n("Unterminated number literal");try{return JSON.parse(r.substring(f,o))}catch{r.substring(f,o)==="-"&&G.NUM&e&&n("Not sure what '-' is");try{return JSON.parse(r.substring(f,r.lastIndexOf("e")))}catch(h){u(String(h))}}},l=()=>{for(;o<t&&` 
\r	`.includes(r[o]);)o++};return a()},nu=r=>Cb(r,G.ALL^G.NUM);var pr=function(r,e,t,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},O=function(r,e,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(r):o?o.value:e.get(r)},q,Ue,gr,je,Eo,Ft,So,Ao,To,Lt,Do,uu;class ut extends Ga{constructor(e){super(),q.add(this),Ue.set(this,void 0),gr.set(this,void 0),je.set(this,void 0),pr(this,Ue,e,"f"),pr(this,gr,[],"f")}get currentChatCompletionSnapshot(){return O(this,je,"f")}static fromReadableStream(e){const t=new ut(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,o){const n=new ut(t);return n._run(()=>n._runChatCompletion(e,{...t,stream:!0},{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),n}async _createChatCompletion(e,t,o){var a;super._createChatCompletion;const n=o==null?void 0:o.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),O(this,q,"m",Eo).call(this);const u=await e.chat.completions.create({...t,stream:!0},{...o,signal:this.controller.signal});this._connected();for await(const i of u)O(this,q,"m",So).call(this,i);if((a=u.controller.signal)!=null&&a.aborted)throw new Ae;return this._addChatCompletion(O(this,q,"m",Lt).call(this))}async _fromReadableStream(e,t){var a;const o=t==null?void 0:t.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),O(this,q,"m",Eo).call(this),this._connected();const n=Ie.fromReadableStream(e,this.controller);let u;for await(const i of n)u&&u!==i.id&&this._addChatCompletion(O(this,q,"m",Lt).call(this)),O(this,q,"m",So).call(this,i),u=i.id;if((a=n.controller.signal)!=null&&a.aborted)throw new Ae;return this._addChatCompletion(O(this,q,"m",Lt).call(this))}[(Ue=new WeakMap,gr=new WeakMap,je=new WeakMap,q=new WeakSet,Eo=function(){this.ended||pr(this,je,void 0,"f")},Ft=function(t){let o=O(this,gr,"f")[t.index];return o||(o={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},O(this,gr,"f")[t.index]=o,o)},So=function(t){var n,u,a,i,s,c,d,l,f,p,h,g,b,k,m;if(this.ended)return;const o=O(this,q,"m",uu).call(this,t);this._emit("chunk",t,o);for(const x of t.choices){const y=o.choices[x.index];x.delta.content!=null&&((n=y.message)==null?void 0:n.role)==="assistant"&&((u=y.message)!=null&&u.content)&&(this._emit("content",x.delta.content,y.message.content),this._emit("content.delta",{delta:x.delta.content,snapshot:y.message.content,parsed:y.message.parsed})),x.delta.refusal!=null&&((a=y.message)==null?void 0:a.role)==="assistant"&&((i=y.message)!=null&&i.refusal)&&this._emit("refusal.delta",{delta:x.delta.refusal,snapshot:y.message.refusal}),((s=x.logprobs)==null?void 0:s.content)!=null&&((c=y.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(d=x.logprobs)==null?void 0:d.content,snapshot:((l=y.logprobs)==null?void 0:l.content)??[]}),((f=x.logprobs)==null?void 0:f.refusal)!=null&&((p=y.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(h=x.logprobs)==null?void 0:h.refusal,snapshot:((g=y.logprobs)==null?void 0:g.refusal)??[]});const E=O(this,q,"m",Ft).call(this,y);y.finish_reason&&(O(this,q,"m",To).call(this,y),E.current_tool_call_index!=null&&O(this,q,"m",Ao).call(this,y,E.current_tool_call_index));for(const v of x.delta.tool_calls??[])E.current_tool_call_index!==v.index&&(O(this,q,"m",To).call(this,y),E.current_tool_call_index!=null&&O(this,q,"m",Ao).call(this,y,E.current_tool_call_index)),E.current_tool_call_index=v.index;for(const v of x.delta.tool_calls??[]){const C=(b=y.message.tool_calls)==null?void 0:b[v.index];C!=null&&C.type&&((C==null?void 0:C.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(k=C.function)==null?void 0:k.name,index:v.index,arguments:C.function.arguments,parsed_arguments:C.function.parsed_arguments,arguments_delta:((m=v.function)==null?void 0:m.arguments)??""}):(C==null||C.type,void 0))}}},Ao=function(t,o){var a,i,s;if(O(this,q,"m",Ft).call(this,t).done_tool_calls.has(o))return;const u=(a=t.message.tool_calls)==null?void 0:a[o];if(!u)throw new Error("no tool call snapshot");if(!u.type)throw new Error("tool call snapshot missing `type`");if(u.type==="function"){const c=(s=(i=O(this,Ue,"f"))==null?void 0:i.tools)==null?void 0:s.find(d=>d.type==="function"&&d.function.name===u.function.name);this._emit("tool_calls.function.arguments.done",{name:u.function.name,index:o,arguments:u.function.arguments,parsed_arguments:Ct(c)?c.$parseRaw(u.function.arguments):c!=null&&c.function.strict?JSON.parse(u.function.arguments):null})}else u.type},To=function(t){var n,u;const o=O(this,q,"m",Ft).call(this,t);if(t.message.content&&!o.content_done){o.content_done=!0;const a=O(this,q,"m",Do).call(this);this._emit("content.done",{content:t.message.content,parsed:a?a.$parseRaw(t.message.content):null})}t.message.refusal&&!o.refusal_done&&(o.refusal_done=!0,this._emit("refusal.done",{refusal:t.message.refusal})),(n=t.logprobs)!=null&&n.content&&!o.logprobs_content_done&&(o.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:t.logprobs.content})),(u=t.logprobs)!=null&&u.refusal&&!o.logprobs_refusal_done&&(o.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:t.logprobs.refusal}))},Lt=function(){if(this.ended)throw new I("stream has ended, this shouldn't happen");const t=O(this,je,"f");if(!t)throw new I("request ended without sending any chunks");return pr(this,je,void 0,"f"),pr(this,gr,[],"f"),Eb(t,O(this,Ue,"f"))},Do=function(){var o;const t=(o=O(this,Ue,"f"))==null?void 0:o.response_format;return Wa(t)?t:null},uu=function(t){var o,n,u,a;let i=O(this,je,"f");const{choices:s,...c}=t;i?Object.assign(i,c):i=pr(this,je,{...c,choices:[]},"f");for(const{delta:d,finish_reason:l,index:f,logprobs:p=null,...h}of t.choices){let g=i.choices[f];if(g||(g=i.choices[f]={finish_reason:l,index:f,message:{},logprobs:p,...h}),p)if(!g.logprobs)g.logprobs=Object.assign({},p);else{const{content:v,refusal:C,...R}=p;Object.assign(g.logprobs,R),v&&((o=g.logprobs).content??(o.content=[]),g.logprobs.content.push(...v)),C&&((n=g.logprobs).refusal??(n.refusal=[]),g.logprobs.refusal.push(...C))}if(l&&(g.finish_reason=l,O(this,Ue,"f")&&Va(O(this,Ue,"f")))){if(l==="length")throw new Aa;if(l==="content_filter")throw new Ta}if(Object.assign(g,h),!d)continue;const{content:b,refusal:k,function_call:m,role:x,tool_calls:y,...E}=d;if(Object.assign(g.message,E),k&&(g.message.refusal=(g.message.refusal||"")+k),x&&(g.message.role=x),m&&(g.message.function_call?(m.name&&(g.message.function_call.name=m.name),m.arguments&&((u=g.message.function_call).arguments??(u.arguments=""),g.message.function_call.arguments+=m.arguments)):g.message.function_call=m),b&&(g.message.content=(g.message.content||"")+b,!g.message.refusal&&O(this,q,"m",Do).call(this)&&(g.message.parsed=nu(g.message.content))),y){g.message.tool_calls||(g.message.tool_calls=[]);for(const{index:v,id:C,type:R,function:T,...$}of y){const P=(a=g.message.tool_calls)[v]??(a[v]={});Object.assign(P,$),C&&(P.id=C),R&&(P.type=R),T&&(P.function??(P.function={name:T.name??"",arguments:""})),T!=null&&T.name&&(P.function.name=T.name),T!=null&&T.arguments&&(P.function.arguments+=T.arguments,_b(O(this,Ue,"f"),P)&&(P.function.parsed_arguments=nu(P.function.arguments)))}}}return i},Symbol.asyncIterator)](){const e=[],t=[];let o=!1;return this.on("chunk",n=>{const u=t.shift();u?u.resolve(n):e.push(n)}),this.on("end",()=>{o=!0;for(const n of t)n.resolve(void 0);t.length=0}),this.on("abort",n=>{o=!0;for(const u of t)u.reject(n);t.length=0}),this.on("error",n=>{o=!0;for(const u of t)u.reject(n);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((u,a)=>t.push({resolve:u,reject:a})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ie(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Eb(r,e){const{id:t,choices:o,created:n,model:u,system_fingerprint:a,...i}=r,s={...i,id:t,choices:o.map(({message:c,finish_reason:d,index:l,logprobs:f,...p})=>{if(!d)throw new I(`missing finish_reason for choice ${l}`);const{content:h=null,function_call:g,tool_calls:b,...k}=c,m=c.role;if(!m)throw new I(`missing role for choice ${l}`);if(g){const{arguments:x,name:y}=g;if(x==null)throw new I(`missing function_call.arguments for choice ${l}`);if(!y)throw new I(`missing function_call.name for choice ${l}`);return{...p,message:{content:h,function_call:{arguments:x,name:y},role:m,refusal:c.refusal??null},finish_reason:d,index:l,logprobs:f}}return b?{...p,index:l,finish_reason:d,logprobs:f,message:{...k,role:m,content:h,refusal:c.refusal??null,tool_calls:b.map((x,y)=>{const{function:E,type:v,id:C,...R}=x,{arguments:T,name:$,...P}=E||{};if(C==null)throw new I(`missing choices[${l}].tool_calls[${y}].id
${Mt(r)}`);if(v==null)throw new I(`missing choices[${l}].tool_calls[${y}].type
${Mt(r)}`);if($==null)throw new I(`missing choices[${l}].tool_calls[${y}].function.name
${Mt(r)}`);if(T==null)throw new I(`missing choices[${l}].tool_calls[${y}].function.arguments
${Mt(r)}`);return{...R,id:C,type:v,function:{...P,name:$,arguments:T}}})}}:{...p,message:{...k,content:h,role:m,refusal:c.refusal??null},finish_reason:d,index:l,logprobs:f}}),created:n,model:u,object:"chat.completion",...a?{system_fingerprint:a}:{}};return gb(s,e)}function Mt(r){return JSON.stringify(r)}class Cr extends ut{static fromReadableStream(e){const t=new Cr(null);return t._run(()=>t._fromReadableStream(e)),t}static runFunctions(e,t,o){const n=new Cr(null),u={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run(()=>n._runFunctions(e,t,u)),n}static runTools(e,t,o){const n=new Cr(t),u={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run(()=>n._runTools(e,t,u)),n}}let ci=class extends M{parse(e,t){return yb(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t==null?void 0:t.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(o=>pn(o,e))}runFunctions(e,t){return e.stream?Cr.runFunctions(this._client,e,t):nt.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?Cr.runTools(this._client,e,t):nt.runTools(this._client,e,t)}stream(e,t){return ut.createChatCompletion(this._client,e,t)}};class Qo extends M{constructor(){super(...arguments),this.completions=new ci(this._client)}}(function(r){r.Completions=ci})(Qo||(Qo={}));class li extends M{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class gn extends M{constructor(){super(...arguments),this.sessions=new li(this._client)}}gn.Sessions=li;var S=function(r,e,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(r):o?o.value:e.get(r)},ce=function(r,e,t,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},K,en,Be,Wt,we,ar,yr,ur,eo,de,Vt,Jt,ot,Qr,et,au,iu,su,cu,lu,du,fu;class Te extends qa{constructor(){super(...arguments),K.add(this),en.set(this,[]),Be.set(this,{}),Wt.set(this,{}),we.set(this,void 0),ar.set(this,void 0),yr.set(this,void 0),ur.set(this,void 0),eo.set(this,void 0),de.set(this,void 0),Vt.set(this,void 0),Jt.set(this,void 0),ot.set(this,void 0)}[(en=new WeakMap,Be=new WeakMap,Wt=new WeakMap,we=new WeakMap,ar=new WeakMap,yr=new WeakMap,ur=new WeakMap,eo=new WeakMap,de=new WeakMap,Vt=new WeakMap,Jt=new WeakMap,ot=new WeakMap,K=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let o=!1;return this.on("event",n=>{const u=t.shift();u?u.resolve(n):e.push(n)}),this.on("end",()=>{o=!0;for(const n of t)n.resolve(void 0);t.length=0}),this.on("abort",n=>{o=!0;for(const u of t)u.reject(n);t.length=0}),this.on("error",n=>{o=!0;for(const u of t)u.reject(n);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((u,a)=>t.push({resolve:u,reject:a})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new Te;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){var u;const o=t==null?void 0:t.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),this._connected();const n=Ie.fromReadableStream(e,this.controller);for await(const a of n)S(this,K,"m",Qr).call(this,a);if((u=n.controller.signal)!=null&&u.aborted)throw new Ae;return this._addRun(S(this,K,"m",et).call(this))}toReadableStream(){return new Ie(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,o,n,u){const a=new Te;return a._run(()=>a._runToolAssistantStream(e,t,o,n,{...u,headers:{...u==null?void 0:u.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,t,o,n,u){var c;const a=u==null?void 0:u.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},s=await e.submitToolOutputs(t,o,i,{...u,signal:this.controller.signal});this._connected();for await(const d of s)S(this,K,"m",Qr).call(this,d);if((c=s.controller.signal)!=null&&c.aborted)throw new Ae;return this._addRun(S(this,K,"m",et).call(this))}static createThreadAssistantStream(e,t,o){const n=new Te;return n._run(()=>n._threadAssistantStream(e,t,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),n}static createAssistantStream(e,t,o,n){const u=new Te;return u._run(()=>u._runAssistantStream(e,t,o,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),u}currentEvent(){return S(this,Vt,"f")}currentRun(){return S(this,Jt,"f")}currentMessageSnapshot(){return S(this,we,"f")}currentRunStepSnapshot(){return S(this,ot,"f")}async finalRunSteps(){return await this.done(),Object.values(S(this,Be,"f"))}async finalMessages(){return await this.done(),Object.values(S(this,Wt,"f"))}async finalRun(){if(await this.done(),!S(this,ar,"f"))throw Error("Final run was not received.");return S(this,ar,"f")}async _createThreadAssistantStream(e,t,o){var i;const n=o==null?void 0:o.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort()));const u={...t,stream:!0},a=await e.createAndRun(u,{...o,signal:this.controller.signal});this._connected();for await(const s of a)S(this,K,"m",Qr).call(this,s);if((i=a.controller.signal)!=null&&i.aborted)throw new Ae;return this._addRun(S(this,K,"m",et).call(this))}async _createAssistantStream(e,t,o,n){var s;const u=n==null?void 0:n.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const a={...o,stream:!0},i=await e.create(t,a,{...n,signal:this.controller.signal});this._connected();for await(const c of i)S(this,K,"m",Qr).call(this,c);if((s=i.controller.signal)!=null&&s.aborted)throw new Ae;return this._addRun(S(this,K,"m",et).call(this))}static accumulateDelta(e,t){for(const[o,n]of Object.entries(t)){if(!e.hasOwnProperty(o)){e[o]=n;continue}let u=e[o];if(u==null){e[o]=n;continue}if(o==="index"||o==="type"){e[o]=n;continue}if(typeof u=="string"&&typeof n=="string")u+=n;else if(typeof u=="number"&&typeof n=="number")u+=n;else if(wo(u)&&wo(n))u=this.accumulateDelta(u,n);else if(Array.isArray(u)&&Array.isArray(n)){if(u.every(a=>typeof a=="string"||typeof a=="number")){u.push(...n);continue}for(const a of n){if(!wo(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const i=a.index;if(i==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof i!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${i}`);const s=u[i];s==null?u.push(a):u[i]=this.accumulateDelta(s,a)}continue}else throw Error(`Unhandled record type: ${o}, deltaValue: ${n}, accValue: ${u}`);e[o]=u}return e}_addRun(e){return e}async _threadAssistantStream(e,t,o){return await this._createThreadAssistantStream(t,e,o)}async _runAssistantStream(e,t,o,n){return await this._createAssistantStream(t,e,o,n)}async _runToolAssistantStream(e,t,o,n,u){return await this._createToolAssistantStream(o,e,t,n,u)}}Qr=function(e){if(!this.ended)switch(ce(this,Vt,e,"f"),S(this,K,"m",su).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":S(this,K,"m",fu).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":S(this,K,"m",iu).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":S(this,K,"m",au).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},et=function(){if(this.ended)throw new I("stream has ended, this shouldn't happen");if(!S(this,ar,"f"))throw Error("Final run has not been received");return S(this,ar,"f")},au=function(e){const[t,o]=S(this,K,"m",lu).call(this,e,S(this,we,"f"));ce(this,we,t,"f"),S(this,Wt,"f")[t.id]=t;for(const n of o){const u=t.content[n.index];(u==null?void 0:u.type)=="text"&&this._emit("textCreated",u.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if(n.type=="text"&&n.text){let u=n.text,a=t.content[n.index];if(a&&a.type=="text")this._emit("textDelta",u,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(n.index!=S(this,yr,"f")){if(S(this,ur,"f"))switch(S(this,ur,"f").type){case"text":this._emit("textDone",S(this,ur,"f").text,S(this,we,"f"));break;case"image_file":this._emit("imageFileDone",S(this,ur,"f").image_file,S(this,we,"f"));break}ce(this,yr,n.index,"f")}ce(this,ur,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(S(this,yr,"f")!==void 0){const n=e.data.content[S(this,yr,"f")];if(n)switch(n.type){case"image_file":this._emit("imageFileDone",n.image_file,S(this,we,"f"));break;case"text":this._emit("textDone",n.text,S(this,we,"f"));break}}S(this,we,"f")&&this._emit("messageDone",e.data),ce(this,we,void 0,"f")}},iu=function(e){const t=S(this,K,"m",cu).call(this,e);switch(ce(this,ot,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const o=e.data.delta;if(o.step_details&&o.step_details.type=="tool_calls"&&o.step_details.tool_calls&&t.step_details.type=="tool_calls")for(const u of o.step_details.tool_calls)u.index==S(this,eo,"f")?this._emit("toolCallDelta",u,t.step_details.tool_calls[u.index]):(S(this,de,"f")&&this._emit("toolCallDone",S(this,de,"f")),ce(this,eo,u.index,"f"),ce(this,de,t.step_details.tool_calls[u.index],"f"),S(this,de,"f")&&this._emit("toolCallCreated",S(this,de,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ce(this,ot,void 0,"f"),e.data.step_details.type=="tool_calls"&&S(this,de,"f")&&(this._emit("toolCallDone",S(this,de,"f")),ce(this,de,void 0,"f")),this._emit("runStepDone",e.data,t);break}},su=function(e){S(this,en,"f").push(e),this._emit("event",e)},cu=function(e){switch(e.event){case"thread.run.step.created":return S(this,Be,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=S(this,Be,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let o=e.data;if(o.delta){const n=Te.accumulateDelta(t,o.delta);S(this,Be,"f")[e.data.id]=n}return S(this,Be,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":S(this,Be,"f")[e.data.id]=e.data;break}if(S(this,Be,"f")[e.data.id])return S(this,Be,"f")[e.data.id];throw new Error("No snapshot available")},lu=function(e,t){let o=[];switch(e.event){case"thread.message.created":return[e.data,o];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let n=e.data;if(n.delta.content)for(const u of n.delta.content)if(u.index in t.content){let a=t.content[u.index];t.content[u.index]=S(this,K,"m",du).call(this,u,a)}else t.content[u.index]=u,o.push(u);return[t,o];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,o];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},du=function(e,t){return Te.accumulateDelta(t,e)},fu=function(e){switch(ce(this,Jt,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ce(this,ar,e.data,"f"),S(this,de,"f")&&(this._emit("toolCallDone",S(this,de,"f")),ce(this,de,void 0,"f"));break}};class mn extends M{create(e,t,o){return this._client.post(`/threads/${e}/messages`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}retrieve(e,t,o){return this._client.get(`/threads/${e}/messages/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}update(e,t,o,n){return this._client.post(`/threads/${e}/messages/${t}`,{body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e,t={},o){return oe(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,bn,{query:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}del(e,t,o){return this._client.delete(`/threads/${e}/messages/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}}class bn extends me{}mn.MessagesPage=bn;class _n extends M{retrieve(e,t,o,n={},u){return oe(n)?this.retrieve(e,t,o,{},n):this._client.get(`/threads/${e}/runs/${t}/steps/${o}`,{query:n,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}list(e,t,o={},n){return oe(o)?this.list(e,t,{},o):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,yn,{query:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class yn extends me{}_n.RunStepsPage=yn;class wt extends M{constructor(){super(...arguments),this.steps=new _n(this._client)}create(e,t,o){const{include:n,...u}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:n},body:u,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers},stream:t.stream??!1})}retrieve(e,t,o){return this._client.get(`/threads/${e}/runs/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}update(e,t,o,n){return this._client.post(`/threads/${e}/runs/${t}`,{body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e,t={},o){return oe(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,xn,{query:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}cancel(e,t,o){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async createAndPoll(e,t,o){const n=await this.create(e,t,o);return await this.poll(e,n.id,o)}createAndStream(e,t,o){return Te.createAssistantStream(e,this._client.beta.threads.runs,t,o)}async poll(e,t,o){const n={...o==null?void 0:o.headers,"X-Stainless-Poll-Helper":"true"};for(o!=null&&o.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=o.pollIntervalMs.toString());;){const{data:u,response:a}=await this.retrieve(e,t,{...o,headers:{...o==null?void 0:o.headers,...n}}).withResponse();switch(u.status){case"queued":case"in_progress":case"cancelling":let i=5e3;if(o!=null&&o.pollIntervalMs)i=o.pollIntervalMs;else{const s=a.headers.get("openai-poll-after-ms");if(s){const c=parseInt(s);isNaN(c)||(i=c)}}await kt(i);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return u}}}stream(e,t,o){return Te.createAssistantStream(e,this._client.beta.threads.runs,t,o)}submitToolOutputs(e,t,o,n){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:o.stream??!1})}async submitToolOutputsAndPoll(e,t,o,n){const u=await this.submitToolOutputs(e,t,o,n);return await this.poll(e,u.id,n)}submitToolOutputsStream(e,t,o,n){return Te.createToolAssistantStream(e,t,this._client.beta.threads.runs,o,n)}}class xn extends me{}wt.RunsPage=xn;wt.Steps=_n;wt.RunStepsPage=yn;class zr extends M{constructor(){super(...arguments),this.runs=new wt(this._client),this.messages=new mn(this._client)}create(e={},t){return oe(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,o){return this._client.post(`/threads/${e}`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const o=await this.createAndRun(e,t);return await this.runs.poll(o.thread_id,o.id,t)}createAndRunStream(e,t){return Te.createThreadAssistantStream(e,this._client.beta.threads,t)}}zr.Runs=wt;zr.RunsPage=xn;zr.Messages=mn;zr.MessagesPage=bn;const Sb=async r=>{const e=await Promise.allSettled(r),t=e.filter(n=>n.status==="rejected");if(t.length){for(const n of t)console.error(n.reason);throw new Error(`${t.length} promise(s) failed - see the above errors`)}const o=[];for(const n of e)n.status==="fulfilled"&&o.push(n.value);return o};let kn=class extends M{create(e,t,o){return this._client.post(`/vector_stores/${e}/files`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}retrieve(e,t,o){return this._client.get(`/vector_stores/${e}/files/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(e,t={},o){return oe(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,ho,{query:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}del(e,t,o){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async createAndPoll(e,t,o){const n=await this.create(e,t,o);return await this.poll(e,n.id,o)}async poll(e,t,o){const n={...o==null?void 0:o.headers,"X-Stainless-Poll-Helper":"true"};for(o!=null&&o.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=o.pollIntervalMs.toString());;){const u=await this.retrieve(e,t,{...o,headers:n}).withResponse(),a=u.data;switch(a.status){case"in_progress":let i=5e3;if(o!=null&&o.pollIntervalMs)i=o.pollIntervalMs;else{const s=u.response.headers.get("openai-poll-after-ms");if(s){const c=parseInt(s);isNaN(c)||(i=c)}}await kt(i);break;case"failed":case"completed":return a}}}async upload(e,t,o){const n=await this._client.files.create({file:t,purpose:"assistants"},o);return this.create(e,{file_id:n.id},o)}async uploadAndPoll(e,t,o){const n=await this.upload(e,t,o);return await this.poll(e,n.id,o)}};class ho extends me{}kn.VectorStoreFilesPage=ho;class di extends M{create(e,t,o){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}retrieve(e,t,o){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}cancel(e,t,o){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async createAndPoll(e,t,o){const n=await this.create(e,t);return await this.poll(e,n.id,o)}listFiles(e,t,o={},n){return oe(o)?this.listFiles(e,t,{},o):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,ho,{query:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async poll(e,t,o){const n={...o==null?void 0:o.headers,"X-Stainless-Poll-Helper":"true"};for(o!=null&&o.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=o.pollIntervalMs.toString());;){const{data:u,response:a}=await this.retrieve(e,t,{...o,headers:n}).withResponse();switch(u.status){case"in_progress":let i=5e3;if(o!=null&&o.pollIntervalMs)i=o.pollIntervalMs;else{const s=a.headers.get("openai-poll-after-ms");if(s){const c=parseInt(s);isNaN(c)||(i=c)}}await kt(i);break;case"failed":case"cancelled":case"completed":return u}}}async uploadAndPoll(e,{files:t,fileIds:o=[]},n){if(t==null||t.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const u=(n==null?void 0:n.maxConcurrency)??5,a=Math.min(u,t.length),i=this._client,s=t.values(),c=[...o];async function d(f){for(let p of f){const h=await i.files.create({file:p,purpose:"assistants"},n);c.push(h.id)}}const l=Array(a).fill(s).map(d);return await Sb(l),await this.createAndPoll(e,{file_ids:c})}}class Yr extends M{constructor(){super(...arguments),this.files=new kn(this._client),this.fileBatches=new di(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,o){return this._client.post(`/vector_stores/${e}`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(e={},t){return oe(e)?this.list({},e):this._client.getAPIList("/vector_stores",vn,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class vn extends me{}Yr.VectorStoresPage=vn;Yr.Files=kn;Yr.VectorStoreFilesPage=ho;Yr.FileBatches=di;class or extends M{constructor(){super(...arguments),this.realtime=new gn(this._client),this.vectorStores=new Yr(this._client),this.chat=new Qo(this._client),this.assistants=new fn(this._client),this.threads=new zr(this._client)}}or.Realtime=gn;or.VectorStores=Yr;or.VectorStoresPage=vn;or.Assistants=fn;or.AssistantsPage=hn;or.Threads=zr;class fi extends M{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class hi extends M{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}class Cn extends M{create(e,t){return this._client.post("/files",Mr({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return oe(e)?this.list({},e):this._client.getAPIList("/files",wn,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/binary",...t==null?void 0:t.headers},__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,t)}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:o=30*60*1e3}={}){const n=new Set(["processed","error","deleted"]),u=Date.now();let a=await this.retrieve(e);for(;!a.status||!n.has(a.status);)if(await kt(t),a=await this.retrieve(e),Date.now()-u>o)throw new cn({message:`Giving up on waiting for file ${e} to finish processing after ${o} milliseconds.`});return a}}class wn extends me{}Cn.FileObjectsPage=wn;class En extends M{list(e,t={},o){return oe(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Sn,{query:t,...o})}}class Sn extends me{}En.FineTuningJobCheckpointsPage=Sn;class Hr extends M{constructor(){super(...arguments),this.checkpoints=new En(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return oe(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",An,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},o){return oe(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Tn,{query:t,...o})}}class An extends me{}class Tn extends me{}Hr.FineTuningJobsPage=An;Hr.FineTuningJobEventsPage=Tn;Hr.Checkpoints=En;Hr.FineTuningJobCheckpointsPage=Sn;class Et extends M{constructor(){super(...arguments),this.jobs=new Hr(this._client)}}Et.Jobs=Hr;Et.FineTuningJobsPage=An;Et.FineTuningJobEventsPage=Tn;class pi extends M{createVariation(e,t){return this._client.post("/images/variations",Mr({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",Mr({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}class Dn extends M{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",Rn,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class Rn extends hb{}Dn.ModelsPage=Rn;class gi extends M{create(e,t){return this._client.post("/moderations",{body:e,...t})}}class mi extends M{create(e,t,o){return this._client.post(`/uploads/${e}/parts`,Mr({body:t,...o}))}}class $n extends M{constructor(){super(...arguments),this.parts=new mi(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,o){return this._client.post(`/uploads/${e}/complete`,{body:t,...o})}}$n.Parts=mi;var bi;class F extends eb{constructor({baseURL:e=Bt("OPENAI_BASE_URL"),apiKey:t=Bt("OPENAI_API_KEY"),organization:o=Bt("OPENAI_ORG_ID")??null,project:n=Bt("OPENAI_PROJECT_ID")??null,...u}={}){if(t===void 0)throw new I("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:t,organization:o,project:n,...u,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&db())throw new I(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new fi(this),this.chat=new fo(this),this.embeddings=new hi(this),this.files=new Cn(this),this.images=new pi(this),this.audio=new vt(this),this.moderations=new gi(this),this.models=new Dn(this),this.fineTuning=new Et(this),this.beta=new or(this),this.batches=new ln(this),this.uploads=new $n(this),this._options=a,this.apiKey=t,this.organization=o,this.project=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return Lm(e,{arrayFormat:"brackets"})}}bi=F;F.OpenAI=bi;F.DEFAULT_TIMEOUT=6e5;F.OpenAIError=I;F.APIError=Q;F.APIConnectionError=uo;F.APIConnectionTimeoutError=cn;F.APIUserAbortError=Ae;F.NotFoundError=va;F.ConflictError=Ca;F.RateLimitError=Ea;F.BadRequestError=ya;F.AuthenticationError=xa;F.InternalServerError=Sa;F.PermissionDeniedError=ka;F.UnprocessableEntityError=wa;F.toFile=Pa;F.fileFromPath=ba;F.Completions=fi;F.Chat=fo;F.ChatCompletionsPage=lo;F.Embeddings=hi;F.Files=Cn;F.FileObjectsPage=wn;F.Images=pi;F.Audio=vt;F.Moderations=gi;F.Models=Dn;F.ModelsPage=Rn;F.FineTuning=Et;F.Beta=or;F.Batches=ln;F.BatchesPage=dn;F.Uploads=$n;class Ab{constructor(e){this.loadFromDict(e),this._api=new F({apiKey:this.apiKey,baseURL:this.baseURL,dangerouslyAllowBrowser:!0})}loadFromDict(e){this.baseURL=(e==null?void 0:e.baseURL)??(e==null?void 0:e.baseUrl)??"https://api.openai.com/v1",this.apiKey=(e==null?void 0:e.apiKey)??"",this.defaultModel=(e==null?void 0:e.defaultModel)??"deepseek-chat",this.modelsURL=(e==null?void 0:e.modelsURL)??(e==null?void 0:e.modelsUrl)??"/models"}setAPIKey(e){this.apiKey=e,this._api.apiKey=e}setBaseURL(e){this.baseURL=e,this._api.baseURL=e}setModelsUrl(e){this.modelsURL=e}async listModels(){const e=await fetch(`${this.baseURL}${this.modelsURL}`,{headers:{Authorization:`Bearer ${this.apiKey}`}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()}async createChat__(e,t){return this._api.chat.completions.create(e,t)}async fetchChatResponse(e,t){return await fetch(`${this.baseURL}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`,...(t==null?void 0:t.headers)??{}},body:JSON.stringify(e)})}async createChat(e,t){const o=await this.fetchChatResponse(e,t);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return o.json()}async*createChatStream(e,t){var o;try{const n=await this.fetchChatResponse(e,t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const u=n.body.getReader(),a=new TextDecoder("utf-8");let i="";for(;;){const{done:s,value:c}=await u.read();if(s)break;const d=a.decode(c,{stream:!0});i+=d;const l=i.split(`
`);i=l.pop()??"";for(const f of l)if((o=f.trim())!=null&&o.length&&f.trim()!=": keep-alive")try{const p=f.trim().slice(5).trim();if(p=="[DONE]"){yield{done:!0};continue}yield JSON.parse(p)}catch(p){console.error("Error parsing JSON:",p,f)}}}catch(n){throw console.error("Error streaming LLM JSON data:",n),n}}async*chatStream(e,t=void 0,o=[],n={},u=!1){var a,i;for await(const s of this.createChatStream({model:this.defaultModel,messages:[...t!=null&&t.length?[{role:"system",content:t}]:[],...o??[],...u?[]:[{role:"user",content:e}]],temperature:.6,stream:!0,...n??{}})){const c=(i=(a=s==null?void 0:s.choices)==null?void 0:a[0])==null?void 0:i.delta;if(c!=null&&(yield c),s.done){yield{done:!0};break}}}async chat(e,t=void 0,o=[],n={}){var u;const a=await this.createChat({model:this.defaultModel,messages:[...t!=null&&t.length?[{role:"system",content:t}]:[],...o??[],{role:"user",content:e}],temperature:.6,...n??{}}),{choices:i=[]}=a;return(u=i==null?void 0:i[0])==null?void 0:u.message}async*chatWithLifeCycle(e,t,o,n,u){const{chunkProcessor:a,resultProcessor:i,onStart:s,onBeforeUpdate:c,onAfterUpdate:d,onDone:l,onEnd:f,onCancel:p,onErrorInUpdate:h,onError:g,shouldContinue:b}=u??{};let k="initialization",m=A.cloneDeep(o),x,y=-1;k="beforeStart";const E=await(s==null?void 0:s({result:m}));k="afterStart",m=(E==null?void 0:E.result)??m;try{k="beforeLoop";for await(let C of this.chatStream("",e,t,n,!0))try{if(y+=1,C==null)continue;k=`beforeBeforeUpdate_${y}`;const R=await(c==null?void 0:c({result:m,chunk:C,idx:y}));m=(R==null?void 0:R.result)??m,C=(R==null?void 0:R.chunk)??C,k=`beforeChunkProcessor_${y}`,x=await(a==null?void 0:a(m,C)),yield{result:m,chunk:C,processedChunk:x},k=`beforeAfterUpdate_${y}`;const T=await(d==null?void 0:d({result:m,chunk:C,processedChunk:x,idx:y}));if(m=(T==null?void 0:T.result)??m,C=(T==null?void 0:T.chunk)??C,x=(T==null?void 0:T.processedChunk)??x,k=`afterAfterUpdate_${y}`,C!=null&&C.done){k=`beforeDone_${y}`;const $=await(l==null?void 0:l({result:m,chunk:C,processedChunk:x}));m=($==null?void 0:$.result)??m,C=($==null?void 0:$.chunk)??C,x=($==null?void 0:$.processedChunk)??x,k=`afterDone_${y}`;break}if(b!=null&&!await b({result:m,chunk:C,processedChunk:x,idx:y})){k=`beforeCancel_${y}`,await(p==null?void 0:p({result:m,chunk:C,processedChunk:x,idx:y})),k=`afterCancel_${y}`;break}}catch(R){if(await(h==null?void 0:h({error:R,result:m,chunk:C,processedChunk:x,idx:y,state:k})))continue;throw R}k="afterLoop",k="beforeFinalResult";const v=await(i==null?void 0:i(m));return k="beforeEnd",await(f==null?void 0:f({finalResult:v,result:m,processedChunk:x,idx:y})),k="afterEnd",v}catch(v){if(!await(g==null?void 0:g({error:v,result:m,processedChunk:x,idx:y,state:k})))throw console.error("Stream processing error:",v),new Error(`Chat stream failed: ${v.message}`)}}}const Tb=[{name:"DeepSeek",type:"ChatSupplier",desc:"DeepSeek",docUrl:"https://platform.deepseek.com/docs",baseUrl:"https://api.deepseek.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://help.aliyun.com/zh/model-studio/user-guide/multi-round-conversation?spm=a2c4g.11186623.help-menu-2400256.d_1_0_0_4.1b54b0a8Obvgrf",baseUrl:"https://dashscope.aliyuncs.com/compatible-mode/v1",defaultModel:"deepseek-v3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://doc.zhizengzeng.com/",baseUrl:"https://api.zhizengzeng.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://docs.siliconflow.cn/",baseUrl:"https://api.siliconflow.cn/v1",defaultModel:"deepseek-ai/DeepSeek-V3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"ZhiPu",type:"ChatSupplier",desc:"",docUrl:"https://open.bigmodel.cn/dev/api",baseUrl:"https://open.bigmodel.cn/api/paas/v4",defaultModel:"glm-4",chatUrl:"/chat/completions",modelsUrl:"/models",models:[{id:"glm-4"},{id:"glm-4-air"},{id:"glm-4-flash"},{id:"glm-3-turbo"}]},{name:"Moonshot",type:"ChatSupplier",desc:"Moonshot",docUrl:"https://platform.moonshot.cn/docs/api-reference",baseUrl:"https://api.moonshot.cn/v1",defaultModel:"moonshot-v1-8k",chatUrl:"/chat/completions",modelsUrl:"/models",balanceUrl:"/users/me/balance",countTokenUrl:"/tokenizers/estimate-token-count"},{name:"OpenAI",type:"ChatSupplier",desc:"OpenAI",docUrl:"https://platform.openai.com/docs/api-reference/chat",baseUrl:"https://api.openai.com/v1",defaultModel:"gpt-3.5-turbo",chatUrl:"/chat/completions",modelsUrl:"/models",notes:`
    https://cookbook.openai.com/examples/how_to_count_tokens_with_tiktoken
    `.trim()}],_i=new sn("DBOfLifeRestartAI");_i.version(1).stores({kvs:"++id, &key, value",functions:"++id, &name, config",records:"++id, supplier, function, input, output",chats:"++id, title"});const yi=_i,at=async r=>{var t;const e=(t=await yi.kvs.get({key:r}))==null?void 0:t.value;return e==null?null:er.parse(e)},it=async(r,e)=>{const t=er.stringify(e);await yi.kvs.put({id:r,key:r,value:t})},hu=async r=>new Promise(e=>{setTimeout(()=>{e({})},r)}),Db=async(r,e)=>{var n;const t=e.apiKeyDict,o=e.supplierModelsDict;try{const u=`Bearer ${t[r.name]}`;console.log({supplier:r,apiKeyDict:t,Authorization:u});let a;try{const c=await fetch(`${r.baseUrl}${r.modelsUrl}`);if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);a={data:await c.json()},console.log(a)}catch(c){try{const d=await fetch(`${r.baseUrl}${r.modelsUrl}`,{headers:{Authorization:u}});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);a={data:await d.json()},console.log(a)}catch(d){console.warn(c),console.warn(d)}}let i=((n=a==null?void 0:a.data)==null?void 0:n.data)??[];console.log({models:i}),i!=null&&i.length||(i=(r==null?void 0:r.models)??[]);const s={...o};s[r.name]=i,e.supplierModelsDict=s,it("supplierForm",e)}catch(u){console.warn(u)}},Rb=`

5

#### 
- 
- 
- 
- 
- 5

#### 
- 5
- 0~10100

#### 
- 5
- 
- 
- 
- 
`.trim();function $b(r){const{age:e,content:t,output:o}=r,n=`${e}`,u=(t??[]).map(a=>{if((a==null?void 0:a.type)=="TLT")return`${a==null?void 0:a.name}${a==null?void 0:a.description}`;if((a==null?void 0:a.type)=="EVT")return`${a==null?void 0:a.description} ${(a==null?void 0:a.postEvent)??""}`});return{brief:`${n}
${u.join(`
`)}`,output:o}}function Pb(r){const e=[["CHR",""],["INT",""],["STR",""],["MNY",""],["SPR",""]].map(([u,a])=>{var i;return`${a}:${(i=r.state)==null?void 0:i[u]}`}).join(`
`),t=r.lifeStory.map($b),o=t.pop(),n=t.map(u=>u.output??u.brief);return n.unshift("==========[]=========="),n.push("==========[]=========="),n.push(e),n.push("==========[]=========="),n.push((o==null?void 0:o.brief)??""),n.join(`

`)}async function Bb(r,e,t){var d,l,f,p,h;r.processing=!0,r.thinking="",r.output="";const o=[],n=[],u={},a={baseURL:(d=e==null?void 0:e.selectedSupplier)==null?void 0:d.baseUrl,apiKey:e==null?void 0:e.apiKeyDict[(l=e==null?void 0:e.selectedSupplier)==null?void 0:l.name],defaultModel:(h=(p=e==null?void 0:e.selectedModelDict)==null?void 0:p[(f=e==null?void 0:e.selectedSupplier)==null?void 0:f.name])==null?void 0:h.name},i=new Ab(a),s={chunkProcessor:async(g,b)=>{var k,m;if(b.reasoning_content&&(o.push(b.reasoning_content),r.thinking=o.join("")),b.content){n.push(b.content),r.output=n.join("");const x=(m=r==null?void 0:r.lifeStory)==null?void 0:m[(((k=r==null?void 0:r.lifeStory)==null?void 0:k.length)??0)-1];x&&(x.output=r.output)}return b},resultProcessor:async g=>g,onAfterUpdate:async()=>{await(t==null?void 0:t())}},c=i.chatWithLifeCycle(Rb,[{role:"user",content:Pb(r)}],u,{max_tokens:2e3,temperature:1},s);for await(const g of c);r.processing=!1}const Ib="modulepreload",Fb=function(r){return"/lifeRestart-AI/"+r},pu={},Wr=function(e,t,o){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(t.map(s=>{if(s=Fb(s),s in pu)return;pu[s]=!0;const c=s.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${d}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":Ib,c||(l.as="script"),l.crossOrigin="",l.href=s,i&&l.setAttribute("nonce",i),document.head.appendChild(l),c)return new Promise((f,p)=>{l.addEventListener("load",f),l.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})}))}function u(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return n.then(a=>{for(const i of a||[])i.status==="rejected"&&u(i.reason);return e().catch(u)})};function Or(r){return[r==0?"bg-gray-600! text-gray-100!":null,r==1?"bg-blue-600! text-blue-100!":null,r==2?"bg-purple-600! text-purple-100!":null,r==3?"bg-orange-600! text-orange-100!":null]}const gu=Object.assign({"../../../data/achievement.json":()=>Wr(()=>import("./achievement-D21YooZj.js"),[]),"../../../data/age.json":()=>Wr(()=>import("./age-CYyZIiBh.js"),[]),"../../../data/character.json":()=>Wr(()=>import("./character-B3vnJKJs.js"),[]),"../../../data/events.json":()=>Wr(()=>import("./events-CYj35J_H.js"),[]),"../../../data/talents.json":()=>Wr(()=>import("./talents-BchTCr5_.js"),[])});async function Lb(r){const e=`../../../data/${r}.json`,t=gu[e];if(!t)throw console.error(`Unknown game data file: ${r}`,{path:e,available:Object.keys(gu)}),new Error(`Unknown game data file: ${r}`);const o=(await t()).default;return A.cloneDeep(o)}const Mb={UI_Next:"",UI_Back:"",UI_Skip:"",UI_Done:"",UI_Cancel:"",UI_Confirm:"",UI_Retry:"",UI_Yes:"",UI_No:"",UI_OK:"",UI_Close:"",UI_Open:"",UI_Search:"",UI_Loading:"...",UI_Error:"",UI_BackupBtn:"",UI_Colon:"",UI_Times:"",UI_Count:"",UI_Property_Charm:"",UI_Property_Intelligence:"",UI_Property_Strength:"",UI_Property_Money:"",UI_Property_Spirit:"",UI_Title_Remake:"",UI_Title_Subsequent:"",UI_Remake:"",UI_Thanks:"",UI_Achievement:"",UI_Cyber_Theme_Art_Design:"UI  by ",UI_Title_Talent:"",UI_Talent_Draw:"10",UI_Talent_Select_Uncomplete:" 3 ",UI_Title_Property:"",UI_Left_Property_Point:"",UI_Selected_Talent:"",UI_Random_Allocate:"",UI_Make_New_Life:"",UI_Manual:"",UI_Auto:"",UI_Goto_Summary:"",UI_Title_Summary:"",UI_Talent_Extend:"",UI_Remake_Again:"",UI_Final_Age:"",UI_Total_Judge:"",UI_Achievement_Count:"",UI_Remake_Times:"",UI_Event_Collection_Rate:"",UI_Talent_Collection_Rate:"",UI_Statistics:"",UI_Rank:"",UI_Achievement_Achieve:"",UI_Judge_Level_0:"",UI_Judge_Level_1:"",UI_Judge_Level_2:"",UI_Judge_Level_3:"",UI_Judge_Level_4:"",UI_Judge_Level_5:"",UI_Judge_Level_6:"",UI_Judge_Level_7:"",UI_Spirit_Judge_Level_0:"",UI_Spirit_Judge_Level_1:"",UI_Spirit_Judge_Level_2:"",UI_Spirit_Judge_Level_3:"",UI_Spirit_Judge_Level_4:"",UI_Spirit_Judge_Level_5:"",UI_Spirit_Judge_Level_6:"",UI_AGE_Judge_Level_0:"",UI_AGE_Judge_Level_1:"",UI_AGE_Judge_Level_2:"",UI_AGE_Judge_Level_3:"",UI_AGE_Judge_Level_4:"",UI_AGE_Judge_Level_5:"",UI_AGE_Judge_Level_6:"",UI_AGE_Judge_Level_7:"",UI_AGE_Judge_Level_8:"",UI_AGE_Judge_Level_9:"",UI_AGE_Judge_Level_10:"",UI_AGE_Judge_Level_11:"",UI_Intelligence_Judge_Level_7:"",UI_Intelligence_Judge_Level_8:"",UI_Intelligence_Judge_Level_9:"",UI_Strength_Judge_Level_7:"",UI_Strength_Judge_Level_8:"",UI_Strength_Judge_Level_9:"",UI_Strength_Judge_Level_10:"",UI_Strength_Judge_Level_11:"",UI_Remake_Times_Judge_Level_0:"",UI_Remake_Times_Judge_Level_1:"",UI_Remake_Times_Judge_Level_2:"",UI_Remake_Times_Judge_Level_3:"",UI_Remake_Times_Judge_Level_4:"",UI_Remake_Times_Judge_Level_5:"",UI_Achievement_Count_Judge_Level_0:"",UI_Achievement_Count_Judge_Level_1:"",UI_Achievement_Count_Judge_Level_2:"",UI_Achievement_Count_Judge_Level_3:"",UI_Achievement_Count_Judge_Level_4:"",UI_Achievement_Count_Judge_Level_5:"",UI_Support_Programmer:"()",UI_Support_Designer:"()",UI_Save:"",UI_Load:"",UI_Read:"",UI_Write:"",UI_LoadSuccess:"",UI_LoadFailed:"",UI_CopySuccess:"",UI_CopyFailed:"",UI_PasteSuccessDecodeSuccess:"",UI_PasteSuccessDecodeFailed:"",UI_PasteFailedDecodeSuccess:"",UI_PasteFailedDecodeFailed:"",UI_Title_Celebrity:"...",UI_CustomMode:"",UI_CustomModeDescription:`10
`,UI_CelebrityMode:"",UI_CelebrityModeDescription:`
`,UI_AllNot:"",UI_UniqueWaTaShi:"",UI_UniqueWaTaShiContent:`
6000
  
 `,UI_GenerateNow:"",M_NoRank:"",M_PleaseSelectOne:"",M_UnGenerate:"",M_DisableExtendTalent:"",F_RemakeTimes:"{0}",F_AchievementCount:"{0}",F_TalentSelection:"{name}{description}",F_TalentConflict:"{0}",F_TalentSelectLimit:" {0} ",F_TalentSelectNotComplect:"{0}",F_PropertyPointLeft:" {0} ",F_TalentReplace:"{source.name}->{target.name}",F_PropertyStr:"{CHR} {INT} {STR} {MNY}"},Ob={"zh-cn":Mb},Nb=Ob["zh-cn"];function Ub(r){return Nb[r]??r}const zb={SUM:"",HAGE:"",HCHR:"",HINT:"",HSTR:"",HMNY:"",HSPR:""};function Yb(r){return zb[r]??r}const Ro={"":""},Hb=r=>(Ro==null?void 0:Ro[r])??r,xi={processing:!1,page:"",autoPlay:!1,useAI:!1,thinking:"",output:"",talentChoices:[],usedPropertyPoints:0,allocation:{CHR:0,INT:0,STR:0,MNY:0,TLT:[],EXT:null},inheritedTalent:null,lifeEnded:!1,state:{},summary:[],lifeStory:[]},jb=[["CHR",""],["INT",""],["STR",""],["MNY",""]],qb=[["CHR",""],["INT",""],["STR",""],["MNY",""],["SPR",""]];function Wb(){const r=hr(),e=os({lifeObj:null});Gt(async()=>{var b;const g=new Em;await g.initial(Lb),g.config(Sm),e.lifeObj=g,console.log(`lifeWrapper.lifeObj
`,e.lifeObj),console.log(`lifeWrapper.lifeObj?.lastExtendTalent
`,(b=e.lifeObj)==null?void 0:b.lastExtendTalent)}),ns(async()=>{e.lifeObj=null});function t(g,b,k,m,x){var P,ue,ve,be,ne,Dt,zn,Yn;const y=k.allocation[g],E=b-y,v=Math.min(E,x),C=y+v,R=Math.min(C,((ue=(P=e.lifeObj)==null?void 0:P.propertyAllocateLimit)==null?void 0:ue[1])??10),T=Math.max(R,((be=(ve=e.lifeObj)==null?void 0:ve.propertyAllocateLimit)==null?void 0:be[0])??0),$=T-y;return console.log({min:((Dt=(ne=e.lifeObj)==null?void 0:ne.propertyAllocateLimit)==null?void 0:Dt[0])??0,max:((Yn=(zn=e.lifeObj)==null?void 0:zn.propertyAllocateLimit)==null?void 0:Yn[1])??m??20,val:b,oldVal:y,delta:E,effectiveDelta:v,newVal:C,effectiveBigNewVal:R,effectiveNewVal:T,finalDelta:$}),{val:T,delta:$}}function o(g){const b=g.inheritedTalent;Object.assign(g,A.cloneDeep(xi)),g.inheritedTalent=b}function n(g){var k,m,x,y,E,v,C,R,T,$,P,ue,ve,be,ne;const b=(x=(m=(k=e.lifeObj)==null?void 0:k._property)==null?void 0:m.getProperties)==null?void 0:x.call(m);Object.assign(g.state,b),g.state.AGE=(v=(E=(y=e.lifeObj)==null?void 0:y._property)==null?void 0:E.get)==null?void 0:v.call(E,"AGE"),g.state.LIF=(T=(R=(C=e.lifeObj)==null?void 0:C._property)==null?void 0:R.get)==null?void 0:T.call(R,"LIF"),g.state.TLT=(ue=(P=($=e.lifeObj)==null?void 0:$._property)==null?void 0:P.get)==null?void 0:ue.call(P,"TLT"),g.state.EVT=(ne=(be=(ve=e.lifeObj)==null?void 0:ve._property)==null?void 0:be.get)==null?void 0:ne.call(be,"EVT"),console.log(`properties
`,b),console.log(`demoData.state
`,g.state)}function u(g,b){var k,m;g.allocation.TLT=b.map(x=>x==null?void 0:x.id),(m=(k=e.lifeObj)==null?void 0:k.start)==null||m.call(k,g.allocation),n(g)}function a(g){const b=g.value;if(!b)return;b.scrollHeight-b.scrollTop-b.clientHeight<400&&requestAnimationFrame(()=>{b.scrollTo({top:b.scrollHeight,behavior:"smooth"})})}async function i(g,b,k,m,x){var C,R,T;if(a(k),g.lifeEnded){await m(),r.add({severity:"info",summary:"",detail:"",life:1500});return}const{age:y,content:E,isEnd:v}=((R=(C=e.lifeObj)==null?void 0:C.next)==null?void 0:R.call(C))??{};console.log({age:y,content:E,isEnd:v}),g.lifeStory.push({age:y??0,content:E??[],isEnd:v}),n(g),g.useAI&&((T=g.lifeStory)==null?void 0:T.length)>2&&await Bb(g,b,()=>{a(k)}),v&&(g.lifeEnded=!0,x(),await m()),await hu(10),a(k)}async function s(g,b){for(g.autoPlay=!0;g.autoPlay;)await b(),await hu(700)}async function c(g){g.autoPlay=!1}function d(g,b,k){g.autoPlay?k():b()}function l(g){var k;const b=(k=e.lifeObj)==null?void 0:k.summary;console.log(`summary
`,b),g.summary=[];for(let m=0;m<7;m++)g.summary.push(b==null?void 0:b[m]);console.log(`demoData.summary
`,g.summary)}function f(g){Yu(()=>g.inheritedTalent,async(b,k)=>{await it("demoData.inheritedTalent",b)}),Gt(async()=>{const b=await at("demoData.inheritedTalent");b&&(console.log(`inheritedTalent
`,b),g.inheritedTalent=b)})}return{lifeWrapper:e,computeOKVal:t,clearData:o,updateData:n,start:u,scrollToTheBottom:a,step:i,startAuto:s,stopAuto:c,toggleAuto:d,makeLifeSummary:l,setupInheritedTalentWatcher:f,saveGame:p,loadGame:h};async function p(g){try{await it("manualSave_demoData",g),r.add({severity:"success",summary:"",detail:"",life:1500})}catch(b){console.error(b),r.add({severity:"error",summary:"",detail:"",life:1500})}}async function h(g){var b;try{const k=await at("manualSave_demoData");if(k){if(Object.assign(g,k),g.page===""&&!g.lifeEnded&&e.lifeObj){e.lifeObj.start(g.allocation);const m=((b=g.lifeStory[g.lifeStory.length-1])==null?void 0:b.age)??-1;let x=-1,y=0;for(;x<m&&y<200;)x=e.lifeObj.next().age,y++}r.add({severity:"success",summary:"",detail:"",life:1500})}else r.add({severity:"warn",summary:"",detail:"",life:1500})}catch(k){console.error(k),r.add({severity:"error",summary:"",detail:"",life:1500})}}}function Vb(r,e){const t=ke(null),o=an({selectedSupplier:Tb[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),n=ke(0);us(()=>{var s,c,d;n.value=((c=(s=e.lifeObj)==null?void 0:s.getPropertyPoints)==null?void 0:c.call(s))??((d=e.lifeObj)==null?void 0:d._defaultPropertyPoints)??0});const u=Ze(()=>r.talentChoices.filter(s=>s.selected)),a=Ze(()=>n.value),i=Ze(()=>(a.value??0)-(r.usedPropertyPoints??0));return Gt(async()=>{const s=await at("supplierForm");s!=null&&Object.assign(o,s),console.log(o)}),{storyBoxRef:t,supplierForm:o,selectedTalents:u,propertyPoints:a,restPropertyPoints:i}}const Jb={class:"flex flex-col items-center justify-center flex-1 pt-10rem pb-16rem min-h-full w-full select-none relative bg-transparent!"},Gb={class:"relative group inline-flex justify-center"},Xb=Z({__name:"RestartPage",props:{lifeWrapper:{},onPageChange:{type:Function}},setup(r){const e=r,t=async()=>{var o,n;(n=(o=e.lifeWrapper.lifeObj)==null?void 0:o.remake)==null||n.call(o,[]),e.onPageChange("")};return(o,n)=>(N(),V("div",Jb,[n[3]||(n[3]=z("div",{class:"flex flex-col items-center gap-2 mb-12 opacity-50"},[z("h2",{class:"text-10px tracking-0.8em text-slate-500 dark:text-slate-400 font-200 ml-0.8em uppercase"}," System Reboot "),z("div",{class:"h-1px w-12 bg-gradient-to-r from-transparent via-slate-300 dark:via-slate-600 to-transparent"})],-1)),z("div",Gb,[n[0]||(n[0]=z("div",{class:"absolute -top-4 -left-4 w-4 h-4 border-t-1 border-l-1 border-slate-300 dark:border-slate-600 opacity-0 group-hover:opacity-100 transition-all duration-500 pointer-events-none"},null,-1)),n[1]||(n[1]=z("div",{class:"absolute -bottom-4 -right-4 w-4 h-4 border-b-1 border-r-1 border-slate-300 dark:border-slate-600 opacity-0 group-hover:opacity-100 transition-all duration-500 pointer-events-none"},null,-1)),te(L(j),{label:"    ",icon:"pi pi-power-off",class:"restart-btn-fixed !relative !rounded-none !bg-white/50 dark:!bg-white/5 !backdrop-blur-sm !border-1 !border-slate-200 dark:!border-white/10 !text-slate-600 dark:!text-slate-400 !text-sm !font-300 !tracking-0.5em !transition-all !duration-500 hover:!border-slate-900 dark:hover:!border-white/40 hover:!text-slate-900 dark:hover:!text-white hover:!bg-white/90 dark:hover:!bg-white/10 active:!scale-98",onClick:t}),n[2]||(n[2]=z("div",{class:"absolute -bottom-1 left-4 right-4 h-1px bg-transparent group-hover:bg-gradient-to-r from-transparent via-slate-400 dark:via-cyan-500 to-transparent transition-all duration-700 pointer-events-none"},null,-1))])]))}}),Zb=(r,e)=>{const t=r.__vccOpts||r;for(const[o,n]of e)t[o]=n;return t},Kb=Zb(Xb,[["__scopeId","data-v-80631ab9"]]),Qb={class:"stack-v"},e2={class:"stack-h justify-center! justify-items-center! items-center!"},r2={class:"stack-h justify-center! justify-items-center! items-center!"},t2=Z({__name:"ModePage",props:{onPageChange:{type:Function}},setup(r){const e=r,t=hr(),o=async()=>{e.onPageChange("")},n=async()=>{t.add({severity:"warn",summary:"",detail:"",life:1500})};return(u,a)=>(N(),V("div",Qb,[z("div",e2,[te(L(j),{label:"",class:"",onClick:o}),a[0]||(a[0]=z("span",null,"10",-1))]),z("div",r2,[te(L(j),{label:"",class:"",onClick:n}),a[1]||(a[1]=z("span",null,"",-1))])]))}}),o2={class:"stack-h"},n2=Z({__name:"TalentPreparePage",props:{demoData:{},lifeWrapper:{},onPageChange:{type:Function}},setup(r){const e=r,t=async()=>{var o,n,u,a,i;e.onPageChange(""),(o=e.demoData.inheritedTalent)!=null&&o.id&&(console.log(`demoData.inheritedTalent
`,e.demoData.inheritedTalent),(u=(n=e.lifeWrapper.lifeObj)==null?void 0:n.talentExtend)==null||u.call(n,String(e.demoData.inheritedTalent.id))),e.demoData.talentChoices=((i=(a=e.lifeWrapper.lifeObj)==null?void 0:a.talentRandom)==null?void 0:i.call(a))??[]};return(o,n)=>(N(),V("div",o2,[te(L(j),{label:"10!",icon:"pi pi-refresh",class:"",onClick:t})]))}}),u2={class:"stack-v"},a2=Z({__name:"TalentSelectionPage",props:{demoData:{},lifeWrapper:{},selectedTalents:{},onPageChange:{type:Function}},setup(r){const e=r,t=hr(),o=async()=>{var s;e.demoData.talentChoices.forEach(c=>c.selected=!1),A.sampleSize(e.demoData.talentChoices,(s=e.lifeWrapper.lifeObj)==null?void 0:s.talentSelectLimit).forEach(c=>c.selected=!0)},n=async()=>{var i;if(e.selectedTalents.length!=((i=e.lifeWrapper.lifeObj)==null?void 0:i.talentSelectLimit)){t.add({severity:"warn",summary:"",detail:"",life:1500});return}console.log(`lifeObj
`,e.lifeWrapper.lifeObj),e.onPageChange("")},u=async()=>{var i,s;e.demoData.talentChoices=((s=(i=e.lifeWrapper.lifeObj)==null?void 0:i.talentRandom)==null?void 0:s.call(i))??[]},a=async i=>{var s;if(e.selectedTalents.length>=(((s=e.lifeWrapper.lifeObj)==null?void 0:s.talentSelectLimit)??3)&&!i.selected){t.add({severity:"warn",summary:"",detail:"",life:1500});return}i.selected=!i.selected};return(i,s)=>{var c,d,l;return N(),V("div",u2,[z("div",{class:xe(["stack-h",i.selectedTalents.length==((c=i.lifeWrapper.lifeObj)==null?void 0:c.talentSelectLimit)?"flex-row-reverse!":null])},[te(L(j),{label:"",icon:"pi pi-arrow-right-arrow-left",class:"",onClick:o}),te(L(j),{label:i.selectedTalents.length>=(((d=i.lifeWrapper.lifeObj)==null?void 0:d.talentSelectLimit)??3)?"":`${((l=i.lifeWrapper.lifeObj)==null?void 0:l.talentSelectLimit)??3}`,class:"",onClick:n},null,8,["label"])],2),te(L(j),{label:"",icon:"pi pi-refresh",class:"",onClick:u}),(N(!0),V(Ke,null,Qe(i.demoData.talentChoices,(f,p)=>(N(),Ge(L(j),{key:`[${p}]${f==null?void 0:f.name}`,label:`${f==null?void 0:f.name}${f==null?void 0:f.description}${f!=null&&f.selected?"":""}`,class:xe([L(Or)(f==null?void 0:f.grade),f!=null&&f.selected?"border-red-500! text-red-300!":""]),onClick:()=>a(f)},null,8,["label","class","onClick"]))),128))])}}}),i2={class:"stack-v"},s2=Z({__name:"PropertyAllocationPage",props:{demoData:{},lifeWrapper:{},selectedTalents:{},propertyPoints:{},restPropertyPoints:{},onPageChange:{type:Function},onComputeOKVal:{type:Function}},setup(r){const e=r,t=hr(),o=async()=>{var s,c;e.demoData.usedPropertyPoints=0,e.demoData.allocation.CHR=0,e.demoData.allocation.INT=0,e.demoData.allocation.STR=0,e.demoData.allocation.MNY=0;const a=e.propertyPoints??20,i=Object.keys(e.demoData.allocation);for(let d=0;d<a;d++){const l=A.sample(i);if(e.demoData.allocation[l]>=(((c=(s=e.lifeWrapper.lifeObj)==null?void 0:s.propertyAllocateLimit)==null?void 0:c[1])??10)){d-=1;continue}e.demoData.allocation[l]+=1,e.demoData.usedPropertyPoints+=1}},n=async()=>{if(e.restPropertyPoints!=0){t.add({severity:"warn",summary:"",detail:`${e.restPropertyPoints}`,life:1500});return}e.onPageChange("")},u=(a,i)=>{var d,l,f,p;const c=e.demoData.allocation[a]+i;if(i>0){const h=((l=(d=e.lifeWrapper.lifeObj)==null?void 0:d.propertyAllocateLimit)==null?void 0:l[1])??e.propertyPoints??20,g=Math.min(h,c),{val:b,delta:k}=e.onComputeOKVal(a,g);e.demoData.usedPropertyPoints+=k,e.demoData.allocation[a]=b}else{const h=((p=(f=e.lifeWrapper.lifeObj)==null?void 0:f.propertyAllocateLimit)==null?void 0:p[0])??0,g=Math.max(h,c),{val:b,delta:k}=e.onComputeOKVal(a,g);e.demoData.usedPropertyPoints+=k,e.demoData.allocation[a]=b}};return(a,i)=>(N(),V("div",i2,[z("div",{class:xe(["stack-h",a.restPropertyPoints==0?"flex-row-reverse!":null])},[te(L(j),{label:"",icon:"pi pi-asterisk",class:"",onClick:o}),te(L(j),{label:"",class:"",onClick:n})],2),z("div",null,""+ie(a.restPropertyPoints??0),1),(N(!0),V(Ke,null,Qe(L(jb),([s,c],d)=>(N(),V("div",{key:`[${d}]${s}`,class:"stack-h justify-center! justify-items-center! items-center!"},[z("span",null,ie(c)+"",1),te(L(j),{icon:"pi pi-minus",class:"",onClick:()=>u(s,-1)},null,8,["onClick"]),z("span",null,ie(a.demoData.allocation[s]),1),te(L(j),{icon:"pi pi-plus",class:"",onClick:()=>u(s,1)},null,8,["onClick"])]))),128)),i[0]||(i[0]=z("div",null,"",-1)),(N(!0),V(Ke,null,Qe(a.selectedTalents,(s,c)=>(N(),Ge(L(j),{key:`[${c}]${s==null?void 0:s.name}`,label:`${s==null?void 0:s.name}${s==null?void 0:s.description}`,class:xe(L(Or)(s==null?void 0:s.grade))},null,8,["label","class"]))),128))]))}}),c2={class:"stack-v w-full"},l2={class:"stack-h w-full"},d2={class:"stack-h"},f2={class:"stack-h"},h2=["onClick"],p2=Z({__name:"LifePage",props:{demoData:{},onPageChange:{type:Function},onStep:{type:Function},onToggleAuto:{type:Function}},setup(r,{expose:e}){const t=r,o=ke(null),n=hr(),u=async()=>{t.onPageChange("")},a=async()=>{var i,s,c,d,l;if(!t.demoData.useAI){const f=await at("supplierForm"),p=(s=f==null?void 0:f.apiKeyDict)==null?void 0:s[(i=f==null?void 0:f.selectedSupplier)==null?void 0:i.name],h=(l=(d=f==null?void 0:f.selectedModelDict)==null?void 0:d[(c=f==null?void 0:f.selectedSupplier)==null?void 0:c.name])==null?void 0:l.name;if(!p||!h||h==="[[<DEFAULT>]]"){n.add({severity:"warn",summary:"",detail:" LLM  AI  AI ",life:5e3});return}}t.demoData.useAI=!t.demoData.useAI};return e({storyBoxRef:o}),(i,s)=>(N(),V("div",c2,[z("div",l2,[te(L(j),{label:"",icon:"pi pi-list-check",class:xe([i.demoData.lifeEnded?"ml-4rem":"hidden!"]),onClick:u},null,8,["class"]),te(L(j),{label:"",icon:"pi pi-arrow-right",class:xe([i.demoData.lifeEnded?"hidden!":null]),disabled:i.demoData.processing,onClick:i.onStep},null,8,["class","disabled","onClick"]),te(L(j),{label:i.demoData.autoPlay?"":"",icon:i.demoData.autoPlay?"pi pi-stop-circle":"pi pi-arrow-circle-right",class:xe([i.demoData.lifeEnded?"hidden!":null]),disabled:i.demoData.processing&&!i.demoData.autoPlay,onClick:i.onToggleAuto},null,8,["label","icon","class","disabled","onClick"])]),z("div",d2,[te(L(j),{label:`AI${i.demoData.useAI?"":""}`,icon:"pi pi-sparkles",class:xe([i.demoData.lifeEnded?"hidden!":null]),onClick:a},null,8,["label","class"])]),z("div",f2,[(N(!0),V(Ke,null,Qe(L(qb),([c,d],l)=>(N(),V("div",{key:`[${l}]${c}`,class:"p-panel stack-v p-0.25rem justify-center! items-center!"},[z("div",null,ie(d),1),z("div",null,ie(String(i.demoData.state[c]??"")),1)]))),128))]),z("div",{id:"life-story-box",ref_key:"storyBoxRef",ref:o,class:"p-panel p-0.5rem max-h-50svh w-full overflow-auto"},[(N(!0),V(Ke,null,Qe(i.demoData.lifeStory,(c,d)=>(N(),V("div",{key:`[${d}]${c==null?void 0:c.age}`,class:"stack-v mt-0.5rem mb-0.25rem",onClick:()=>console.log(c)},[z("div",null,ie(c==null?void 0:c.age)+"",1),(N(!0),V(Ke,null,Qe((c==null?void 0:c.content)??[],(l,f)=>(N(),V("div",{key:`[${f}]${l==null?void 0:l.name}`},[(l==null?void 0:l.type)==="TLT"?(N(),Ge(L(yo),{key:0,severity:"secondary",class:xe(L(Or)(l==null?void 0:l.grade))},{default:Ut(()=>[zt(" "+ie(l==null?void 0:l.name)+""+ie(l==null?void 0:l.description),1)]),_:2},1032,["class"])):Rt("",!0),(l==null?void 0:l.type)==="EVT"?(N(),Ge(L(yo),{key:1,severity:"secondary",class:xe(L(Or)(l==null?void 0:l.grade))},{default:Ut(()=>[zt(ie(l==null?void 0:l.description)+" "+ie((l==null?void 0:l.postEvent)??""),1)]),_:2},1032,["class"])):Rt("",!0)]))),128)),c!=null&&c.output?(N(),Ge(L(yo),{key:0,severity:"secondary",class:""},{default:Ut(()=>[zt(ie(c==null?void 0:c.output),1)]),_:2},1024)):Rt("",!0)],8,h2))),128)),i.demoData.processing?(N(),Ge(L(ys),{key:0,style:{strokeWidth:"1rem",width:"2.5rem",height:"2.5rem"},class:"my-spinner my-0.5rem!"})):Rt("",!0)],512)]))}}),g2={class:"stack-v"},m2={class:"stack-h"},b2=Z({__name:"SummaryPage",props:{demoData:{},lifeWrapper:{},selectedTalents:{},onPageChange:{type:Function},onClearData:{type:Function}},setup(r){const e=r,t=async()=>{var u,a;(e.selectedTalents??[]).find(i=>{var s;return(i==null?void 0:i.name)==((s=e.demoData.inheritedTalent)==null?void 0:s.name)})||(e.demoData.inheritedTalent=null,(a=(u=e.lifeWrapper.lifeObj)==null?void 0:u.talentExtend)==null||a.call(u,"")),console.log(`demoData.summary
`,e.demoData.summary),e.onClearData(),e.onPageChange("")},o=async n=>{var u,a,i,s,c;if(((u=e.demoData.inheritedTalent)==null?void 0:u.name)==(n==null?void 0:n.name)){e.demoData.inheritedTalent=null,(i=(a=e.lifeWrapper.lifeObj)==null?void 0:a.talentExtend)==null||i.call(a,"");return}e.demoData.inheritedTalent=n,(c=(s=e.lifeWrapper.lifeObj)==null?void 0:s.talentExtend)==null||c.call(s,String(n==null?void 0:n.id))};return(n,u)=>(N(),V("div",g2,[z("div",m2,[te(L(j),{label:"",icon:"pi pi-refresh",class:"",onClick:t})]),(N(!0),V(Ke,null,Qe(n.demoData.summary,(a,i)=>(N(),Ge(L(xs),{key:`[${i}]${a==null?void 0:a.prop}`,class:xe(L(Or)(Number(a==null?void 0:a.grade)))},{default:Ut(()=>[zt(ie(L(Yb)((a==null?void 0:a.prop)??""))+""+ie((a==null?void 0:a.value)??"")+" "+ie(L(Ub)((a==null?void 0:a.judge)??"")),1)]),_:2},1032,["class"]))),128)),u[0]||(u[0]=z("div",null,"",-1)),(N(!0),V(Ke,null,Qe(n.selectedTalents,(a,i)=>{var s,c;return N(),Ge(L(j),{key:`[${i}]${a==null?void 0:a.name}`,label:`${a==null?void 0:a.name}${a==null?void 0:a.description}${((s=n.demoData.inheritedTalent)==null?void 0:s.name)==(a==null?void 0:a.name)?"":""}`,class:xe([L(Or)(a==null?void 0:a.grade),((c=n.demoData.inheritedTalent)==null?void 0:c.name)==(a==null?void 0:a.name)?"border-red-500! text-red-300!":""]),onClick:()=>o(a)},null,8,["label","class","onClick"])}),128))]))}}),mu={};function _2(r){let e=mu[r];if(e)return e;e=mu[r]=[];for(let t=0;t<128;t++){const o=String.fromCharCode(t);e.push(o)}for(let t=0;t<r.length;t++){const o=r.charCodeAt(t);e[o]="%"+("0"+o.toString(16).toUpperCase()).slice(-2)}return e}function Nr(r,e){typeof e!="string"&&(e=Nr.defaultChars);const t=_2(e);return r.replace(/(%[a-f0-9]{2})+/gi,function(o){let n="";for(let u=0,a=o.length;u<a;u+=3){const i=parseInt(o.slice(u+1,u+3),16);if(i<128){n+=t[i];continue}if((i&224)===192&&u+3<a){const s=parseInt(o.slice(u+4,u+6),16);if((s&192)===128){const c=i<<6&1984|s&63;c<128?n+="":n+=String.fromCharCode(c),u+=3;continue}}if((i&240)===224&&u+6<a){const s=parseInt(o.slice(u+4,u+6),16),c=parseInt(o.slice(u+7,u+9),16);if((s&192)===128&&(c&192)===128){const d=i<<12&61440|s<<6&4032|c&63;d<2048||d>=55296&&d<=57343?n+="":n+=String.fromCharCode(d),u+=6;continue}}if((i&248)===240&&u+9<a){const s=parseInt(o.slice(u+4,u+6),16),c=parseInt(o.slice(u+7,u+9),16),d=parseInt(o.slice(u+10,u+12),16);if((s&192)===128&&(c&192)===128&&(d&192)===128){let l=i<<18&1835008|s<<12&258048|c<<6&4032|d&63;l<65536||l>1114111?n+="":(l-=65536,n+=String.fromCharCode(55296+(l>>10),56320+(l&1023))),u+=9;continue}}n+=""}return n})}Nr.defaultChars=";/?:@&=+$,#";Nr.componentChars="";const bu={};function y2(r){let e=bu[r];if(e)return e;e=bu[r]=[];for(let t=0;t<128;t++){const o=String.fromCharCode(t);/^[0-9a-z]$/i.test(o)?e.push(o):e.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2))}for(let t=0;t<r.length;t++)e[r.charCodeAt(t)]=r[t];return e}function St(r,e,t){typeof e!="string"&&(t=e,e=St.defaultChars),typeof t>"u"&&(t=!0);const o=y2(e);let n="";for(let u=0,a=r.length;u<a;u++){const i=r.charCodeAt(u);if(t&&i===37&&u+2<a&&/^[0-9a-f]{2}$/i.test(r.slice(u+1,u+3))){n+=r.slice(u,u+3),u+=2;continue}if(i<128){n+=o[i];continue}if(i>=55296&&i<=57343){if(i>=55296&&i<=56319&&u+1<a){const s=r.charCodeAt(u+1);if(s>=56320&&s<=57343){n+=encodeURIComponent(r[u]+r[u+1]),u++;continue}}n+="%EF%BF%BD";continue}n+=encodeURIComponent(r[u])}return n}St.defaultChars=";/?:@&=+$,-_.!~*'()#";St.componentChars="-_.!~*'()";function Pn(r){let e="";return e+=r.protocol||"",e+=r.slashes?"//":"",e+=r.auth?r.auth+"@":"",r.hostname&&r.hostname.indexOf(":")!==-1?e+="["+r.hostname+"]":e+=r.hostname||"",e+=r.port?":"+r.port:"",e+=r.pathname||"",e+=r.search||"",e+=r.hash||"",e}function ro(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const x2=/^([a-z0-9.+-]+:)/i,k2=/:[0-9]*$/,v2=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,C2=["<",">",'"',"`"," ","\r",`
`,"	"],w2=["{","}","|","\\","^","`"].concat(C2),E2=["'"].concat(w2),_u=["%","/","?",";","#"].concat(E2),yu=["/","?","#"],S2=255,xu=/^[+a-z0-9A-Z_-]{0,63}$/,A2=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ku={javascript:!0,"javascript:":!0},vu={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Bn(r,e){if(r&&r instanceof ro)return r;const t=new ro;return t.parse(r,e),t}ro.prototype.parse=function(r,e){let t,o,n,u=r;if(u=u.trim(),!e&&r.split("#").length===1){const c=v2.exec(u);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let a=x2.exec(u);if(a&&(a=a[0],t=a.toLowerCase(),this.protocol=a,u=u.substr(a.length)),(e||a||u.match(/^\/\/[^@\/]+@[^@\/]+/))&&(n=u.substr(0,2)==="//",n&&!(a&&ku[a])&&(u=u.substr(2),this.slashes=!0)),!ku[a]&&(n||a&&!vu[a])){let c=-1;for(let h=0;h<yu.length;h++)o=u.indexOf(yu[h]),o!==-1&&(c===-1||o<c)&&(c=o);let d,l;c===-1?l=u.lastIndexOf("@"):l=u.lastIndexOf("@",c),l!==-1&&(d=u.slice(0,l),u=u.slice(l+1),this.auth=d),c=-1;for(let h=0;h<_u.length;h++)o=u.indexOf(_u[h]),o!==-1&&(c===-1||o<c)&&(c=o);c===-1&&(c=u.length),u[c-1]===":"&&c--;const f=u.slice(0,c);u=u.slice(c),this.parseHost(f),this.hostname=this.hostname||"";const p=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!p){const h=this.hostname.split(/\./);for(let g=0,b=h.length;g<b;g++){const k=h[g];if(k&&!k.match(xu)){let m="";for(let x=0,y=k.length;x<y;x++)k.charCodeAt(x)>127?m+="x":m+=k[x];if(!m.match(xu)){const x=h.slice(0,g),y=h.slice(g+1),E=k.match(A2);E&&(x.push(E[1]),y.unshift(E[2])),y.length&&(u=y.join(".")+u),this.hostname=x.join(".");break}}}}this.hostname.length>S2&&(this.hostname=""),p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const i=u.indexOf("#");i!==-1&&(this.hash=u.substr(i),u=u.slice(0,i));const s=u.indexOf("?");return s!==-1&&(this.search=u.substr(s),u=u.slice(0,s)),u&&(this.pathname=u),vu[t]&&this.hostname&&!this.pathname&&(this.pathname=""),this};ro.prototype.parseHost=function(r){let e=k2.exec(r);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),r=r.substr(0,r.length-e.length)),r&&(this.hostname=r)};const T2=Object.freeze(Object.defineProperty({__proto__:null,decode:Nr,encode:St,format:Pn,parse:Bn},Symbol.toStringTag,{value:"Module"})),ki=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,vi=/[\0-\x1F\x7F-\x9F]/,D2=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,In=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Ci=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,wi=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,R2=Object.freeze(Object.defineProperty({__proto__:null,Any:ki,Cc:vi,Cf:D2,P:In,S:Ci,Z:wi},Symbol.toStringTag,{value:"Module"})),$2=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(r=>r.charCodeAt(0))),P2=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(r=>r.charCodeAt(0)));var $o;const B2=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),I2=($o=String.fromCodePoint)!==null&&$o!==void 0?$o:function(r){let e="";return r>65535&&(r-=65536,e+=String.fromCharCode(r>>>10&1023|55296),r=56320|r&1023),e+=String.fromCharCode(r),e};function F2(r){var e;return r>=55296&&r<=57343||r>1114111?65533:(e=B2.get(r))!==null&&e!==void 0?e:r}var X;(function(r){r[r.NUM=35]="NUM",r[r.SEMI=59]="SEMI",r[r.EQUALS=61]="EQUALS",r[r.ZERO=48]="ZERO",r[r.NINE=57]="NINE",r[r.LOWER_A=97]="LOWER_A",r[r.LOWER_F=102]="LOWER_F",r[r.LOWER_X=120]="LOWER_X",r[r.LOWER_Z=122]="LOWER_Z",r[r.UPPER_A=65]="UPPER_A",r[r.UPPER_F=70]="UPPER_F",r[r.UPPER_Z=90]="UPPER_Z"})(X||(X={}));const L2=32;var Xe;(function(r){r[r.VALUE_LENGTH=49152]="VALUE_LENGTH",r[r.BRANCH_LENGTH=16256]="BRANCH_LENGTH",r[r.JUMP_TABLE=127]="JUMP_TABLE"})(Xe||(Xe={}));function rn(r){return r>=X.ZERO&&r<=X.NINE}function M2(r){return r>=X.UPPER_A&&r<=X.UPPER_F||r>=X.LOWER_A&&r<=X.LOWER_F}function O2(r){return r>=X.UPPER_A&&r<=X.UPPER_Z||r>=X.LOWER_A&&r<=X.LOWER_Z||rn(r)}function N2(r){return r===X.EQUALS||O2(r)}var J;(function(r){r[r.EntityStart=0]="EntityStart",r[r.NumericStart=1]="NumericStart",r[r.NumericDecimal=2]="NumericDecimal",r[r.NumericHex=3]="NumericHex",r[r.NamedEntity=4]="NamedEntity"})(J||(J={}));var We;(function(r){r[r.Legacy=0]="Legacy",r[r.Strict=1]="Strict",r[r.Attribute=2]="Attribute"})(We||(We={}));class U2{constructor(e,t,o){this.decodeTree=e,this.emitCodePoint=t,this.errors=o,this.state=J.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=We.Strict}startEntity(e){this.decodeMode=e,this.state=J.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case J.EntityStart:return e.charCodeAt(t)===X.NUM?(this.state=J.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=J.NamedEntity,this.stateNamedEntity(e,t));case J.NumericStart:return this.stateNumericStart(e,t);case J.NumericDecimal:return this.stateNumericDecimal(e,t);case J.NumericHex:return this.stateNumericHex(e,t);case J.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|L2)===X.LOWER_X?(this.state=J.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=J.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,o,n){if(t!==o){const u=o-t;this.result=this.result*Math.pow(n,u)+parseInt(e.substr(t,u),n),this.consumed+=u}}stateNumericHex(e,t){const o=t;for(;t<e.length;){const n=e.charCodeAt(t);if(rn(n)||M2(n))t+=1;else return this.addToNumericResult(e,o,t,16),this.emitNumericEntity(n,3)}return this.addToNumericResult(e,o,t,16),-1}stateNumericDecimal(e,t){const o=t;for(;t<e.length;){const n=e.charCodeAt(t);if(rn(n))t+=1;else return this.addToNumericResult(e,o,t,10),this.emitNumericEntity(n,2)}return this.addToNumericResult(e,o,t,10),-1}emitNumericEntity(e,t){var o;if(this.consumed<=t)return(o=this.errors)===null||o===void 0||o.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===X.SEMI)this.consumed+=1;else if(this.decodeMode===We.Strict)return 0;return this.emitCodePoint(F2(this.result),this.consumed),this.errors&&(e!==X.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:o}=this;let n=o[this.treeIndex],u=(n&Xe.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const a=e.charCodeAt(t);if(this.treeIndex=z2(o,n,this.treeIndex+Math.max(1,u),a),this.treeIndex<0)return this.result===0||this.decodeMode===We.Attribute&&(u===0||N2(a))?0:this.emitNotTerminatedNamedEntity();if(n=o[this.treeIndex],u=(n&Xe.VALUE_LENGTH)>>14,u!==0){if(a===X.SEMI)return this.emitNamedEntityData(this.treeIndex,u,this.consumed+this.excess);this.decodeMode!==We.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:o}=this,n=(o[t]&Xe.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,n,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,o){const{decodeTree:n}=this;return this.emitCodePoint(t===1?n[e]&~Xe.VALUE_LENGTH:n[e+1],o),t===3&&this.emitCodePoint(n[e+2],o),o}end(){var e;switch(this.state){case J.NamedEntity:return this.result!==0&&(this.decodeMode!==We.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case J.NumericDecimal:return this.emitNumericEntity(0,2);case J.NumericHex:return this.emitNumericEntity(0,3);case J.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case J.EntityStart:return 0}}}function Ei(r){let e="";const t=new U2(r,o=>e+=I2(o));return function(n,u){let a=0,i=0;for(;(i=n.indexOf("&",i))>=0;){e+=n.slice(a,i),t.startEntity(u);const c=t.write(n,i+1);if(c<0){a=i+t.end();break}a=i+c,i=c===0?a+1:a}const s=e+n.slice(a);return e="",s}}function z2(r,e,t,o){const n=(e&Xe.BRANCH_LENGTH)>>7,u=e&Xe.JUMP_TABLE;if(n===0)return u!==0&&o===u?t:-1;if(u){const s=o-u;return s<0||s>=n?-1:r[t+s]-1}let a=t,i=a+n-1;for(;a<=i;){const s=a+i>>>1,c=r[s];if(c<o)a=s+1;else if(c>o)i=s-1;else return r[s+n]}return-1}const Y2=Ei($2);Ei(P2);function Si(r,e=We.Legacy){return Y2(r,e)}function H2(r){return Object.prototype.toString.call(r)}function Fn(r){return H2(r)==="[object String]"}const j2=Object.prototype.hasOwnProperty;function q2(r,e){return j2.call(r,e)}function po(r){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if(typeof t!="object")throw new TypeError(t+"must be object");Object.keys(t).forEach(function(o){r[o]=t[o]})}}),r}function Ai(r,e,t){return[].concat(r.slice(0,e),t,r.slice(e+1))}function Ln(r){return!(r>=55296&&r<=57343||r>=64976&&r<=65007||(r&65535)===65535||(r&65535)===65534||r>=0&&r<=8||r===11||r>=14&&r<=31||r>=127&&r<=159||r>1114111)}function to(r){if(r>65535){r-=65536;const e=55296+(r>>10),t=56320+(r&1023);return String.fromCharCode(e,t)}return String.fromCharCode(r)}const Ti=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,W2=/&([a-z#][a-z0-9]{1,31});/gi,V2=new RegExp(Ti.source+"|"+W2.source,"gi"),J2=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function G2(r,e){if(e.charCodeAt(0)===35&&J2.test(e)){const o=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Ln(o)?to(o):r}const t=Si(r);return t!==r?t:r}function X2(r){return r.indexOf("\\")<0?r:r.replace(Ti,"$1")}function Ur(r){return r.indexOf("\\")<0&&r.indexOf("&")<0?r:r.replace(V2,function(e,t,o){return t||G2(e,o)})}const Z2=/[&<>"]/,K2=/[&<>"]/g,Q2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function e3(r){return Q2[r]}function tr(r){return Z2.test(r)?r.replace(K2,e3):r}const r3=/[.?*+^$[\]\\(){}|-]/g;function t3(r){return r.replace(r3,"\\$&")}function Y(r){switch(r){case 9:case 32:return!0}return!1}function st(r){if(r>=8192&&r<=8202)return!0;switch(r){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function ct(r){return In.test(r)||Ci.test(r)}function lt(r){switch(r){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function go(r){return r=r.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(r=r.replace(//g,"")),r.toLowerCase().toUpperCase()}const o3={mdurl:T2,ucmicro:R2},n3=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Ai,assign:po,escapeHtml:tr,escapeRE:t3,fromCodePoint:to,has:q2,isMdAsciiPunct:lt,isPunctChar:ct,isSpace:Y,isString:Fn,isValidEntityCode:Ln,isWhiteSpace:st,lib:o3,normalizeReference:go,unescapeAll:Ur,unescapeMd:X2},Symbol.toStringTag,{value:"Module"}));function u3(r,e,t){let o,n,u,a;const i=r.posMax,s=r.pos;for(r.pos=e+1,o=1;r.pos<i;){if(u=r.src.charCodeAt(r.pos),u===93&&(o--,o===0)){n=!0;break}if(a=r.pos,r.md.inline.skipToken(r),u===91){if(a===r.pos-1)o++;else if(t)return r.pos=s,-1}}let c=-1;return n&&(c=r.pos),r.pos=s,c}function a3(r,e,t){let o,n=e;const u={ok:!1,pos:0,str:""};if(r.charCodeAt(n)===60){for(n++;n<t;){if(o=r.charCodeAt(n),o===10||o===60)return u;if(o===62)return u.pos=n+1,u.str=Ur(r.slice(e+1,n)),u.ok=!0,u;if(o===92&&n+1<t){n+=2;continue}n++}return u}let a=0;for(;n<t&&(o=r.charCodeAt(n),!(o===32||o<32||o===127));){if(o===92&&n+1<t){if(r.charCodeAt(n+1)===32)break;n+=2;continue}if(o===40&&(a++,a>32))return u;if(o===41){if(a===0)break;a--}n++}return e===n||a!==0||(u.str=Ur(r.slice(e,n)),u.pos=n,u.ok=!0),u}function i3(r,e,t,o){let n,u=e;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(o)a.str=o.str,a.marker=o.marker;else{if(u>=t)return a;let i=r.charCodeAt(u);if(i!==34&&i!==39&&i!==40)return a;e++,u++,i===40&&(i=41),a.marker=i}for(;u<t;){if(n=r.charCodeAt(u),n===a.marker)return a.pos=u+1,a.str+=Ur(r.slice(e,u)),a.ok=!0,a;if(n===40&&a.marker===41)return a;n===92&&u+1<t&&u++,u++}return a.can_continue=!0,a.str+=Ur(r.slice(e,u)),a}const s3=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:a3,parseLinkLabel:u3,parseLinkTitle:i3},Symbol.toStringTag,{value:"Module"})),Me={};Me.code_inline=function(r,e,t,o,n){const u=r[e];return"<code"+n.renderAttrs(u)+">"+tr(u.content)+"</code>"};Me.code_block=function(r,e,t,o,n){const u=r[e];return"<pre"+n.renderAttrs(u)+"><code>"+tr(r[e].content)+`</code></pre>
`};Me.fence=function(r,e,t,o,n){const u=r[e],a=u.info?Ur(u.info).trim():"";let i="",s="";if(a){const d=a.split(/(\s+)/g);i=d[0],s=d.slice(2).join("")}let c;if(t.highlight?c=t.highlight(u.content,i,s)||tr(u.content):c=tr(u.content),c.indexOf("<pre")===0)return c+`
`;if(a){const d=u.attrIndex("class"),l=u.attrs?u.attrs.slice():[];d<0?l.push(["class",t.langPrefix+i]):(l[d]=l[d].slice(),l[d][1]+=" "+t.langPrefix+i);const f={attrs:l};return`<pre><code${n.renderAttrs(f)}>${c}</code></pre>
`}return`<pre><code${n.renderAttrs(u)}>${c}</code></pre>
`};Me.image=function(r,e,t,o,n){const u=r[e];return u.attrs[u.attrIndex("alt")][1]=n.renderInlineAsText(u.children,t,o),n.renderToken(r,e,t)};Me.hardbreak=function(r,e,t){return t.xhtmlOut?`<br />
`:`<br>
`};Me.softbreak=function(r,e,t){return t.breaks?t.xhtmlOut?`<br />
`:`<br>
`:`
`};Me.text=function(r,e){return tr(r[e].content)};Me.html_block=function(r,e){return r[e].content};Me.html_inline=function(r,e){return r[e].content};function jr(){this.rules=po({},Me)}jr.prototype.renderAttrs=function(e){let t,o,n;if(!e.attrs)return"";for(n="",t=0,o=e.attrs.length;t<o;t++)n+=" "+tr(e.attrs[t][0])+'="'+tr(e.attrs[t][1])+'"';return n};jr.prototype.renderToken=function(e,t,o){const n=e[t];let u="";if(n.hidden)return"";n.block&&n.nesting!==-1&&t&&e[t-1].hidden&&(u+=`
`),u+=(n.nesting===-1?"</":"<")+n.tag,u+=this.renderAttrs(n),n.nesting===0&&o.xhtmlOut&&(u+=" /");let a=!1;if(n.block&&(a=!0,n.nesting===1&&t+1<e.length)){const i=e[t+1];(i.type==="inline"||i.hidden||i.nesting===-1&&i.tag===n.tag)&&(a=!1)}return u+=a?`>
`:">",u};jr.prototype.renderInline=function(r,e,t){let o="";const n=this.rules;for(let u=0,a=r.length;u<a;u++){const i=r[u].type;typeof n[i]<"u"?o+=n[i](r,u,e,t,this):o+=this.renderToken(r,u,e)}return o};jr.prototype.renderInlineAsText=function(r,e,t){let o="";for(let n=0,u=r.length;n<u;n++)switch(r[n].type){case"text":o+=r[n].content;break;case"image":o+=this.renderInlineAsText(r[n].children,e,t);break;case"html_inline":case"html_block":o+=r[n].content;break;case"softbreak":case"hardbreak":o+=`
`;break}return o};jr.prototype.render=function(r,e,t){let o="";const n=this.rules;for(let u=0,a=r.length;u<a;u++){const i=r[u].type;i==="inline"?o+=this.renderInline(r[u].children,e,t):typeof n[i]<"u"?o+=n[i](r,u,e,t,this):o+=this.renderToken(r,u,e,t)}return o};function se(){this.__rules__=[],this.__cache__=null}se.prototype.__find__=function(r){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===r)return e;return-1};se.prototype.__compile__=function(){const r=this,e=[""];r.__rules__.forEach(function(t){t.enabled&&t.alt.forEach(function(o){e.indexOf(o)<0&&e.push(o)})}),r.__cache__={},e.forEach(function(t){r.__cache__[t]=[],r.__rules__.forEach(function(o){o.enabled&&(t&&o.alt.indexOf(t)<0||r.__cache__[t].push(o.fn))})})};se.prototype.at=function(r,e,t){const o=this.__find__(r),n=t||{};if(o===-1)throw new Error("Parser rule not found: "+r);this.__rules__[o].fn=e,this.__rules__[o].alt=n.alt||[],this.__cache__=null};se.prototype.before=function(r,e,t,o){const n=this.__find__(r),u=o||{};if(n===-1)throw new Error("Parser rule not found: "+r);this.__rules__.splice(n,0,{name:e,enabled:!0,fn:t,alt:u.alt||[]}),this.__cache__=null};se.prototype.after=function(r,e,t,o){const n=this.__find__(r),u=o||{};if(n===-1)throw new Error("Parser rule not found: "+r);this.__rules__.splice(n+1,0,{name:e,enabled:!0,fn:t,alt:u.alt||[]}),this.__cache__=null};se.prototype.push=function(r,e,t){const o=t||{};this.__rules__.push({name:r,enabled:!0,fn:e,alt:o.alt||[]}),this.__cache__=null};se.prototype.enable=function(r,e){Array.isArray(r)||(r=[r]);const t=[];return r.forEach(function(o){const n=this.__find__(o);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[n].enabled=!0,t.push(o)},this),this.__cache__=null,t};se.prototype.enableOnly=function(r,e){Array.isArray(r)||(r=[r]),this.__rules__.forEach(function(t){t.enabled=!1}),this.enable(r,e)};se.prototype.disable=function(r,e){Array.isArray(r)||(r=[r]);const t=[];return r.forEach(function(o){const n=this.__find__(o);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[n].enabled=!1,t.push(o)},this),this.__cache__=null,t};se.prototype.getRules=function(r){return this.__cache__===null&&this.__compile__(),this.__cache__[r]||[]};function De(r,e,t){this.type=r,this.tag=e,this.attrs=null,this.map=null,this.nesting=t,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}De.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let o=0,n=t.length;o<n;o++)if(t[o][0]===e)return o;return-1};De.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};De.prototype.attrSet=function(e,t){const o=this.attrIndex(e),n=[e,t];o<0?this.attrPush(n):this.attrs[o]=n};De.prototype.attrGet=function(e){const t=this.attrIndex(e);let o=null;return t>=0&&(o=this.attrs[t][1]),o};De.prototype.attrJoin=function(e,t){const o=this.attrIndex(e);o<0?this.attrPush([e,t]):this.attrs[o][1]=this.attrs[o][1]+" "+t};function Di(r,e,t){this.src=r,this.env=t,this.tokens=[],this.inlineMode=!1,this.md=e}Di.prototype.Token=De;const c3=/\r\n?|\n/g,l3=/\0/g;function d3(r){let e;e=r.src.replace(c3,`
`),e=e.replace(l3,""),r.src=e}function f3(r){let e;r.inlineMode?(e=new r.Token("inline","",0),e.content=r.src,e.map=[0,1],e.children=[],r.tokens.push(e)):r.md.block.parse(r.src,r.md,r.env,r.tokens)}function h3(r){const e=r.tokens;for(let t=0,o=e.length;t<o;t++){const n=e[t];n.type==="inline"&&r.md.inline.parse(n.content,r.md,r.env,n.children)}}function p3(r){return/^<a[>\s]/i.test(r)}function g3(r){return/^<\/a\s*>/i.test(r)}function m3(r){const e=r.tokens;if(r.md.options.linkify)for(let t=0,o=e.length;t<o;t++){if(e[t].type!=="inline"||!r.md.linkify.pretest(e[t].content))continue;let n=e[t].children,u=0;for(let a=n.length-1;a>=0;a--){const i=n[a];if(i.type==="link_close"){for(a--;n[a].level!==i.level&&n[a].type!=="link_open";)a--;continue}if(i.type==="html_inline"&&(p3(i.content)&&u>0&&u--,g3(i.content)&&u++),!(u>0)&&i.type==="text"&&r.md.linkify.test(i.content)){const s=i.content;let c=r.md.linkify.match(s);const d=[];let l=i.level,f=0;c.length>0&&c[0].index===0&&a>0&&n[a-1].type==="text_special"&&(c=c.slice(1));for(let p=0;p<c.length;p++){const h=c[p].url,g=r.md.normalizeLink(h);if(!r.md.validateLink(g))continue;let b=c[p].text;c[p].schema?c[p].schema==="mailto:"&&!/^mailto:/i.test(b)?b=r.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):b=r.md.normalizeLinkText(b):b=r.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,"");const k=c[p].index;if(k>f){const E=new r.Token("text","",0);E.content=s.slice(f,k),E.level=l,d.push(E)}const m=new r.Token("link_open","a",1);m.attrs=[["href",g]],m.level=l++,m.markup="linkify",m.info="auto",d.push(m);const x=new r.Token("text","",0);x.content=b,x.level=l,d.push(x);const y=new r.Token("link_close","a",-1);y.level=--l,y.markup="linkify",y.info="auto",d.push(y),f=c[p].lastIndex}if(f<s.length){const p=new r.Token("text","",0);p.content=s.slice(f),p.level=l,d.push(p)}e[t].children=n=Ai(n,a,d)}}}}const Ri=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,b3=/\((c|tm|r)\)/i,_3=/\((c|tm|r)\)/ig,y3={c:"",r:"",tm:""};function x3(r,e){return y3[e.toLowerCase()]}function k3(r){let e=0;for(let t=r.length-1;t>=0;t--){const o=r[t];o.type==="text"&&!e&&(o.content=o.content.replace(_3,x3)),o.type==="link_open"&&o.info==="auto"&&e--,o.type==="link_close"&&o.info==="auto"&&e++}}function v3(r){let e=0;for(let t=r.length-1;t>=0;t--){const o=r[t];o.type==="text"&&!e&&Ri.test(o.content)&&(o.content=o.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),o.type==="link_open"&&o.info==="auto"&&e--,o.type==="link_close"&&o.info==="auto"&&e++}}function C3(r){let e;if(r.md.options.typographer)for(e=r.tokens.length-1;e>=0;e--)r.tokens[e].type==="inline"&&(b3.test(r.tokens[e].content)&&k3(r.tokens[e].children),Ri.test(r.tokens[e].content)&&v3(r.tokens[e].children))}const w3=/['"]/,Cu=/['"]/g,wu="";function Ot(r,e,t){return r.slice(0,e)+t+r.slice(e+1)}function E3(r,e){let t;const o=[];for(let n=0;n<r.length;n++){const u=r[n],a=r[n].level;for(t=o.length-1;t>=0&&!(o[t].level<=a);t--);if(o.length=t+1,u.type!=="text")continue;let i=u.content,s=0,c=i.length;e:for(;s<c;){Cu.lastIndex=s;const d=Cu.exec(i);if(!d)break;let l=!0,f=!0;s=d.index+1;const p=d[0]==="'";let h=32;if(d.index-1>=0)h=i.charCodeAt(d.index-1);else for(t=n-1;t>=0&&!(r[t].type==="softbreak"||r[t].type==="hardbreak");t--)if(r[t].content){h=r[t].content.charCodeAt(r[t].content.length-1);break}let g=32;if(s<c)g=i.charCodeAt(s);else for(t=n+1;t<r.length&&!(r[t].type==="softbreak"||r[t].type==="hardbreak");t++)if(r[t].content){g=r[t].content.charCodeAt(0);break}const b=lt(h)||ct(String.fromCharCode(h)),k=lt(g)||ct(String.fromCharCode(g)),m=st(h),x=st(g);if(x?l=!1:k&&(m||b||(l=!1)),m?f=!1:b&&(x||k||(f=!1)),g===34&&d[0]==='"'&&h>=48&&h<=57&&(f=l=!1),l&&f&&(l=b,f=k),!l&&!f){p&&(u.content=Ot(u.content,d.index,wu));continue}if(f)for(t=o.length-1;t>=0;t--){let y=o[t];if(o[t].level<a)break;if(y.single===p&&o[t].level===a){y=o[t];let E,v;p?(E=e.md.options.quotes[2],v=e.md.options.quotes[3]):(E=e.md.options.quotes[0],v=e.md.options.quotes[1]),u.content=Ot(u.content,d.index,v),r[y.token].content=Ot(r[y.token].content,y.pos,E),s+=v.length-1,y.token===n&&(s+=E.length-1),i=u.content,c=i.length,o.length=t;continue e}}l?o.push({token:n,pos:d.index,single:p,level:a}):f&&p&&(u.content=Ot(u.content,d.index,wu))}}}function S3(r){if(r.md.options.typographer)for(let e=r.tokens.length-1;e>=0;e--)r.tokens[e].type!=="inline"||!w3.test(r.tokens[e].content)||E3(r.tokens[e].children,r)}function A3(r){let e,t;const o=r.tokens,n=o.length;for(let u=0;u<n;u++){if(o[u].type!=="inline")continue;const a=o[u].children,i=a.length;for(e=0;e<i;e++)a[e].type==="text_special"&&(a[e].type="text");for(e=t=0;e<i;e++)a[e].type==="text"&&e+1<i&&a[e+1].type==="text"?a[e+1].content=a[e].content+a[e+1].content:(e!==t&&(a[t]=a[e]),t++);e!==t&&(a.length=t)}}const Po=[["normalize",d3],["block",f3],["inline",h3],["linkify",m3],["replacements",C3],["smartquotes",S3],["text_join",A3]];function Mn(){this.ruler=new se;for(let r=0;r<Po.length;r++)this.ruler.push(Po[r][0],Po[r][1])}Mn.prototype.process=function(r){const e=this.ruler.getRules("");for(let t=0,o=e.length;t<o;t++)e[t](r)};Mn.prototype.State=Di;function Oe(r,e,t,o){this.src=r,this.md=e,this.env=t,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const n=this.src;for(let u=0,a=0,i=0,s=0,c=n.length,d=!1;a<c;a++){const l=n.charCodeAt(a);if(!d)if(Y(l)){i++,l===9?s+=4-s%4:s++;continue}else d=!0;(l===10||a===c-1)&&(l!==10&&a++,this.bMarks.push(u),this.eMarks.push(a),this.tShift.push(i),this.sCount.push(s),this.bsCount.push(0),d=!1,i=0,s=0,u=a+1)}this.bMarks.push(n.length),this.eMarks.push(n.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Oe.prototype.push=function(r,e,t){const o=new De(r,e,t);return o.block=!0,t<0&&this.level--,o.level=this.level,t>0&&this.level++,this.tokens.push(o),o};Oe.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Oe.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Oe.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t;e++){const o=this.src.charCodeAt(e);if(!Y(o))break}return e};Oe.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!Y(this.src.charCodeAt(--e)))return e+1;return e};Oe.prototype.skipChars=function(e,t){for(let o=this.src.length;e<o&&this.src.charCodeAt(e)===t;e++);return e};Oe.prototype.skipCharsBack=function(e,t,o){if(e<=o)return e;for(;e>o;)if(t!==this.src.charCodeAt(--e))return e+1;return e};Oe.prototype.getLines=function(e,t,o,n){if(e>=t)return"";const u=new Array(t-e);for(let a=0,i=e;i<t;i++,a++){let s=0;const c=this.bMarks[i];let d=c,l;for(i+1<t||n?l=this.eMarks[i]+1:l=this.eMarks[i];d<l&&s<o;){const f=this.src.charCodeAt(d);if(Y(f))f===9?s+=4-(s+this.bsCount[i])%4:s++;else if(d-c<this.tShift[i])s++;else break;d++}s>o?u[a]=new Array(s-o+1).join(" ")+this.src.slice(d,l):u[a]=this.src.slice(d,l)}return u.join("")};Oe.prototype.Token=De;const T3=65536;function Bo(r,e){const t=r.bMarks[e]+r.tShift[e],o=r.eMarks[e];return r.src.slice(t,o)}function Eu(r){const e=[],t=r.length;let o=0,n=r.charCodeAt(o),u=!1,a=0,i="";for(;o<t;)n===124&&(u?(i+=r.substring(a,o-1),a=o):(e.push(i+r.substring(a,o)),i="",a=o+1)),u=n===92,o++,n=r.charCodeAt(o);return e.push(i+r.substring(a)),e}function D3(r,e,t,o){if(e+2>t)return!1;let n=e+1;if(r.sCount[n]<r.blkIndent||r.sCount[n]-r.blkIndent>=4)return!1;let u=r.bMarks[n]+r.tShift[n];if(u>=r.eMarks[n])return!1;const a=r.src.charCodeAt(u++);if(a!==124&&a!==45&&a!==58||u>=r.eMarks[n])return!1;const i=r.src.charCodeAt(u++);if(i!==124&&i!==45&&i!==58&&!Y(i)||a===45&&Y(i))return!1;for(;u<r.eMarks[n];){const y=r.src.charCodeAt(u);if(y!==124&&y!==45&&y!==58&&!Y(y))return!1;u++}let s=Bo(r,e+1),c=s.split("|");const d=[];for(let y=0;y<c.length;y++){const E=c[y].trim();if(!E){if(y===0||y===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(E))return!1;E.charCodeAt(E.length-1)===58?d.push(E.charCodeAt(0)===58?"center":"right"):E.charCodeAt(0)===58?d.push("left"):d.push("")}if(s=Bo(r,e).trim(),s.indexOf("|")===-1||r.sCount[e]-r.blkIndent>=4)return!1;c=Eu(s),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const l=c.length;if(l===0||l!==d.length)return!1;if(o)return!0;const f=r.parentType;r.parentType="table";const p=r.md.block.ruler.getRules("blockquote"),h=r.push("table_open","table",1),g=[e,0];h.map=g;const b=r.push("thead_open","thead",1);b.map=[e,e+1];const k=r.push("tr_open","tr",1);k.map=[e,e+1];for(let y=0;y<c.length;y++){const E=r.push("th_open","th",1);d[y]&&(E.attrs=[["style","text-align:"+d[y]]]);const v=r.push("inline","",0);v.content=c[y].trim(),v.children=[],r.push("th_close","th",-1)}r.push("tr_close","tr",-1),r.push("thead_close","thead",-1);let m,x=0;for(n=e+2;n<t&&!(r.sCount[n]<r.blkIndent);n++){let y=!1;for(let v=0,C=p.length;v<C;v++)if(p[v](r,n,t,!0)){y=!0;break}if(y||(s=Bo(r,n).trim(),!s)||r.sCount[n]-r.blkIndent>=4||(c=Eu(s),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),x+=l-c.length,x>T3))break;if(n===e+2){const v=r.push("tbody_open","tbody",1);v.map=m=[e+2,0]}const E=r.push("tr_open","tr",1);E.map=[n,n+1];for(let v=0;v<l;v++){const C=r.push("td_open","td",1);d[v]&&(C.attrs=[["style","text-align:"+d[v]]]);const R=r.push("inline","",0);R.content=c[v]?c[v].trim():"",R.children=[],r.push("td_close","td",-1)}r.push("tr_close","tr",-1)}return m&&(r.push("tbody_close","tbody",-1),m[1]=n),r.push("table_close","table",-1),g[1]=n,r.parentType=f,r.line=n,!0}function R3(r,e,t){if(r.sCount[e]-r.blkIndent<4)return!1;let o=e+1,n=o;for(;o<t;){if(r.isEmpty(o)){o++;continue}if(r.sCount[o]-r.blkIndent>=4){o++,n=o;continue}break}r.line=n;const u=r.push("code_block","code",0);return u.content=r.getLines(e,n,4+r.blkIndent,!1)+`
`,u.map=[e,r.line],!0}function $3(r,e,t,o){let n=r.bMarks[e]+r.tShift[e],u=r.eMarks[e];if(r.sCount[e]-r.blkIndent>=4||n+3>u)return!1;const a=r.src.charCodeAt(n);if(a!==126&&a!==96)return!1;let i=n;n=r.skipChars(n,a);let s=n-i;if(s<3)return!1;const c=r.src.slice(i,n),d=r.src.slice(n,u);if(a===96&&d.indexOf(String.fromCharCode(a))>=0)return!1;if(o)return!0;let l=e,f=!1;for(;l++,!(l>=t||(n=i=r.bMarks[l]+r.tShift[l],u=r.eMarks[l],n<u&&r.sCount[l]<r.blkIndent));)if(r.src.charCodeAt(n)===a&&!(r.sCount[l]-r.blkIndent>=4)&&(n=r.skipChars(n,a),!(n-i<s)&&(n=r.skipSpaces(n),!(n<u)))){f=!0;break}s=r.sCount[e],r.line=l+(f?1:0);const p=r.push("fence","code",0);return p.info=d,p.content=r.getLines(e+1,l,s,!0),p.markup=c,p.map=[e,r.line],!0}function P3(r,e,t,o){let n=r.bMarks[e]+r.tShift[e],u=r.eMarks[e];const a=r.lineMax;if(r.sCount[e]-r.blkIndent>=4||r.src.charCodeAt(n)!==62)return!1;if(o)return!0;const i=[],s=[],c=[],d=[],l=r.md.block.ruler.getRules("blockquote"),f=r.parentType;r.parentType="blockquote";let p=!1,h;for(h=e;h<t;h++){const x=r.sCount[h]<r.blkIndent;if(n=r.bMarks[h]+r.tShift[h],u=r.eMarks[h],n>=u)break;if(r.src.charCodeAt(n++)===62&&!x){let E=r.sCount[h]+1,v,C;r.src.charCodeAt(n)===32?(n++,E++,C=!1,v=!0):r.src.charCodeAt(n)===9?(v=!0,(r.bsCount[h]+E)%4===3?(n++,E++,C=!1):C=!0):v=!1;let R=E;for(i.push(r.bMarks[h]),r.bMarks[h]=n;n<u;){const T=r.src.charCodeAt(n);if(Y(T))T===9?R+=4-(R+r.bsCount[h]+(C?1:0))%4:R++;else break;n++}p=n>=u,s.push(r.bsCount[h]),r.bsCount[h]=r.sCount[h]+1+(v?1:0),c.push(r.sCount[h]),r.sCount[h]=R-E,d.push(r.tShift[h]),r.tShift[h]=n-r.bMarks[h];continue}if(p)break;let y=!1;for(let E=0,v=l.length;E<v;E++)if(l[E](r,h,t,!0)){y=!0;break}if(y){r.lineMax=h,r.blkIndent!==0&&(i.push(r.bMarks[h]),s.push(r.bsCount[h]),d.push(r.tShift[h]),c.push(r.sCount[h]),r.sCount[h]-=r.blkIndent);break}i.push(r.bMarks[h]),s.push(r.bsCount[h]),d.push(r.tShift[h]),c.push(r.sCount[h]),r.sCount[h]=-1}const g=r.blkIndent;r.blkIndent=0;const b=r.push("blockquote_open","blockquote",1);b.markup=">";const k=[e,0];b.map=k,r.md.block.tokenize(r,e,h);const m=r.push("blockquote_close","blockquote",-1);m.markup=">",r.lineMax=a,r.parentType=f,k[1]=r.line;for(let x=0;x<d.length;x++)r.bMarks[x+e]=i[x],r.tShift[x+e]=d[x],r.sCount[x+e]=c[x],r.bsCount[x+e]=s[x];return r.blkIndent=g,!0}function B3(r,e,t,o){const n=r.eMarks[e];if(r.sCount[e]-r.blkIndent>=4)return!1;let u=r.bMarks[e]+r.tShift[e];const a=r.src.charCodeAt(u++);if(a!==42&&a!==45&&a!==95)return!1;let i=1;for(;u<n;){const c=r.src.charCodeAt(u++);if(c!==a&&!Y(c))return!1;c===a&&i++}if(i<3)return!1;if(o)return!0;r.line=e+1;const s=r.push("hr","hr",0);return s.map=[e,r.line],s.markup=Array(i+1).join(String.fromCharCode(a)),!0}function Su(r,e){const t=r.eMarks[e];let o=r.bMarks[e]+r.tShift[e];const n=r.src.charCodeAt(o++);if(n!==42&&n!==45&&n!==43)return-1;if(o<t){const u=r.src.charCodeAt(o);if(!Y(u))return-1}return o}function Au(r,e){const t=r.bMarks[e]+r.tShift[e],o=r.eMarks[e];let n=t;if(n+1>=o)return-1;let u=r.src.charCodeAt(n++);if(u<48||u>57)return-1;for(;;){if(n>=o)return-1;if(u=r.src.charCodeAt(n++),u>=48&&u<=57){if(n-t>=10)return-1;continue}if(u===41||u===46)break;return-1}return n<o&&(u=r.src.charCodeAt(n),!Y(u))?-1:n}function I3(r,e){const t=r.level+2;for(let o=e+2,n=r.tokens.length-2;o<n;o++)r.tokens[o].level===t&&r.tokens[o].type==="paragraph_open"&&(r.tokens[o+2].hidden=!0,r.tokens[o].hidden=!0,o+=2)}function F3(r,e,t,o){let n,u,a,i,s=e,c=!0;if(r.sCount[s]-r.blkIndent>=4||r.listIndent>=0&&r.sCount[s]-r.listIndent>=4&&r.sCount[s]<r.blkIndent)return!1;let d=!1;o&&r.parentType==="paragraph"&&r.sCount[s]>=r.blkIndent&&(d=!0);let l,f,p;if((p=Au(r,s))>=0){if(l=!0,a=r.bMarks[s]+r.tShift[s],f=Number(r.src.slice(a,p-1)),d&&f!==1)return!1}else if((p=Su(r,s))>=0)l=!1;else return!1;if(d&&r.skipSpaces(p)>=r.eMarks[s])return!1;if(o)return!0;const h=r.src.charCodeAt(p-1),g=r.tokens.length;l?(i=r.push("ordered_list_open","ol",1),f!==1&&(i.attrs=[["start",f]])):i=r.push("bullet_list_open","ul",1);const b=[s,0];i.map=b,i.markup=String.fromCharCode(h);let k=!1;const m=r.md.block.ruler.getRules("list"),x=r.parentType;for(r.parentType="list";s<t;){u=p,n=r.eMarks[s];const y=r.sCount[s]+p-(r.bMarks[s]+r.tShift[s]);let E=y;for(;u<n;){const ne=r.src.charCodeAt(u);if(ne===9)E+=4-(E+r.bsCount[s])%4;else if(ne===32)E++;else break;u++}const v=u;let C;v>=n?C=1:C=E-y,C>4&&(C=1);const R=y+C;i=r.push("list_item_open","li",1),i.markup=String.fromCharCode(h);const T=[s,0];i.map=T,l&&(i.info=r.src.slice(a,p-1));const $=r.tight,P=r.tShift[s],ue=r.sCount[s],ve=r.listIndent;if(r.listIndent=r.blkIndent,r.blkIndent=R,r.tight=!0,r.tShift[s]=v-r.bMarks[s],r.sCount[s]=E,v>=n&&r.isEmpty(s+1)?r.line=Math.min(r.line+2,t):r.md.block.tokenize(r,s,t,!0),(!r.tight||k)&&(c=!1),k=r.line-s>1&&r.isEmpty(r.line-1),r.blkIndent=r.listIndent,r.listIndent=ve,r.tShift[s]=P,r.sCount[s]=ue,r.tight=$,i=r.push("list_item_close","li",-1),i.markup=String.fromCharCode(h),s=r.line,T[1]=s,s>=t||r.sCount[s]<r.blkIndent||r.sCount[s]-r.blkIndent>=4)break;let be=!1;for(let ne=0,Dt=m.length;ne<Dt;ne++)if(m[ne](r,s,t,!0)){be=!0;break}if(be)break;if(l){if(p=Au(r,s),p<0)break;a=r.bMarks[s]+r.tShift[s]}else if(p=Su(r,s),p<0)break;if(h!==r.src.charCodeAt(p-1))break}return l?i=r.push("ordered_list_close","ol",-1):i=r.push("bullet_list_close","ul",-1),i.markup=String.fromCharCode(h),b[1]=s,r.line=s,r.parentType=x,c&&I3(r,g),!0}function L3(r,e,t,o){let n=r.bMarks[e]+r.tShift[e],u=r.eMarks[e],a=e+1;if(r.sCount[e]-r.blkIndent>=4||r.src.charCodeAt(n)!==91)return!1;function i(m){const x=r.lineMax;if(m>=x||r.isEmpty(m))return null;let y=!1;if(r.sCount[m]-r.blkIndent>3&&(y=!0),r.sCount[m]<0&&(y=!0),!y){const C=r.md.block.ruler.getRules("reference"),R=r.parentType;r.parentType="reference";let T=!1;for(let $=0,P=C.length;$<P;$++)if(C[$](r,m,x,!0)){T=!0;break}if(r.parentType=R,T)return null}const E=r.bMarks[m]+r.tShift[m],v=r.eMarks[m];return r.src.slice(E,v+1)}let s=r.src.slice(n,u+1);u=s.length;let c=-1;for(n=1;n<u;n++){const m=s.charCodeAt(n);if(m===91)return!1;if(m===93){c=n;break}else if(m===10){const x=i(a);x!==null&&(s+=x,u=s.length,a++)}else if(m===92&&(n++,n<u&&s.charCodeAt(n)===10)){const x=i(a);x!==null&&(s+=x,u=s.length,a++)}}if(c<0||s.charCodeAt(c+1)!==58)return!1;for(n=c+2;n<u;n++){const m=s.charCodeAt(n);if(m===10){const x=i(a);x!==null&&(s+=x,u=s.length,a++)}else if(!Y(m))break}const d=r.md.helpers.parseLinkDestination(s,n,u);if(!d.ok)return!1;const l=r.md.normalizeLink(d.str);if(!r.md.validateLink(l))return!1;n=d.pos;const f=n,p=a,h=n;for(;n<u;n++){const m=s.charCodeAt(n);if(m===10){const x=i(a);x!==null&&(s+=x,u=s.length,a++)}else if(!Y(m))break}let g=r.md.helpers.parseLinkTitle(s,n,u);for(;g.can_continue;){const m=i(a);if(m===null)break;s+=m,n=u,u=s.length,a++,g=r.md.helpers.parseLinkTitle(s,n,u,g)}let b;for(n<u&&h!==n&&g.ok?(b=g.str,n=g.pos):(b="",n=f,a=p);n<u;){const m=s.charCodeAt(n);if(!Y(m))break;n++}if(n<u&&s.charCodeAt(n)!==10&&b)for(b="",n=f,a=p;n<u;){const m=s.charCodeAt(n);if(!Y(m))break;n++}if(n<u&&s.charCodeAt(n)!==10)return!1;const k=go(s.slice(1,c));return k?(o||(typeof r.env.references>"u"&&(r.env.references={}),typeof r.env.references[k]>"u"&&(r.env.references[k]={title:b,href:l}),r.line=a),!0):!1}const M3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],O3="[a-zA-Z_:][a-zA-Z0-9:._-]*",N3="[^\"'=<>`\\x00-\\x20]+",U3="'[^']*'",z3='"[^"]*"',Y3="(?:"+N3+"|"+U3+"|"+z3+")",H3="(?:\\s+"+O3+"(?:\\s*=\\s*"+Y3+")?)",$i="<[A-Za-z][A-Za-z0-9\\-]*"+H3+"*\\s*\\/?>",Pi="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",j3="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",q3="<[?][\\s\\S]*?[?]>",W3="<![A-Za-z][^>]*>",V3="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",J3=new RegExp("^(?:"+$i+"|"+Pi+"|"+j3+"|"+q3+"|"+W3+"|"+V3+")"),G3=new RegExp("^(?:"+$i+"|"+Pi+")"),mr=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+M3.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(G3.source+"\\s*$"),/^$/,!1]];function X3(r,e,t,o){let n=r.bMarks[e]+r.tShift[e],u=r.eMarks[e];if(r.sCount[e]-r.blkIndent>=4||!r.md.options.html||r.src.charCodeAt(n)!==60)return!1;let a=r.src.slice(n,u),i=0;for(;i<mr.length&&!mr[i][0].test(a);i++);if(i===mr.length)return!1;if(o)return mr[i][2];let s=e+1;if(!mr[i][1].test(a)){for(;s<t&&!(r.sCount[s]<r.blkIndent);s++)if(n=r.bMarks[s]+r.tShift[s],u=r.eMarks[s],a=r.src.slice(n,u),mr[i][1].test(a)){a.length!==0&&s++;break}}r.line=s;const c=r.push("html_block","",0);return c.map=[e,s],c.content=r.getLines(e,s,r.blkIndent,!0),!0}function Z3(r,e,t,o){let n=r.bMarks[e]+r.tShift[e],u=r.eMarks[e];if(r.sCount[e]-r.blkIndent>=4)return!1;let a=r.src.charCodeAt(n);if(a!==35||n>=u)return!1;let i=1;for(a=r.src.charCodeAt(++n);a===35&&n<u&&i<=6;)i++,a=r.src.charCodeAt(++n);if(i>6||n<u&&!Y(a))return!1;if(o)return!0;u=r.skipSpacesBack(u,n);const s=r.skipCharsBack(u,35,n);s>n&&Y(r.src.charCodeAt(s-1))&&(u=s),r.line=e+1;const c=r.push("heading_open","h"+String(i),1);c.markup="########".slice(0,i),c.map=[e,r.line];const d=r.push("inline","",0);d.content=r.src.slice(n,u).trim(),d.map=[e,r.line],d.children=[];const l=r.push("heading_close","h"+String(i),-1);return l.markup="########".slice(0,i),!0}function K3(r,e,t){const o=r.md.block.ruler.getRules("paragraph");if(r.sCount[e]-r.blkIndent>=4)return!1;const n=r.parentType;r.parentType="paragraph";let u=0,a,i=e+1;for(;i<t&&!r.isEmpty(i);i++){if(r.sCount[i]-r.blkIndent>3)continue;if(r.sCount[i]>=r.blkIndent){let p=r.bMarks[i]+r.tShift[i];const h=r.eMarks[i];if(p<h&&(a=r.src.charCodeAt(p),(a===45||a===61)&&(p=r.skipChars(p,a),p=r.skipSpaces(p),p>=h))){u=a===61?1:2;break}}if(r.sCount[i]<0)continue;let f=!1;for(let p=0,h=o.length;p<h;p++)if(o[p](r,i,t,!0)){f=!0;break}if(f)break}if(!u)return!1;const s=r.getLines(e,i,r.blkIndent,!1).trim();r.line=i+1;const c=r.push("heading_open","h"+String(u),1);c.markup=String.fromCharCode(a),c.map=[e,r.line];const d=r.push("inline","",0);d.content=s,d.map=[e,r.line-1],d.children=[];const l=r.push("heading_close","h"+String(u),-1);return l.markup=String.fromCharCode(a),r.parentType=n,!0}function Q3(r,e,t){const o=r.md.block.ruler.getRules("paragraph"),n=r.parentType;let u=e+1;for(r.parentType="paragraph";u<t&&!r.isEmpty(u);u++){if(r.sCount[u]-r.blkIndent>3||r.sCount[u]<0)continue;let c=!1;for(let d=0,l=o.length;d<l;d++)if(o[d](r,u,t,!0)){c=!0;break}if(c)break}const a=r.getLines(e,u,r.blkIndent,!1).trim();r.line=u;const i=r.push("paragraph_open","p",1);i.map=[e,r.line];const s=r.push("inline","",0);return s.content=a,s.map=[e,r.line],s.children=[],r.push("paragraph_close","p",-1),r.parentType=n,!0}const Nt=[["table",D3,["paragraph","reference"]],["code",R3],["fence",$3,["paragraph","reference","blockquote","list"]],["blockquote",P3,["paragraph","reference","blockquote","list"]],["hr",B3,["paragraph","reference","blockquote","list"]],["list",F3,["paragraph","reference","blockquote"]],["reference",L3],["html_block",X3,["paragraph","reference","blockquote"]],["heading",Z3,["paragraph","reference","blockquote"]],["lheading",K3],["paragraph",Q3]];function mo(){this.ruler=new se;for(let r=0;r<Nt.length;r++)this.ruler.push(Nt[r][0],Nt[r][1],{alt:(Nt[r][2]||[]).slice()})}mo.prototype.tokenize=function(r,e,t){const o=this.ruler.getRules(""),n=o.length,u=r.md.options.maxNesting;let a=e,i=!1;for(;a<t&&(r.line=a=r.skipEmptyLines(a),!(a>=t||r.sCount[a]<r.blkIndent));){if(r.level>=u){r.line=t;break}const s=r.line;let c=!1;for(let d=0;d<n;d++)if(c=o[d](r,a,t,!1),c){if(s>=r.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");r.tight=!i,r.isEmpty(r.line-1)&&(i=!0),a=r.line,a<t&&r.isEmpty(a)&&(i=!0,a++,r.line=a)}};mo.prototype.parse=function(r,e,t,o){if(!r)return;const n=new this.State(r,e,t,o);this.tokenize(n,n.line,n.lineMax)};mo.prototype.State=Oe;function At(r,e,t,o){this.src=r,this.env=t,this.md=e,this.tokens=o,this.tokens_meta=Array(o.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}At.prototype.pushPending=function(){const r=new De("text","",0);return r.content=this.pending,r.level=this.pendingLevel,this.tokens.push(r),this.pending="",r};At.prototype.push=function(r,e,t){this.pending&&this.pushPending();const o=new De(r,e,t);let n=null;return t<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,t>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],n={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(n),o};At.prototype.scanDelims=function(r,e){const t=this.posMax,o=this.src.charCodeAt(r),n=r>0?this.src.charCodeAt(r-1):32;let u=r;for(;u<t&&this.src.charCodeAt(u)===o;)u++;const a=u-r,i=u<t?this.src.charCodeAt(u):32,s=lt(n)||ct(String.fromCharCode(n)),c=lt(i)||ct(String.fromCharCode(i)),d=st(n),l=st(i),f=!l&&(!c||d||s),p=!d&&(!s||l||c);return{can_open:f&&(e||!p||s),can_close:p&&(e||!f||c),length:a}};At.prototype.Token=De;function e_(r){switch(r){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function r_(r,e){let t=r.pos;for(;t<r.posMax&&!e_(r.src.charCodeAt(t));)t++;return t===r.pos?!1:(e||(r.pending+=r.src.slice(r.pos,t)),r.pos=t,!0)}const t_=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function o_(r,e){if(!r.md.options.linkify||r.linkLevel>0)return!1;const t=r.pos,o=r.posMax;if(t+3>o||r.src.charCodeAt(t)!==58||r.src.charCodeAt(t+1)!==47||r.src.charCodeAt(t+2)!==47)return!1;const n=r.pending.match(t_);if(!n)return!1;const u=n[1],a=r.md.linkify.matchAtStart(r.src.slice(t-u.length));if(!a)return!1;let i=a.url;if(i.length<=u.length)return!1;i=i.replace(/\*+$/,"");const s=r.md.normalizeLink(i);if(!r.md.validateLink(s))return!1;if(!e){r.pending=r.pending.slice(0,-u.length);const c=r.push("link_open","a",1);c.attrs=[["href",s]],c.markup="linkify",c.info="auto";const d=r.push("text","",0);d.content=r.md.normalizeLinkText(i);const l=r.push("link_close","a",-1);l.markup="linkify",l.info="auto"}return r.pos+=i.length-u.length,!0}function n_(r,e){let t=r.pos;if(r.src.charCodeAt(t)!==10)return!1;const o=r.pending.length-1,n=r.posMax;if(!e)if(o>=0&&r.pending.charCodeAt(o)===32)if(o>=1&&r.pending.charCodeAt(o-1)===32){let u=o-1;for(;u>=1&&r.pending.charCodeAt(u-1)===32;)u--;r.pending=r.pending.slice(0,u),r.push("hardbreak","br",0)}else r.pending=r.pending.slice(0,-1),r.push("softbreak","br",0);else r.push("softbreak","br",0);for(t++;t<n&&Y(r.src.charCodeAt(t));)t++;return r.pos=t,!0}const On=[];for(let r=0;r<256;r++)On.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(r){On[r.charCodeAt(0)]=1});function u_(r,e){let t=r.pos;const o=r.posMax;if(r.src.charCodeAt(t)!==92||(t++,t>=o))return!1;let n=r.src.charCodeAt(t);if(n===10){for(e||r.push("hardbreak","br",0),t++;t<o&&(n=r.src.charCodeAt(t),!!Y(n));)t++;return r.pos=t,!0}let u=r.src[t];if(n>=55296&&n<=56319&&t+1<o){const i=r.src.charCodeAt(t+1);i>=56320&&i<=57343&&(u+=r.src[t+1],t++)}const a="\\"+u;if(!e){const i=r.push("text_special","",0);n<256&&On[n]!==0?i.content=u:i.content=a,i.markup=a,i.info="escape"}return r.pos=t+1,!0}function a_(r,e){let t=r.pos;if(r.src.charCodeAt(t)!==96)return!1;const n=t;t++;const u=r.posMax;for(;t<u&&r.src.charCodeAt(t)===96;)t++;const a=r.src.slice(n,t),i=a.length;if(r.backticksScanned&&(r.backticks[i]||0)<=n)return e||(r.pending+=a),r.pos+=i,!0;let s=t,c;for(;(c=r.src.indexOf("`",s))!==-1;){for(s=c+1;s<u&&r.src.charCodeAt(s)===96;)s++;const d=s-c;if(d===i){if(!e){const l=r.push("code_inline","code",0);l.markup=a,l.content=r.src.slice(t,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return r.pos=s,!0}r.backticks[d]=c}return r.backticksScanned=!0,e||(r.pending+=a),r.pos+=i,!0}function i_(r,e){const t=r.pos,o=r.src.charCodeAt(t);if(e||o!==126)return!1;const n=r.scanDelims(r.pos,!0);let u=n.length;const a=String.fromCharCode(o);if(u<2)return!1;let i;u%2&&(i=r.push("text","",0),i.content=a,u--);for(let s=0;s<u;s+=2)i=r.push("text","",0),i.content=a+a,r.delimiters.push({marker:o,length:0,token:r.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return r.pos+=n.length,!0}function Tu(r,e){let t;const o=[],n=e.length;for(let u=0;u<n;u++){const a=e[u];if(a.marker!==126||a.end===-1)continue;const i=e[a.end];t=r.tokens[a.token],t.type="s_open",t.tag="s",t.nesting=1,t.markup="~~",t.content="",t=r.tokens[i.token],t.type="s_close",t.tag="s",t.nesting=-1,t.markup="~~",t.content="",r.tokens[i.token-1].type==="text"&&r.tokens[i.token-1].content==="~"&&o.push(i.token-1)}for(;o.length;){const u=o.pop();let a=u+1;for(;a<r.tokens.length&&r.tokens[a].type==="s_close";)a++;a--,u!==a&&(t=r.tokens[a],r.tokens[a]=r.tokens[u],r.tokens[u]=t)}}function s_(r){const e=r.tokens_meta,t=r.tokens_meta.length;Tu(r,r.delimiters);for(let o=0;o<t;o++)e[o]&&e[o].delimiters&&Tu(r,e[o].delimiters)}const Bi={tokenize:i_,postProcess:s_};function c_(r,e){const t=r.pos,o=r.src.charCodeAt(t);if(e||o!==95&&o!==42)return!1;const n=r.scanDelims(r.pos,o===42);for(let u=0;u<n.length;u++){const a=r.push("text","",0);a.content=String.fromCharCode(o),r.delimiters.push({marker:o,length:n.length,token:r.tokens.length-1,end:-1,open:n.can_open,close:n.can_close})}return r.pos+=n.length,!0}function Du(r,e){const t=e.length;for(let o=t-1;o>=0;o--){const n=e[o];if(n.marker!==95&&n.marker!==42||n.end===-1)continue;const u=e[n.end],a=o>0&&e[o-1].end===n.end+1&&e[o-1].marker===n.marker&&e[o-1].token===n.token-1&&e[n.end+1].token===u.token+1,i=String.fromCharCode(n.marker),s=r.tokens[n.token];s.type=a?"strong_open":"em_open",s.tag=a?"strong":"em",s.nesting=1,s.markup=a?i+i:i,s.content="";const c=r.tokens[u.token];c.type=a?"strong_close":"em_close",c.tag=a?"strong":"em",c.nesting=-1,c.markup=a?i+i:i,c.content="",a&&(r.tokens[e[o-1].token].content="",r.tokens[e[n.end+1].token].content="",o--)}}function l_(r){const e=r.tokens_meta,t=r.tokens_meta.length;Du(r,r.delimiters);for(let o=0;o<t;o++)e[o]&&e[o].delimiters&&Du(r,e[o].delimiters)}const Ii={tokenize:c_,postProcess:l_};function d_(r,e){let t,o,n,u,a="",i="",s=r.pos,c=!0;if(r.src.charCodeAt(r.pos)!==91)return!1;const d=r.pos,l=r.posMax,f=r.pos+1,p=r.md.helpers.parseLinkLabel(r,r.pos,!0);if(p<0)return!1;let h=p+1;if(h<l&&r.src.charCodeAt(h)===40){for(c=!1,h++;h<l&&(t=r.src.charCodeAt(h),!(!Y(t)&&t!==10));h++);if(h>=l)return!1;if(s=h,n=r.md.helpers.parseLinkDestination(r.src,h,r.posMax),n.ok){for(a=r.md.normalizeLink(n.str),r.md.validateLink(a)?h=n.pos:a="",s=h;h<l&&(t=r.src.charCodeAt(h),!(!Y(t)&&t!==10));h++);if(n=r.md.helpers.parseLinkTitle(r.src,h,r.posMax),h<l&&s!==h&&n.ok)for(i=n.str,h=n.pos;h<l&&(t=r.src.charCodeAt(h),!(!Y(t)&&t!==10));h++);}(h>=l||r.src.charCodeAt(h)!==41)&&(c=!0),h++}if(c){if(typeof r.env.references>"u")return!1;if(h<l&&r.src.charCodeAt(h)===91?(s=h+1,h=r.md.helpers.parseLinkLabel(r,h),h>=0?o=r.src.slice(s,h++):h=p+1):h=p+1,o||(o=r.src.slice(f,p)),u=r.env.references[go(o)],!u)return r.pos=d,!1;a=u.href,i=u.title}if(!e){r.pos=f,r.posMax=p;const g=r.push("link_open","a",1),b=[["href",a]];g.attrs=b,i&&b.push(["title",i]),r.linkLevel++,r.md.inline.tokenize(r),r.linkLevel--,r.push("link_close","a",-1)}return r.pos=h,r.posMax=l,!0}function f_(r,e){let t,o,n,u,a,i,s,c,d="";const l=r.pos,f=r.posMax;if(r.src.charCodeAt(r.pos)!==33||r.src.charCodeAt(r.pos+1)!==91)return!1;const p=r.pos+2,h=r.md.helpers.parseLinkLabel(r,r.pos+1,!1);if(h<0)return!1;if(u=h+1,u<f&&r.src.charCodeAt(u)===40){for(u++;u<f&&(t=r.src.charCodeAt(u),!(!Y(t)&&t!==10));u++);if(u>=f)return!1;for(c=u,i=r.md.helpers.parseLinkDestination(r.src,u,r.posMax),i.ok&&(d=r.md.normalizeLink(i.str),r.md.validateLink(d)?u=i.pos:d=""),c=u;u<f&&(t=r.src.charCodeAt(u),!(!Y(t)&&t!==10));u++);if(i=r.md.helpers.parseLinkTitle(r.src,u,r.posMax),u<f&&c!==u&&i.ok)for(s=i.str,u=i.pos;u<f&&(t=r.src.charCodeAt(u),!(!Y(t)&&t!==10));u++);else s="";if(u>=f||r.src.charCodeAt(u)!==41)return r.pos=l,!1;u++}else{if(typeof r.env.references>"u")return!1;if(u<f&&r.src.charCodeAt(u)===91?(c=u+1,u=r.md.helpers.parseLinkLabel(r,u),u>=0?n=r.src.slice(c,u++):u=h+1):u=h+1,n||(n=r.src.slice(p,h)),a=r.env.references[go(n)],!a)return r.pos=l,!1;d=a.href,s=a.title}if(!e){o=r.src.slice(p,h);const g=[];r.md.inline.parse(o,r.md,r.env,g);const b=r.push("image","img",0),k=[["src",d],["alt",""]];b.attrs=k,b.children=g,b.content=o,s&&k.push(["title",s])}return r.pos=u,r.posMax=f,!0}const h_=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,p_=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function g_(r,e){let t=r.pos;if(r.src.charCodeAt(t)!==60)return!1;const o=r.pos,n=r.posMax;for(;;){if(++t>=n)return!1;const a=r.src.charCodeAt(t);if(a===60)return!1;if(a===62)break}const u=r.src.slice(o+1,t);if(p_.test(u)){const a=r.md.normalizeLink(u);if(!r.md.validateLink(a))return!1;if(!e){const i=r.push("link_open","a",1);i.attrs=[["href",a]],i.markup="autolink",i.info="auto";const s=r.push("text","",0);s.content=r.md.normalizeLinkText(u);const c=r.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return r.pos+=u.length+2,!0}if(h_.test(u)){const a=r.md.normalizeLink("mailto:"+u);if(!r.md.validateLink(a))return!1;if(!e){const i=r.push("link_open","a",1);i.attrs=[["href",a]],i.markup="autolink",i.info="auto";const s=r.push("text","",0);s.content=r.md.normalizeLinkText(u);const c=r.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return r.pos+=u.length+2,!0}return!1}function m_(r){return/^<a[>\s]/i.test(r)}function b_(r){return/^<\/a\s*>/i.test(r)}function __(r){const e=r|32;return e>=97&&e<=122}function y_(r,e){if(!r.md.options.html)return!1;const t=r.posMax,o=r.pos;if(r.src.charCodeAt(o)!==60||o+2>=t)return!1;const n=r.src.charCodeAt(o+1);if(n!==33&&n!==63&&n!==47&&!__(n))return!1;const u=r.src.slice(o).match(J3);if(!u)return!1;if(!e){const a=r.push("html_inline","",0);a.content=u[0],m_(a.content)&&r.linkLevel++,b_(a.content)&&r.linkLevel--}return r.pos+=u[0].length,!0}const x_=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,k_=/^&([a-z][a-z0-9]{1,31});/i;function v_(r,e){const t=r.pos,o=r.posMax;if(r.src.charCodeAt(t)!==38||t+1>=o)return!1;if(r.src.charCodeAt(t+1)===35){const u=r.src.slice(t).match(x_);if(u){if(!e){const a=u[1][0].toLowerCase()==="x"?parseInt(u[1].slice(1),16):parseInt(u[1],10),i=r.push("text_special","",0);i.content=Ln(a)?to(a):to(65533),i.markup=u[0],i.info="entity"}return r.pos+=u[0].length,!0}}else{const u=r.src.slice(t).match(k_);if(u){const a=Si(u[0]);if(a!==u[0]){if(!e){const i=r.push("text_special","",0);i.content=a,i.markup=u[0],i.info="entity"}return r.pos+=u[0].length,!0}}}return!1}function Ru(r){const e={},t=r.length;if(!t)return;let o=0,n=-2;const u=[];for(let a=0;a<t;a++){const i=r[a];if(u.push(0),(r[o].marker!==i.marker||n!==i.token-1)&&(o=a),n=i.token,i.length=i.length||0,!i.close)continue;e.hasOwnProperty(i.marker)||(e[i.marker]=[-1,-1,-1,-1,-1,-1]);const s=e[i.marker][(i.open?3:0)+i.length%3];let c=o-u[o]-1,d=c;for(;c>s;c-=u[c]+1){const l=r[c];if(l.marker===i.marker&&l.open&&l.end<0){let f=!1;if((l.close||i.open)&&(l.length+i.length)%3===0&&(l.length%3!==0||i.length%3!==0)&&(f=!0),!f){const p=c>0&&!r[c-1].open?u[c-1]+1:0;u[a]=a-c+p,u[c]=p,i.open=!1,l.end=a,l.close=!1,d=-1,n=-2;break}}}d!==-1&&(e[i.marker][(i.open?3:0)+(i.length||0)%3]=d)}}function C_(r){const e=r.tokens_meta,t=r.tokens_meta.length;Ru(r.delimiters);for(let o=0;o<t;o++)e[o]&&e[o].delimiters&&Ru(e[o].delimiters)}function w_(r){let e,t,o=0;const n=r.tokens,u=r.tokens.length;for(e=t=0;e<u;e++)n[e].nesting<0&&o--,n[e].level=o,n[e].nesting>0&&o++,n[e].type==="text"&&e+1<u&&n[e+1].type==="text"?n[e+1].content=n[e].content+n[e+1].content:(e!==t&&(n[t]=n[e]),t++);e!==t&&(n.length=t)}const Io=[["text",r_],["linkify",o_],["newline",n_],["escape",u_],["backticks",a_],["strikethrough",Bi.tokenize],["emphasis",Ii.tokenize],["link",d_],["image",f_],["autolink",g_],["html_inline",y_],["entity",v_]],Fo=[["balance_pairs",C_],["strikethrough",Bi.postProcess],["emphasis",Ii.postProcess],["fragments_join",w_]];function Tt(){this.ruler=new se;for(let r=0;r<Io.length;r++)this.ruler.push(Io[r][0],Io[r][1]);this.ruler2=new se;for(let r=0;r<Fo.length;r++)this.ruler2.push(Fo[r][0],Fo[r][1])}Tt.prototype.skipToken=function(r){const e=r.pos,t=this.ruler.getRules(""),o=t.length,n=r.md.options.maxNesting,u=r.cache;if(typeof u[e]<"u"){r.pos=u[e];return}let a=!1;if(r.level<n){for(let i=0;i<o;i++)if(r.level++,a=t[i](r,!0),r.level--,a){if(e>=r.pos)throw new Error("inline rule didn't increment state.pos");break}}else r.pos=r.posMax;a||r.pos++,u[e]=r.pos};Tt.prototype.tokenize=function(r){const e=this.ruler.getRules(""),t=e.length,o=r.posMax,n=r.md.options.maxNesting;for(;r.pos<o;){const u=r.pos;let a=!1;if(r.level<n){for(let i=0;i<t;i++)if(a=e[i](r,!1),a){if(u>=r.pos)throw new Error("inline rule didn't increment state.pos");break}}if(a){if(r.pos>=o)break;continue}r.pending+=r.src[r.pos++]}r.pending&&r.pushPending()};Tt.prototype.parse=function(r,e,t,o){const n=new this.State(r,e,t,o);this.tokenize(n);const u=this.ruler2.getRules(""),a=u.length;for(let i=0;i<a;i++)u[i](n)};Tt.prototype.State=At;function E_(r){const e={};r=r||{},e.src_Any=ki.source,e.src_Cc=vi.source,e.src_Z=wi.source,e.src_P=In.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const t="[><]";return e.src_pseudo_letter="(?:(?!"+t+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+t+"|"+e.src_ZPCc+")(?!"+(r["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+t+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(r["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+t+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function tn(r){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(o){r[o]=t[o]})}),r}function bo(r){return Object.prototype.toString.call(r)}function S_(r){return bo(r)==="[object String]"}function A_(r){return bo(r)==="[object Object]"}function T_(r){return bo(r)==="[object RegExp]"}function $u(r){return bo(r)==="[object Function]"}function D_(r){return r.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Fi={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function R_(r){return Object.keys(r||{}).reduce(function(e,t){return e||Fi.hasOwnProperty(t)},!1)}const $_={"http:":{validate:function(r,e,t){const o=r.slice(e);return t.re.http||(t.re.http=new RegExp("^\\/\\/"+t.re.src_auth+t.re.src_host_port_strict+t.re.src_path,"i")),t.re.http.test(o)?o.match(t.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(r,e,t){const o=r.slice(e);return t.re.no_http||(t.re.no_http=new RegExp("^"+t.re.src_auth+"(?:localhost|(?:(?:"+t.re.src_domain+")\\.)+"+t.re.src_domain_root+")"+t.re.src_port+t.re.src_host_terminator+t.re.src_path,"i")),t.re.no_http.test(o)?e>=3&&r[e-3]===":"||e>=3&&r[e-3]==="/"?0:o.match(t.re.no_http)[0].length:0}},"mailto:":{validate:function(r,e,t){const o=r.slice(e);return t.re.mailto||(t.re.mailto=new RegExp("^"+t.re.src_email_name+"@"+t.re.src_host_strict,"i")),t.re.mailto.test(o)?o.match(t.re.mailto)[0].length:0}}},P_="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",B_="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function I_(r){r.__index__=-1,r.__text_cache__=""}function F_(r){return function(e,t){const o=e.slice(t);return r.test(o)?o.match(r)[0].length:0}}function Pu(){return function(r,e){e.normalize(r)}}function oo(r){const e=r.re=E_(r.__opts__),t=r.__tlds__.slice();r.onCompile(),r.__tlds_replaced__||t.push(P_),t.push(e.src_xn),e.src_tlds=t.join("|");function o(i){return i.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(o(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(o(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(o(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(o(e.tpl_host_fuzzy_test),"i");const n=[];r.__compiled__={};function u(i,s){throw new Error('(LinkifyIt) Invalid schema "'+i+'": '+s)}Object.keys(r.__schemas__).forEach(function(i){const s=r.__schemas__[i];if(s===null)return;const c={validate:null,link:null};if(r.__compiled__[i]=c,A_(s)){T_(s.validate)?c.validate=F_(s.validate):$u(s.validate)?c.validate=s.validate:u(i,s),$u(s.normalize)?c.normalize=s.normalize:s.normalize?u(i,s):c.normalize=Pu();return}if(S_(s)){n.push(i);return}u(i,s)}),n.forEach(function(i){r.__compiled__[r.__schemas__[i]]&&(r.__compiled__[i].validate=r.__compiled__[r.__schemas__[i]].validate,r.__compiled__[i].normalize=r.__compiled__[r.__schemas__[i]].normalize)}),r.__compiled__[""]={validate:null,normalize:Pu()};const a=Object.keys(r.__compiled__).filter(function(i){return i.length>0&&r.__compiled__[i]}).map(D_).join("|");r.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","i"),r.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","ig"),r.re.schema_at_start=RegExp("^"+r.re.schema_search.source,"i"),r.re.pretest=RegExp("("+r.re.schema_test.source+")|("+r.re.host_fuzzy_test.source+")|@","i"),I_(r)}function L_(r,e){const t=r.__index__,o=r.__last_index__,n=r.__text_cache__.slice(t,o);this.schema=r.__schema__.toLowerCase(),this.index=t+e,this.lastIndex=o+e,this.raw=n,this.text=n,this.url=n}function on(r,e){const t=new L_(r,e);return r.__compiled__[t.schema].normalize(t,r),t}function pe(r,e){if(!(this instanceof pe))return new pe(r,e);e||R_(r)&&(e=r,r={}),this.__opts__=tn({},Fi,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=tn({},$_,r),this.__compiled__={},this.__tlds__=B_,this.__tlds_replaced__=!1,this.re={},oo(this)}pe.prototype.add=function(e,t){return this.__schemas__[e]=t,oo(this),this};pe.prototype.set=function(e){return this.__opts__=tn(this.__opts__,e),this};pe.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,o,n,u,a,i,s,c,d;if(this.re.schema_test.test(e)){for(s=this.re.schema_search,s.lastIndex=0;(t=s.exec(e))!==null;)if(u=this.testSchemaAt(e,t[2],s.lastIndex),u){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+u;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(o=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(a=o.index+o[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=o.index+o[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(d=e.indexOf("@"),d>=0&&(n=e.match(this.re.email_fuzzy))!==null&&(a=n.index+n[1].length,i=n.index+n[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=i))),this.__index__>=0};pe.prototype.pretest=function(e){return this.re.pretest.test(e)};pe.prototype.testSchemaAt=function(e,t,o){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,o,this):0};pe.prototype.match=function(e){const t=[];let o=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(on(this,o)),o=this.__last_index__);let n=o?e.slice(o):e;for(;this.test(n);)t.push(on(this,o)),n=n.slice(this.__last_index__),o+=this.__last_index__;return t.length?t:null};pe.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const o=this.testSchemaAt(e,t[2],t[0].length);return o?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o,on(this,0)):null};pe.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(o,n,u){return o!==u[n-1]}).reverse(),oo(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,oo(this),this)};pe.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};pe.prototype.onCompile=function(){};const wr=2147483647,Fe=36,Nn=1,dt=26,M_=38,O_=700,Li=72,Mi=128,Oi="-",N_=/^xn--/,U_=/[^\0-\x7F]/,z_=/[\x2E\u3002\uFF0E\uFF61]/g,Y_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Lo=Fe-Nn,Le=Math.floor,Mo=String.fromCharCode;function qe(r){throw new RangeError(Y_[r])}function H_(r,e){const t=[];let o=r.length;for(;o--;)t[o]=e(r[o]);return t}function Ni(r,e){const t=r.split("@");let o="";t.length>1&&(o=t[0]+"@",r=t[1]),r=r.replace(z_,".");const n=r.split("."),u=H_(n,e).join(".");return o+u}function Ui(r){const e=[];let t=0;const o=r.length;for(;t<o;){const n=r.charCodeAt(t++);if(n>=55296&&n<=56319&&t<o){const u=r.charCodeAt(t++);(u&64512)==56320?e.push(((n&1023)<<10)+(u&1023)+65536):(e.push(n),t--)}else e.push(n)}return e}const j_=r=>String.fromCodePoint(...r),q_=function(r){return r>=48&&r<58?26+(r-48):r>=65&&r<91?r-65:r>=97&&r<123?r-97:Fe},Bu=function(r,e){return r+22+75*(r<26)-((e!=0)<<5)},zi=function(r,e,t){let o=0;for(r=t?Le(r/O_):r>>1,r+=Le(r/e);r>Lo*dt>>1;o+=Fe)r=Le(r/Lo);return Le(o+(Lo+1)*r/(r+M_))},Yi=function(r){const e=[],t=r.length;let o=0,n=Mi,u=Li,a=r.lastIndexOf(Oi);a<0&&(a=0);for(let i=0;i<a;++i)r.charCodeAt(i)>=128&&qe("not-basic"),e.push(r.charCodeAt(i));for(let i=a>0?a+1:0;i<t;){const s=o;for(let d=1,l=Fe;;l+=Fe){i>=t&&qe("invalid-input");const f=q_(r.charCodeAt(i++));f>=Fe&&qe("invalid-input"),f>Le((wr-o)/d)&&qe("overflow"),o+=f*d;const p=l<=u?Nn:l>=u+dt?dt:l-u;if(f<p)break;const h=Fe-p;d>Le(wr/h)&&qe("overflow"),d*=h}const c=e.length+1;u=zi(o-s,c,s==0),Le(o/c)>wr-n&&qe("overflow"),n+=Le(o/c),o%=c,e.splice(o++,0,n)}return String.fromCodePoint(...e)},Hi=function(r){const e=[];r=Ui(r);const t=r.length;let o=Mi,n=0,u=Li;for(const s of r)s<128&&e.push(Mo(s));const a=e.length;let i=a;for(a&&e.push(Oi);i<t;){let s=wr;for(const d of r)d>=o&&d<s&&(s=d);const c=i+1;s-o>Le((wr-n)/c)&&qe("overflow"),n+=(s-o)*c,o=s;for(const d of r)if(d<o&&++n>wr&&qe("overflow"),d===o){let l=n;for(let f=Fe;;f+=Fe){const p=f<=u?Nn:f>=u+dt?dt:f-u;if(l<p)break;const h=l-p,g=Fe-p;e.push(Mo(Bu(p+h%g,0))),l=Le(h/g)}e.push(Mo(Bu(l,0))),u=zi(n,c,i===a),n=0,++i}++n,++o}return e.join("")},W_=function(r){return Ni(r,function(e){return N_.test(e)?Yi(e.slice(4).toLowerCase()):e})},V_=function(r){return Ni(r,function(e){return U_.test(e)?"xn--"+Hi(e):e})},ji={version:"2.3.1",ucs2:{decode:Ui,encode:j_},decode:Yi,encode:Hi,toASCII:V_,toUnicode:W_},J_={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},G_={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},X_={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Z_={default:J_,zero:G_,commonmark:X_},K_=/^(vbscript|javascript|file|data):/,Q_=/^data:image\/(gif|png|jpeg|webp);/;function e5(r){const e=r.trim().toLowerCase();return K_.test(e)?Q_.test(e):!0}const qi=["http:","https:","mailto:"];function r5(r){const e=Bn(r,!0);if(e.hostname&&(!e.protocol||qi.indexOf(e.protocol)>=0))try{e.hostname=ji.toASCII(e.hostname)}catch{}return St(Pn(e))}function t5(r){const e=Bn(r,!0);if(e.hostname&&(!e.protocol||qi.indexOf(e.protocol)>=0))try{e.hostname=ji.toUnicode(e.hostname)}catch{}return Nr(Pn(e),Nr.defaultChars+"%")}function ge(r,e){if(!(this instanceof ge))return new ge(r,e);e||Fn(r)||(e=r||{},r="default"),this.inline=new Tt,this.block=new mo,this.core=new Mn,this.renderer=new jr,this.linkify=new pe,this.validateLink=e5,this.normalizeLink=r5,this.normalizeLinkText=t5,this.utils=n3,this.helpers=po({},s3),this.options={},this.configure(r),e&&this.set(e)}ge.prototype.set=function(r){return po(this.options,r),this};ge.prototype.configure=function(r){const e=this;if(Fn(r)){const t=r;if(r=Z_[t],!r)throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!r)throw new Error("Wrong `markdown-it` preset, can't be empty");return r.options&&e.set(r.options),r.components&&Object.keys(r.components).forEach(function(t){r.components[t].rules&&e[t].ruler.enableOnly(r.components[t].rules),r.components[t].rules2&&e[t].ruler2.enableOnly(r.components[t].rules2)}),this};ge.prototype.enable=function(r,e){let t=[];Array.isArray(r)||(r=[r]),["core","block","inline"].forEach(function(n){t=t.concat(this[n].ruler.enable(r,!0))},this),t=t.concat(this.inline.ruler2.enable(r,!0));const o=r.filter(function(n){return t.indexOf(n)<0});if(o.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+o);return this};ge.prototype.disable=function(r,e){let t=[];Array.isArray(r)||(r=[r]),["core","block","inline"].forEach(function(n){t=t.concat(this[n].ruler.disable(r,!0))},this),t=t.concat(this.inline.ruler2.disable(r,!0));const o=r.filter(function(n){return t.indexOf(n)<0});if(o.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+o);return this};ge.prototype.use=function(r){const e=[this].concat(Array.prototype.slice.call(arguments,1));return r.apply(r,e),this};ge.prototype.parse=function(r,e){if(typeof r!="string")throw new Error("Input data should be a String");const t=new this.core.State(r,this,e);return this.core.process(t),t.tokens};ge.prototype.render=function(r,e){return e=e||{},this.renderer.render(this.parse(r,e),this.options,e)};ge.prototype.parseInline=function(r,e){const t=new this.core.State(r,this,e);return t.inlineMode=!0,this.core.process(t),t.tokens};ge.prototype.renderInline=function(r,e){return e=e||{},this.renderer.render(this.parseInline(r,e),this.options,e)};const o5=ge({html:!0,breaks:!0,linkify:!0}),n5=`
 **NexTavern** 

 NEXWORLD  AI 

- ****
- **AI**
- ****
- **DnD ** D20 ... 
- ****

<div style="display: flex; justify-content: center; width: 100%; margin: 1.5rem 0;">
<a href="https://nexworld.wiki/tavern/" style="display: inline-block; margin: 12px auto; padding: 10px 24px; background: #6366f1; color: white; border-radius: 6px; text-decoration: none; font-weight: 500; transition: opacity 0.2s;"> NexTavern</a>
</div>

##### 

- **[ NexTavern](https://nexworld.wiki/tavern)**:  AI 
- **[NEXWORLD ](https://nexworld.wiki)**:  NEXWORLD 
- **[](https://nexworld.wiki/blog/why-nextavern-is-different)**:  NexTavern 

---

* AI *
`.trim(),Wi=Z({name:"AppTavernView",setup(){return()=>w(rr,{header:"NexTavern",class:"my-3"},{default:()=>[w("div",{class:["stack-v"]},[w("div",{class:"markdown-body mx-auto",innerHTML:o5.render(n5.trim())})])]})}}),u5=Z({name:"AppGameView",setup(){hr();const r=an(A.cloneDeep(xi)),e=Wb();e.setupInheritedTalentWatcher(r);const t=Vb(r,e.lifeWrapper),o=d=>{r.page=d,d===""&&e.start(r,t.selectedTalents.value)},n=async()=>{await e.step(r,t.supplierForm,t.storyBoxRef,()=>e.stopAuto(r),()=>e.makeLifeSummary(r))},u=()=>{e.toggleAuto(r,()=>e.startAuto(r,n),()=>e.stopAuto(r))},a=()=>{e.clearData(r)},i=(d,l)=>e.computeOKVal(d,l,r,t.propertyPoints.value,t.restPropertyPoints.value),s=()=>Hb(r.page),c=()=>{const d=s(),l={demoData:r,lifeWrapper:e.lifeWrapper,selectedTalents:t.selectedTalents.value,propertyPoints:t.propertyPoints.value,restPropertyPoints:t.restPropertyPoints.value,onPageChange:o,onStep:n,onToggleAuto:u,onClearData:a,onComputeOKVal:i};switch(d){case"":return w(Kb,{lifeWrapper:e.lifeWrapper,onPageChange:o});case"":return w(t2,{onPageChange:o});case"":return w(n2,{demoData:r,lifeWrapper:e.lifeWrapper,onPageChange:o});case"":return w(a2,{demoData:r,lifeWrapper:e.lifeWrapper,selectedTalents:t.selectedTalents.value,onPageChange:o});case"":return w(s2,l);case"":return w(p2,{demoData:r,onPageChange:o,onStep:n,onToggleAuto:u,ref:f=>{f!=null&&f.storyBoxRef&&(t.storyBoxRef.value=f.storyBoxRef)}});case"":return w(b2,{demoData:r,lifeWrapper:e.lifeWrapper,selectedTalents:t.selectedTalents.value,onPageChange:o,onClearData:a});default:return w("div",{class:"stack-h"},[])}};return()=>w("div",{},[w(rr,{header:s()??"",class:"my-1.5rem! min-h-60vh! col"},{default:()=>w("div",{class:"stack-v"},[c()])}),w(rr,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>w("div",{class:"stack-v"},[w("div",{class:"stack-h"},[w(j,{tip:"",label:"()",icon:"pi pi-save",class:"",onClick:async()=>{await e.saveGame(r)}}),w(j,{tip:"",label:"()",icon:"pi pi-undo",class:"",onClick:async()=>{await e.loadGame(r)}})])])}),w(Wi),null])}}),a5=Z({name:"NoteEditor",props:["note","idx"],emits:["modifyNoteContent","deleteNote"],setup(r,{emit:e}){var c,d;const t=un("tooltip"),o=ke(),n=l=>{o.value.toggle(l)},u=ke(!1),a=ke((c=r==null?void 0:r.note)==null?void 0:c.title),i=ke((d=r==null?void 0:r.note)==null?void 0:d.content),s=ke([{label:"",icon:"pi pi-pencil",command:()=>{u.value=!0}},{label:"",icon:"pi pi-trash",command:()=>{var l;e("deleteNote",{id:(l=r==null?void 0:r.note)==null?void 0:l.id})}}]);return()=>{var l,f,p;return w(rr,{key:`note[${r==null?void 0:r.idx}][${(l=r==null?void 0:r.note)==null?void 0:l.id}]`,header:`[${(f=r==null?void 0:r.note)==null?void 0:f.id}] ${((p=r==null?void 0:r.note)==null?void 0:p.title)??""}`},{default:()=>{var h;return w("div",{},[u.value?null:w("pre",{},(h=r==null?void 0:r.note)==null?void 0:h.content),u.value?w("div",{class:"my-3 flex flex-col flex-wrap gap-2 flex-content-around"},[w(Qu,{fluid:!0,modelValue:a.value,"onUpdate:modelValue":g=>{a.value=g}}),w(vs,{fluid:!0,rows:4,modelValue:i.value,"onUpdate:modelValue":g=>{i.value=g}})]):null,u.value?w("div",{class:"mt-3 flex flex-row flex-wrap gap-2 flex-content-around"},[w(Se,{class:"ml-auto",label:"",severity:"secondary",size:"small",onClick:()=>{var g;e("modifyNoteContent",{shadow:{id:(g=r==null?void 0:r.note)==null?void 0:g.id},content:i.value,title:a.value,callback:b=>{b===0&&(u.value=!1)}})}}),w(Se,{label:"",severity:"secondary",size:"small",onClick:()=>{u.value=!1}})]):null])},icons:()=>{var h;return[rt(w(Se,{icon:"pi pi-pencil",severity:"secondary",rounded:!0,text:!0,onClick:()=>{u.value=!0}}),[[t,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]]),rt(w(Se,{icon:"pi pi-trash",severity:"secondary",rounded:!0,text:!0,onClick:()=>{var g;e("deleteNote",{id:(g=r==null?void 0:r.note)==null?void 0:g.id})}}),[[t,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]]),rt(w(Se,{icon:"pi pi-cog",severity:"secondary",rounded:!0,text:!0,onClick:n}),[[t,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]]),w(ks,{ref:o,id:`menu-of-note[${r==null?void 0:r.idx}][${(h=r==null?void 0:r.note)==null?void 0:h.id}]`,model:s.value,popup:!0})]}})}}}),i5=nn("notesStore",{state:()=>({notes:[]}),getters:{count:r=>r.notes.length,maxId:r=>{var e;return((e=A.maxBy(r.notes,"id"))==null?void 0:e.id)??0}},actions:{addNote(r){r.id=this.maxId+1,r.timestamp=Date.now(),this.notes.unshift(r)},addNoteByContent(r,e){const t={content:r,title:e,id:this.maxId+1,timestamp:Date.now()};this.notes.unshift(t)},removeNote(r){A.remove(this.notes,r)},modifyNoteContent(r,e,t,o){console.log({shadow:r,title:t,content:e});const n=this.notes.find(u=>A.isMatch(u,r));if(n){const u=this.notes.indexOf(n),a={...A.cloneDeep(n),content:e,title:t};this.notes.splice(u,1,a),o==null||o(0)}else o==null||o(-1)}},persist:{serializer:{deserialize:er.parse,serialize:er.stringify}}}),s5=Z({name:"AppNotesView",setup(){const r=hr(),e=un("tooltip"),t=i5(),{addNote:o,removeNote:n,modifyNoteContent:u}=t,{notes:a,count:i}=zu(t);return()=>w(rr,{header:` ${i.value} `,toggleable:!0,class:"my-3"},{default:()=>[w("div",{class:["flex flex-row flex-items-center flex-wrap gap-2 flex-content-around flex-justify-around"]},[rt(w(Se,{label:"",onClick:()=>{o({content:""})}}),[[e,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]])]),w(Cs,{value:a.value,dataKey:"id",paginator:!0,rows:20},{empty:()=>w("div",{class:"my-3"},[""]),list:s=>s.items.map((c,d)=>w(a5,{class:"my-3",note:c,idx:d,key:`note[${d}][${c.id}]`,onDeleteNote:l=>{n(l)},onModifyNoteContent:({shadow:l,content:f,title:p,callback:h})=>{console.log({shadow:l,content:f,title:p,callback:h}),u(l,f,p,g=>{g===0||r.add({severity:"error",summary:"",detail:`${g}
${JSON.stringify(l)}`,life:3e3}),h==null||h(g)})}}))})]})}}),c5=ge({breaks:!0,linkify:!0}),l5=`
###   AI 

 ** AI ** (Life Restart Simulator AI Edition) [NEXWORLD](https://nexworld.wiki) [](https://github.com/VickScarlet/lifeRestart)

 (LLM) 

####  

- ** AI **AI 
- ** ** AI 
- ** **IndexedDB
- ** ** DeepSeekOpenAI  AI 
- ** ** Vue 3PrimeVue 4  UnoCSS 

####   (Roadmap)

- [x]  AI 
- [x]  API 
- [x]  (IndexedDB)
- [ ] 

####  

- **[NexWorld ](https://nexworld.wiki)**:  AI 
- **[GitHub ](https://github.com/nex-world/lifeRestart-AI)**: 

---

* AI *
`,d5=Z({name:"AppAboutView",setup(){return()=>w(rr,{header:"",class:"my-3"},{default:()=>[w("div",{class:["stack-v"]},[w("div",{class:"markdown-body",innerHTML:c5.render(l5.trim())})])]})}}),Iu=[{name:"DeepSeek",type:"ChatSupplier",desc:"DeepSeek",docUrl:"https://platform.deepseek.com/docs",baseUrl:"https://api.deepseek.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://help.aliyun.com/zh/model-studio/user-guide/multi-round-conversation?spm=a2c4g.11186623.help-menu-2400256.d_1_0_0_4.1b54b0a8Obvgrf",baseUrl:"https://dashscope.aliyuncs.com/compatible-mode/v1",defaultModel:"deepseek-v3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://doc.zhizengzeng.com/",baseUrl:"https://api.zhizengzeng.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://docs.siliconflow.cn/",baseUrl:"https://api.siliconflow.cn/v1",defaultModel:"deepseek-ai/DeepSeek-V3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"ZhiPu",type:"ChatSupplier",desc:"",docUrl:"https://open.bigmodel.cn/dev/api",baseUrl:"https://open.bigmodel.cn/api/paas/v4",defaultModel:"glm-4",chatUrl:"/chat/completions",modelsUrl:"/models",models:[{id:"glm-4"},{id:"glm-4-air"},{id:"glm-4-flash"},{id:"glm-3-turbo"}]},{name:"Moonshot",type:"ChatSupplier",desc:"Moonshot",docUrl:"https://platform.moonshot.cn/docs/api-reference",baseUrl:"https://api.moonshot.cn/v1",defaultModel:"moonshot-v1-8k",chatUrl:"/chat/completions",modelsUrl:"/models",balanceUrl:"/users/me/balance",countTokenUrl:"/tokenizers/estimate-token-count"},{name:"OpenAI",type:"ChatSupplier",desc:"OpenAI",docUrl:"https://platform.openai.com/docs/api-reference/chat",baseUrl:"https://api.openai.com/v1",defaultModel:"gpt-3.5-turbo",chatUrl:"/chat/completions",modelsUrl:"/models",notes:`
    https://cookbook.openai.com/examples/how_to_count_tokens_with_tiktoken
    `.trim()},{name:"",type:"ChatSupplier",desc:"",docUrl:"",baseUrl:"https://api.132999.xyz/v1",defaultModel:"gpt-3.5-turbo",chatUrl:"/chat/completions",modelsUrl:"/models"}],Fu={label:"[[<DEFAULT>]]"},f5=Z({name:"AppConfigView",setup(){const r=an({selectedSupplier:Iu[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),e=Ze(()=>{var u,a,i;const n={name:(u=r.selectedSupplier)==null?void 0:u.defaultModel};return((i=r.selectedModelDict[(a=r.selectedSupplier)==null?void 0:a.name])==null?void 0:i.name)==Fu.label?n:r.selectedModelDict[r.selectedSupplier.name]??n}),t=Ze(()=>{var n;return r.supplierModelsDict[(n=r.selectedSupplier)==null?void 0:n.name]??[]}),o=Ze(()=>[{name:Fu.label},...t.value.map(n=>({name:(n==null?void 0:n.label)??(n==null?void 0:n.name)??(n==null?void 0:n.id)}))]);return Gt(async()=>{const n=await at("supplierForm");n!=null&&Object.assign(r,n)}),()=>[w(rr,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var n;return w("div",{class:"stack-v"},[w(jn,{name:"supplier",options:Iu,optionLabel:"name",placeholder:"",fluid:!0,modelValue:r.selectedSupplier,"onUpdate:modelValue":u=>{r.selectedSupplier=u}}),w(Qu,{type:"password",name:"apiKey",placeholder:"API Key",fluid:!0,modelValue:r.apiKeyDict[(n=r.selectedSupplier)==null?void 0:n.name],"onUpdate:modelValue":u=>{r.apiKeyDict[r.selectedSupplier.name]=u,it("supplierForm",r)}}),w("div",{class:"stack-h w-full"},[w(jn,{name:"model",options:o.value,optionLabel:"name",placeholder:"",class:"grow-1",modelValue:e.value,"onUpdate:modelValue":u=>{r.selectedModelDict[r.selectedSupplier.name]=u,it("supplierForm",r)}}),w(j,{icon:"pi pi-trash",label:"",command:()=>{Db(r.selectedSupplier,r)}})]),w(j,{size:"small",icon:"pi pi-trash",label:"debug",command:()=>{console.log({supplierForm:r,selectedModel:e.value})}})])}})]}}),h5=[{path:"/:pathMatch(.*)*",name:"404",component:rm},{path:"/",redirect:"/game"},{path:"/",name:"app-root",component:om,children:[{path:"config",name:"app-config",component:f5},{path:"game",name:"app-game",component:u5},{path:"tavern",name:"app-tavern",component:Wi},{path:"about",name:"app-about",component:d5},{path:"notes",name:"app-notes",component:s5}]}],p5=as({history:is(),routes:h5}),g5=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,m5=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,b5=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function _5(r,e){if(r==="__proto__"||r==="constructor"&&e&&typeof e=="object"&&"prototype"in e){y5(r);return}return e}function y5(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function x5(r,e={}){if(typeof r!="string")return r;const t=r.trim();if(r[0]==='"'&&r.endsWith('"')&&!r.includes("\\"))return t.slice(1,-1);if(t.length<=9){const o=t.toLowerCase();if(o==="true")return!0;if(o==="false")return!1;if(o==="undefined")return;if(o==="null")return null;if(o==="nan")return Number.NaN;if(o==="infinity")return Number.POSITIVE_INFINITY;if(o==="-infinity")return Number.NEGATIVE_INFINITY}if(!b5.test(r)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(g5.test(r)||m5.test(r)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,_5)}return JSON.parse(r)}catch(o){if(e.strict)throw o;return r}}function k5(r,e){if(r==null)return;let t=r;for(let o=0;o<e.length;o++){if(t==null||t[e[o]]==null)return;t=t[e[o]]}return t}function Un(r,e,t){if(t.length===0)return e;const o=t[0];return t.length>1&&(e=Un(typeof r!="object"||r===null||!Object.prototype.hasOwnProperty.call(r,o)?Number.isInteger(Number(t[1]))?[]:{}:r[o],e,Array.prototype.slice.call(t,1))),Number.isInteger(Number(o))&&Array.isArray(r)?r.slice()[o]:Object.assign({},r,{[o]:e})}function Vi(r,e){if(r==null||e.length===0)return r;if(e.length===1){if(r==null)return r;if(Number.isInteger(e[0])&&Array.isArray(r))return Array.prototype.slice.call(r,0).splice(e[0],1);const t={};for(const o in r)t[o]=r[o];return delete t[e[0]],t}if(r[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(r))return Array.prototype.concat.call([],r);const t={};for(const o in r)t[o]=r[o];return t}return Un(r,Vi(r[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function Ji(r,e){return e.map(t=>t.split(".")).map(t=>[t,k5(r,t)]).filter(t=>t[1]!==void 0).reduce((t,o)=>Un(t,o[1],o[0]),{})}function Gi(r,e){return e.map(t=>t.split(".")).reduce((t,o)=>Vi(t,o),r)}function Lu(r,{storage:e,serializer:t,key:o,debug:n,pick:u,omit:a,beforeHydrate:i,afterHydrate:s},c,d=!0){try{d&&(i==null||i(c));const l=e.getItem(o);if(l){const f=t.deserialize(l),p=u?Ji(f,u):f,h=a?Gi(p,a):p;r.$patch(h)}d&&(s==null||s(c))}catch(l){n&&console.error("[pinia-plugin-persistedstate]",l)}}function Mu(r,{storage:e,serializer:t,key:o,debug:n,pick:u,omit:a}){try{const i=u?Ji(r,u):r,s=a?Gi(i,a):i,c=t.serialize(s);e.setItem(o,c)}catch(i){n&&console.error("[pinia-plugin-persistedstate]",i)}}function v5(r,e,t){const{pinia:o,store:n,options:{persist:u=t}}=r;if(!u)return;if(!(n.$id in o.state.value)){const s=o._s.get(n.$id.replace("__hot:",""));s&&Promise.resolve().then(()=>s.$persist());return}const i=(Array.isArray(u)?u:u===!0?[{}]:[u]).map(e);n.$hydrate=({runHooks:s=!0}={})=>{i.forEach(c=>{Lu(n,c,r,s)})},n.$persist=()=>{i.forEach(s=>{Mu(n.$state,s)})},i.forEach(s=>{Lu(n,s,r),n.$subscribe((c,d)=>Mu(d,s),{detached:!0})})}function C5(r={}){return function(e){v5(e,t=>({key:(r.key?r.key:o=>o)(t.key??e.store.$id),debug:t.debug??r.debug??!1,serializer:t.serializer??r.serializer??{serialize:o=>JSON.stringify(o),deserialize:o=>x5(o)},storage:t.storage??r.storage??window.localStorage,beforeHydrate:t.beforeHydrate,afterHydrate:t.afterHydrate,pick:t.pick,omit:t.omit}),r.auto??!1)}}var w5=C5();const Xi=ss();Xi.use(w5);const E5=cs({legacy:!1,locale:"zh",fallbackLocale:"en",messages:{en:{message:{hello:"hello world"}},zh:{message:{hello:""}}}}),He=ls(Bs);He.use(ws,{ripple:!0,theme:{preset:em,options:{prefix:"p",darkModeSelector:`.${Oo}`,cssLayer:!1}}});He.use(p5);He.use(Xi);He.use(Es);He.use(Ss);He.use(As);He.use(E5);He.directive("tooltip",Ts);He.mount("#app");
